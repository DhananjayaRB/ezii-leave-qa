var dT=e=>{throw TypeError(e)};var R1=(e,t,r)=>t.has(e)||dT("Cannot "+r);var fe=(e,t,r)=>(R1(e,t,"read from private field"),r?r.call(e):t.get(e)),Mt=(e,t,r)=>t.has(e)?dT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(R1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Yt=(e,t,r)=>(R1(e,t,"access private method"),r);var y0=(e,t,r,n)=>({set _(a){ct(e,t,a,r)},get _(){return fe(e,t,n)}});function N7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H4={exports:{}},By={},z4={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=Symbol.for("react.element"),_7=Symbol.for("react.portal"),E7=Symbol.for("react.fragment"),T7=Symbol.for("react.strict_mode"),A7=Symbol.for("react.profiler"),C7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),k7=Symbol.for("react.forward_ref"),O7=Symbol.for("react.suspense"),P7=Symbol.for("react.memo"),I7=Symbol.for("react.lazy"),fT=Symbol.iterator;function R7(e){return e===null||typeof e!="object"?null:(e=fT&&e[fT]||e["@@iterator"],typeof e=="function"?e:null)}var q4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G4=Object.assign,K4={};function Lf(e,t,r){this.props=e,this.context=t,this.refs=K4,this.updater=r||q4}Lf.prototype.isReactComponent={};Lf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Y4(){}Y4.prototype=Lf.prototype;function DN(e,t,r){this.props=e,this.context=t,this.refs=K4,this.updater=r||q4}var kN=DN.prototype=new Y4;kN.constructor=DN;G4(kN,Lf.prototype);kN.isPureReactComponent=!0;var hT=Array.isArray,X4=Object.prototype.hasOwnProperty,ON={current:null},Q4={key:!0,ref:!0,__self:!0,__source:!0};function J4(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)X4.call(t,n)&&!Q4.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Fp,type:e,key:i,ref:o,props:a,_owner:ON.current}}function M7(e,t){return{$$typeof:Fp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function PN(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fp}function F7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mT=/\/+/g;function M1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F7(""+e.key):t.toString(36)}function xg(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fp:case _7:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+M1(o,0):n,hT(a)?(r="",e!=null&&(r=e.replace(mT,"$&/")+"/"),xg(a,t,r,"",function(u){return u})):a!=null&&(PN(a)&&(a=M7(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(mT,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",hT(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+M1(i,l);o+=xg(i,t,r,c,a)}else if(c=R7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+M1(i,l++),o+=xg(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function w0(e,t,r){if(e==null)return e;var n=[],a=0;return xg(e,n,"","",function(i){return t.call(r,i,a++)}),n}function L7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ka={current:null},yg={transition:null},$7={ReactCurrentDispatcher:ka,ReactCurrentBatchConfig:yg,ReactCurrentOwner:ON};function Z4(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:w0,forEach:function(e,t,r){w0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return w0(e,function(){t++}),t},toArray:function(e){return w0(e,function(t){return t})||[]},only:function(e){if(!PN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=Lf;Zt.Fragment=E7;Zt.Profiler=A7;Zt.PureComponent=DN;Zt.StrictMode=T7;Zt.Suspense=O7;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$7;Zt.act=Z4;Zt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=G4({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ON.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)X4.call(t,c)&&!Q4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fp,type:e.type,key:a,ref:i,props:n,_owner:o}};Zt.createContext=function(e){return e={$$typeof:D7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:C7,_context:e},e.Consumer=e};Zt.createElement=J4;Zt.createFactory=function(e){var t=J4.bind(null,e);return t.type=e,t};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:k7,render:e}};Zt.isValidElement=PN;Zt.lazy=function(e){return{$$typeof:I7,_payload:{_status:-1,_result:e},_init:L7}};Zt.memo=function(e,t){return{$$typeof:P7,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=yg.transition;yg.transition={};try{e()}finally{yg.transition=t}};Zt.unstable_act=Z4;Zt.useCallback=function(e,t){return ka.current.useCallback(e,t)};Zt.useContext=function(e){return ka.current.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e){return ka.current.useDeferredValue(e)};Zt.useEffect=function(e,t){return ka.current.useEffect(e,t)};Zt.useId=function(){return ka.current.useId()};Zt.useImperativeHandle=function(e,t,r){return ka.current.useImperativeHandle(e,t,r)};Zt.useInsertionEffect=function(e,t){return ka.current.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return ka.current.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return ka.current.useMemo(e,t)};Zt.useReducer=function(e,t,r){return ka.current.useReducer(e,t,r)};Zt.useRef=function(e){return ka.current.useRef(e)};Zt.useState=function(e){return ka.current.useState(e)};Zt.useSyncExternalStore=function(e,t,r){return ka.current.useSyncExternalStore(e,t,r)};Zt.useTransition=function(){return ka.current.useTransition()};Zt.version="18.3.1";z4.exports=Zt;var N=z4.exports;const de=Or(N),IN=N7({__proto__:null,default:de},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B7=N,U7=Symbol.for("react.element"),V7=Symbol.for("react.fragment"),W7=Object.prototype.hasOwnProperty,H7=B7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z7={key:!0,ref:!0,__self:!0,__source:!0};function eI(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)W7.call(t,n)&&!z7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:U7,type:e,key:i,ref:o,props:a,_owner:H7.current}}By.Fragment=V7;By.jsx=eI;By.jsxs=eI;H4.exports=By;var s=H4.exports,tI={exports:{}},ys={},rI={exports:{}},nI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,F){var R=C.length;C.push(F);e:for(;0<R;){var se=R-1>>>1,L=C[se];if(0<a(L,F))C[se]=F,C[R]=L,R=se;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var F=C[0],R=C.pop();if(R!==F){C[0]=R;e:for(var se=0,L=C.length,q=L>>>1;se<q;){var H=2*(se+1)-1,K=C[H],ce=H+1,ue=C[ce];if(0>a(K,R))ce<L&&0>a(ue,K)?(C[se]=ue,C[ce]=R,se=ce):(C[se]=K,C[H]=R,se=H);else if(ce<L&&0>a(ue,R))C[se]=ue,C[ce]=R,se=ce;else break e}}return F}function a(C,F){var R=C.sortIndex-F.sortIndex;return R!==0?R:C.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=C)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function v(C){if(p=!1,w(C),!g)if(r(c)!==null)g=!0,I(j);else{var F=r(u);F!==null&&P(v,F.startTime-C)}}function j(C,F){g=!1,p&&(p=!1,b(E),E=-1),m=!0;var R=h;try{for(w(F),f=r(c);f!==null&&(!(f.expirationTime>F)||C&&!O());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var L=se(f.expirationTime<=F);F=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),w(F)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var H=r(u);H!==null&&P(v,H.startTime-F),q=!1}return q}finally{f=null,h=R,m=!1}}var S=!1,_=null,E=-1,T=5,D=-1;function O(){return!(e.unstable_now()-D<T)}function A(){if(_!==null){var C=e.unstable_now();D=C;var F=!0;try{F=_(!0,C)}finally{F?M():(S=!1,_=null)}}else S=!1}var M;if(typeof x=="function")M=function(){x(A)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=A,M=function(){B.postMessage(null)}}else M=function(){y(A,0)};function I(C){_=C,S||(S=!0,M())}function P(C,F){E=y(function(){C(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var R=h;h=F;try{return C()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,F){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var R=h;h=C;try{return F()}finally{h=R}},e.unstable_scheduleCallback=function(C,F,R){var se=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?se+R:se):R=se,C){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=R+L,C={id:d++,callback:F,priorityLevel:C,startTime:R,expirationTime:L,sortIndex:-1},R>se?(C.sortIndex=R,t(u,C),r(c)===null&&C===r(u)&&(p?(b(E),E=-1):p=!0,P(v,R-se))):(C.sortIndex=L,t(c,C),g||m||(g=!0,I(j))),C},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(C){var F=h;return function(){var R=h;h=F;try{return C.apply(this,arguments)}finally{h=R}}}})(nI);rI.exports=nI;var q7=rI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G7=N,hs=q7;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aI=new Set,vm={};function wu(e,t){Kd(e,t),Kd(e+"Capture",t)}function Kd(e,t){for(vm[e]=t,e=0;e<t.length;e++)aI.add(t[e])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bb=Object.prototype.hasOwnProperty,K7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pT={},gT={};function Y7(e){return bb.call(gT,e)?!0:bb.call(pT,e)?!1:K7.test(e)?gT[e]=!0:(pT[e]=!0,!1)}function X7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q7(e,t,r,n){if(t===null||typeof t>"u"||X7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oa(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){aa[e]=new Oa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];aa[t]=new Oa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){aa[e]=new Oa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){aa[e]=new Oa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){aa[e]=new Oa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){aa[e]=new Oa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){aa[e]=new Oa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){aa[e]=new Oa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){aa[e]=new Oa(e,5,!1,e.toLowerCase(),null,!1,!1)});var RN=/[\-:]([a-z])/g;function MN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(RN,MN);aa[t]=new Oa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(RN,MN);aa[t]=new Oa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(RN,MN);aa[t]=new Oa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){aa[e]=new Oa(e,1,!1,e.toLowerCase(),null,!1,!1)});aa.xlinkHref=new Oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){aa[e]=new Oa(e,1,!1,e.toLowerCase(),null,!0,!0)});function FN(e,t,r,n){var a=aa.hasOwnProperty(t)?aa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q7(t,r,a,n)&&(r=null),n||a===null?Y7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zo=G7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b0=Symbol.for("react.element"),rd=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),LN=Symbol.for("react.strict_mode"),jb=Symbol.for("react.profiler"),sI=Symbol.for("react.provider"),iI=Symbol.for("react.context"),$N=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),Nb=Symbol.for("react.suspense_list"),BN=Symbol.for("react.memo"),sl=Symbol.for("react.lazy"),oI=Symbol.for("react.offscreen"),xT=Symbol.iterator;function ph(e){return e===null||typeof e!="object"?null:(e=xT&&e[xT]||e["@@iterator"],typeof e=="function"?e:null)}var Yr=Object.assign,F1;function Uh(e){if(F1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F1=t&&t[1]||""}return`
`+F1+e}var L1=!1;function $1(e,t){if(!e||L1)return"";L1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{L1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uh(e):""}function J7(e){switch(e.tag){case 5:return Uh(e.type);case 16:return Uh("Lazy");case 13:return Uh("Suspense");case 19:return Uh("SuspenseList");case 0:case 2:case 15:return e=$1(e.type,!1),e;case 11:return e=$1(e.type.render,!1),e;case 1:return e=$1(e.type,!0),e;default:return""}}function _b(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nd:return"Fragment";case rd:return"Portal";case jb:return"Profiler";case LN:return"StrictMode";case Sb:return"Suspense";case Nb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iI:return(e.displayName||"Context")+".Consumer";case sI:return(e._context.displayName||"Context")+".Provider";case $N:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case BN:return t=e.displayName||null,t!==null?t:_b(e.type)||"Memo";case sl:t=e._payload,e=e._init;try{return _b(e(t))}catch{}}return null}function Z7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _b(t);case 8:return t===LN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eU(e){var t=lI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function j0(e){e._valueTracker||(e._valueTracker=eU(e))}function cI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eb(e,t){var r=t.checked;return Yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uI(e,t){t=t.checked,t!=null&&FN(e,"checked",t,!1)}function Tb(e,t){uI(e,t);var r=Gl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ab(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ab(e,t.type,Gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ab(e,t,r){(t!=="number"||Fg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vh=Array.isArray;function yd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Cb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(Vh(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gl(r)}}function dI(e,t){var r=Gl(t.value),n=Gl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Db(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var S0,hI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(S0=S0||document.createElement("div"),S0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=S0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tU=["Webkit","ms","Moz","O"];Object.keys(Qh).forEach(function(e){tU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qh[t]=Qh[e]})});function mI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qh.hasOwnProperty(e)&&Qh[e]?(""+t).trim():t+"px"}function pI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=mI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var rU=Yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kb(e,t){if(t){if(rU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function Ob(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pb=null;function UN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ib=null,vd=null,wd=null;function jT(e){if(e=Bp(e)){if(typeof Ib!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=zy(t),Ib(e.stateNode,e.type,t))}}function gI(e){vd?wd?wd.push(e):wd=[e]:vd=e}function xI(){if(vd){var e=vd,t=wd;if(wd=vd=null,jT(e),t)for(e=0;e<t.length;e++)jT(t[e])}}function yI(e,t){return e(t)}function vI(){}var B1=!1;function wI(e,t,r){if(B1)return e(t,r);B1=!0;try{return yI(e,t,r)}finally{B1=!1,(vd!==null||wd!==null)&&(vI(),xI())}}function bm(e,t){var r=e.stateNode;if(r===null)return null;var n=zy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var Rb=!1;if(Po)try{var gh={};Object.defineProperty(gh,"passive",{get:function(){Rb=!0}}),window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{Rb=!1}function nU(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Jh=!1,Lg=null,$g=!1,Mb=null,aU={onError:function(e){Jh=!0,Lg=e}};function sU(e,t,r,n,a,i,o,l,c){Jh=!1,Lg=null,nU.apply(aU,arguments)}function iU(e,t,r,n,a,i,o,l,c){if(sU.apply(this,arguments),Jh){if(Jh){var u=Lg;Jh=!1,Lg=null}else throw Error(Ve(198));$g||($g=!0,Mb=u)}}function bu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ST(e){if(bu(e)!==e)throw Error(Ve(188))}function oU(e){var t=e.alternate;if(!t){if(t=bu(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ST(a),e;if(i===n)return ST(a),t;i=i.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function jI(e){return e=oU(e),e!==null?SI(e):null}function SI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=SI(e);if(t!==null)return t;e=e.sibling}return null}var NI=hs.unstable_scheduleCallback,NT=hs.unstable_cancelCallback,lU=hs.unstable_shouldYield,cU=hs.unstable_requestPaint,an=hs.unstable_now,uU=hs.unstable_getCurrentPriorityLevel,VN=hs.unstable_ImmediatePriority,_I=hs.unstable_UserBlockingPriority,Bg=hs.unstable_NormalPriority,dU=hs.unstable_LowPriority,EI=hs.unstable_IdlePriority,Uy=null,Ui=null;function fU(e){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Uy,e,void 0,(e.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:pU,hU=Math.log,mU=Math.LN2;function pU(e){return e>>>=0,e===0?32:31-(hU(e)/mU|0)|0}var N0=64,_0=4194304;function Wh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ug(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Wh(l):(i&=o,i!==0&&(n=Wh(i)))}else o=r&~a,o!==0?n=Wh(o):i!==0&&(n=Wh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fi(t),a=1<<r,n|=e[r],t&=~a;return n}function gU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xU(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fi(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=gU(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Fb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TI(){var e=N0;return N0<<=1,!(N0&4194240)&&(N0=64),e}function U1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fi(t),e[t]=r}function yU(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-fi(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function WN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var _r=0;function AI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CI,HN,DI,kI,OI,Lb=!1,E0=[],Dl=null,kl=null,Ol=null,jm=new Map,Sm=new Map,cl=[],vU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _T(e,t){switch(e){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":jm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sm.delete(t.pointerId)}}function xh(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Bp(t),t!==null&&HN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wU(e,t,r,n,a){switch(t){case"focusin":return Dl=xh(Dl,e,t,r,n,a),!0;case"dragenter":return kl=xh(kl,e,t,r,n,a),!0;case"mouseover":return Ol=xh(Ol,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return jm.set(i,xh(jm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Sm.set(i,xh(Sm.get(i)||null,e,t,r,n,a)),!0}return!1}function PI(e){var t=Ac(e.target);if(t!==null){var r=bu(t);if(r!==null){if(t=r.tag,t===13){if(t=bI(r),t!==null){e.blockedOn=t,OI(e.priority,function(){DI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$b(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pb=n,r.target.dispatchEvent(n),Pb=null}else return t=Bp(r),t!==null&&HN(t),e.blockedOn=r,!1;t.shift()}return!0}function ET(e,t,r){vg(e)&&r.delete(t)}function bU(){Lb=!1,Dl!==null&&vg(Dl)&&(Dl=null),kl!==null&&vg(kl)&&(kl=null),Ol!==null&&vg(Ol)&&(Ol=null),jm.forEach(ET),Sm.forEach(ET)}function yh(e,t){e.blockedOn===t&&(e.blockedOn=null,Lb||(Lb=!0,hs.unstable_scheduleCallback(hs.unstable_NormalPriority,bU)))}function Nm(e){function t(a){return yh(a,e)}if(0<E0.length){yh(E0[0],e);for(var r=1;r<E0.length;r++){var n=E0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dl!==null&&yh(Dl,e),kl!==null&&yh(kl,e),Ol!==null&&yh(Ol,e),jm.forEach(t),Sm.forEach(t),r=0;r<cl.length;r++)n=cl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cl.length&&(r=cl[0],r.blockedOn===null);)PI(r),r.blockedOn===null&&cl.shift()}var bd=zo.ReactCurrentBatchConfig,Vg=!0;function jU(e,t,r,n){var a=_r,i=bd.transition;bd.transition=null;try{_r=1,zN(e,t,r,n)}finally{_r=a,bd.transition=i}}function SU(e,t,r,n){var a=_r,i=bd.transition;bd.transition=null;try{_r=4,zN(e,t,r,n)}finally{_r=a,bd.transition=i}}function zN(e,t,r,n){if(Vg){var a=$b(e,t,r,n);if(a===null)Q1(e,t,n,Wg,r),_T(e,n);else if(wU(a,e,t,r,n))n.stopPropagation();else if(_T(e,n),t&4&&-1<vU.indexOf(e)){for(;a!==null;){var i=Bp(a);if(i!==null&&CI(i),i=$b(e,t,r,n),i===null&&Q1(e,t,n,Wg,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Q1(e,t,n,null,r)}}var Wg=null;function $b(e,t,r,n){if(Wg=null,e=UN(n),e=Ac(e),e!==null)if(t=bu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wg=e,null}function II(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uU()){case VN:return 1;case _I:return 4;case Bg:case dU:return 16;case EI:return 536870912;default:return 16}default:return 16}}var jl=null,qN=null,wg=null;function RI(){if(wg)return wg;var e,t=qN,r=t.length,n,a="value"in jl?jl.value:jl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return wg=a.slice(e,1<n?1-n:void 0)}function bg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function T0(){return!0}function TT(){return!1}function vs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?T0:TT,this.isPropagationStopped=TT,this}return Yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=T0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=T0)},persist:function(){},isPersistent:T0}),t}var $f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GN=vs($f),$p=Yr({},$f,{view:0,detail:0}),NU=vs($p),V1,W1,vh,Vy=Yr({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vh&&(vh&&e.type==="mousemove"?(V1=e.screenX-vh.screenX,W1=e.screenY-vh.screenY):W1=V1=0,vh=e),V1)},movementY:function(e){return"movementY"in e?e.movementY:W1}}),AT=vs(Vy),_U=Yr({},Vy,{dataTransfer:0}),EU=vs(_U),TU=Yr({},$p,{relatedTarget:0}),H1=vs(TU),AU=Yr({},$f,{animationName:0,elapsedTime:0,pseudoElement:0}),CU=vs(AU),DU=Yr({},$f,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kU=vs(DU),OU=Yr({},$f,{data:0}),CT=vs(OU),PU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RU[e])?!!t[e]:!1}function KN(){return MU}var FU=Yr({},$p,{key:function(e){if(e.key){var t=PU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KN,charCode:function(e){return e.type==="keypress"?bg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LU=vs(FU),$U=Yr({},Vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DT=vs($U),BU=Yr({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KN}),UU=vs(BU),VU=Yr({},$f,{propertyName:0,elapsedTime:0,pseudoElement:0}),WU=vs(VU),HU=Yr({},Vy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zU=vs(HU),qU=[9,13,27,32],YN=Po&&"CompositionEvent"in window,Zh=null;Po&&"documentMode"in document&&(Zh=document.documentMode);var GU=Po&&"TextEvent"in window&&!Zh,MI=Po&&(!YN||Zh&&8<Zh&&11>=Zh),kT=" ",OT=!1;function FI(e,t){switch(e){case"keyup":return qU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ad=!1;function KU(e,t){switch(e){case"compositionend":return LI(t);case"keypress":return t.which!==32?null:(OT=!0,kT);case"textInput":return e=t.data,e===kT&&OT?null:e;default:return null}}function YU(e,t){if(ad)return e==="compositionend"||!YN&&FI(e,t)?(e=RI(),wg=qN=jl=null,ad=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MI&&t.locale!=="ko"?null:t.data;default:return null}}var XU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XU[e.type]:t==="textarea"}function $I(e,t,r,n){gI(n),t=Hg(t,"onChange"),0<t.length&&(r=new GN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var em=null,_m=null;function QU(e){XI(e,0)}function Wy(e){var t=od(e);if(cI(t))return e}function JU(e,t){if(e==="change")return t}var BI=!1;if(Po){var z1;if(Po){var q1="oninput"in document;if(!q1){var IT=document.createElement("div");IT.setAttribute("oninput","return;"),q1=typeof IT.oninput=="function"}z1=q1}else z1=!1;BI=z1&&(!document.documentMode||9<document.documentMode)}function RT(){em&&(em.detachEvent("onpropertychange",UI),_m=em=null)}function UI(e){if(e.propertyName==="value"&&Wy(_m)){var t=[];$I(t,_m,e,UN(e)),wI(QU,t)}}function ZU(e,t,r){e==="focusin"?(RT(),em=t,_m=r,em.attachEvent("onpropertychange",UI)):e==="focusout"&&RT()}function eV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wy(_m)}function tV(e,t){if(e==="click")return Wy(t)}function rV(e,t){if(e==="input"||e==="change")return Wy(t)}function nV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gi=typeof Object.is=="function"?Object.is:nV;function Em(e,t){if(gi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!bb.call(t,a)||!gi(e[a],t[a]))return!1}return!0}function MT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FT(e,t){var r=MT(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=MT(r)}}function VI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?VI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function WI(){for(var e=window,t=Fg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fg(e.document)}return t}function XN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aV(e){var t=WI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&VI(r.ownerDocument.documentElement,r)){if(n!==null&&XN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=FT(r,i);var o=FT(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sV=Po&&"documentMode"in document&&11>=document.documentMode,sd=null,Bb=null,tm=null,Ub=!1;function LT(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ub||sd==null||sd!==Fg(n)||(n=sd,"selectionStart"in n&&XN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tm&&Em(tm,n)||(tm=n,n=Hg(Bb,"onSelect"),0<n.length&&(t=new GN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sd)))}function A0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var id={animationend:A0("Animation","AnimationEnd"),animationiteration:A0("Animation","AnimationIteration"),animationstart:A0("Animation","AnimationStart"),transitionend:A0("Transition","TransitionEnd")},G1={},HI={};Po&&(HI=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function Hy(e){if(G1[e])return G1[e];if(!id[e])return e;var t=id[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HI)return G1[e]=t[r];return e}var zI=Hy("animationend"),qI=Hy("animationiteration"),GI=Hy("animationstart"),KI=Hy("transitionend"),YI=new Map,$T="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ac(e,t){YI.set(e,t),wu(t,[e])}for(var K1=0;K1<$T.length;K1++){var Y1=$T[K1],iV=Y1.toLowerCase(),oV=Y1[0].toUpperCase()+Y1.slice(1);ac(iV,"on"+oV)}ac(zI,"onAnimationEnd");ac(qI,"onAnimationIteration");ac(GI,"onAnimationStart");ac("dblclick","onDoubleClick");ac("focusin","onFocus");ac("focusout","onBlur");ac(KI,"onTransitionEnd");Kd("onMouseEnter",["mouseout","mouseover"]);Kd("onMouseLeave",["mouseout","mouseover"]);Kd("onPointerEnter",["pointerout","pointerover"]);Kd("onPointerLeave",["pointerout","pointerover"]);wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function BT(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iU(n,t,void 0,e),e.currentTarget=null}function XI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;BT(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;BT(a,l,u),i=c}}}if($g)throw e=Mb,$g=!1,Mb=null,e}function $r(e,t){var r=t[qb];r===void 0&&(r=t[qb]=new Set);var n=e+"__bubble";r.has(n)||(QI(t,e,2,!1),r.add(n))}function X1(e,t,r){var n=0;t&&(n|=4),QI(r,e,n,t)}var C0="_reactListening"+Math.random().toString(36).slice(2);function Tm(e){if(!e[C0]){e[C0]=!0,aI.forEach(function(r){r!=="selectionchange"&&(lV.has(r)||X1(r,!1,e),X1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[C0]||(t[C0]=!0,X1("selectionchange",!1,t))}}function QI(e,t,r,n){switch(II(t)){case 1:var a=jU;break;case 4:a=SU;break;default:a=zN}r=a.bind(null,t,r,e),a=void 0,!Rb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Q1(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ac(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}wI(function(){var u=i,d=UN(r),f=[];e:{var h=YI.get(e);if(h!==void 0){var m=GN,g=e;switch(e){case"keypress":if(bg(r)===0)break e;case"keydown":case"keyup":m=LU;break;case"focusin":g="focus",m=H1;break;case"focusout":g="blur",m=H1;break;case"beforeblur":case"afterblur":m=H1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=AT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UU;break;case zI:case qI:case GI:m=CU;break;case KI:m=WU;break;case"scroll":m=NU;break;case"wheel":m=zU;break;case"copy":case"cut":case"paste":m=kU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=DT}var p=(t&4)!==0,y=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,w;x!==null;){w=x;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,b!==null&&(v=bm(x,b),v!=null&&p.push(Am(x,v,w)))),y)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Pb&&(g=r.relatedTarget||r.fromElement)&&(Ac(g)||g[Io]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Ac(g):null,g!==null&&(y=bu(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=AT,v="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=DT,v="onPointerLeave",b="onPointerEnter",x="pointer"),y=m==null?h:od(m),w=g==null?h:od(g),h=new p(v,x+"leave",m,r,d),h.target=y,h.relatedTarget=w,v=null,Ac(d)===u&&(p=new p(b,x+"enter",g,r,d),p.target=w,p.relatedTarget=y,v=p),y=v,m&&g)t:{for(p=m,b=g,x=0,w=p;w;w=Lu(w))x++;for(w=0,v=b;v;v=Lu(v))w++;for(;0<x-w;)p=Lu(p),x--;for(;0<w-x;)b=Lu(b),w--;for(;x--;){if(p===b||b!==null&&p===b.alternate)break t;p=Lu(p),b=Lu(b)}p=null}else p=null;m!==null&&UT(f,h,m,p,!1),g!==null&&y!==null&&UT(f,y,g,p,!0)}}e:{if(h=u?od(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=JU;else if(PT(h))if(BI)j=rV;else{j=eV;var S=ZU}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=tV);if(j&&(j=j(e,u))){$I(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Ab(h,"number",h.value)}switch(S=u?od(u):window,e){case"focusin":(PT(S)||S.contentEditable==="true")&&(sd=S,Bb=u,tm=null);break;case"focusout":tm=Bb=sd=null;break;case"mousedown":Ub=!0;break;case"contextmenu":case"mouseup":case"dragend":Ub=!1,LT(f,r,d);break;case"selectionchange":if(sV)break;case"keydown":case"keyup":LT(f,r,d)}var _;if(YN)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ad?FI(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(MI&&r.locale!=="ko"&&(ad||E!=="onCompositionStart"?E==="onCompositionEnd"&&ad&&(_=RI()):(jl=d,qN="value"in jl?jl.value:jl.textContent,ad=!0)),S=Hg(u,E),0<S.length&&(E=new CT(E,e,null,r,d),f.push({event:E,listeners:S}),_?E.data=_:(_=LI(r),_!==null&&(E.data=_)))),(_=GU?KU(e,r):YU(e,r))&&(u=Hg(u,"onBeforeInput"),0<u.length&&(d=new CT("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}XI(f,t)})}function Am(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hg(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=bm(e,r),i!=null&&n.unshift(Am(e,i,a)),i=bm(e,t),i!=null&&n.push(Am(e,i,a))),e=e.return}return n}function Lu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function UT(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=bm(r,i),c!=null&&o.unshift(Am(r,c,l))):a||(c=bm(r,i),c!=null&&o.push(Am(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var cV=/\r\n?/g,uV=/\u0000|\uFFFD/g;function VT(e){return(typeof e=="string"?e:""+e).replace(cV,`
`).replace(uV,"")}function D0(e,t,r){if(t=VT(t),VT(e)!==t&&r)throw Error(Ve(425))}function zg(){}var Vb=null,Wb=null;function Hb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zb=typeof setTimeout=="function"?setTimeout:void 0,dV=typeof clearTimeout=="function"?clearTimeout:void 0,WT=typeof Promise=="function"?Promise:void 0,fV=typeof queueMicrotask=="function"?queueMicrotask:typeof WT<"u"?function(e){return WT.resolve(null).then(e).catch(hV)}:zb;function hV(e){setTimeout(function(){throw e})}function J1(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Nm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Nm(t)}function Pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function HT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bf=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Bf,Cm="__reactProps$"+Bf,Io="__reactContainer$"+Bf,qb="__reactEvents$"+Bf,mV="__reactListeners$"+Bf,pV="__reactHandles$"+Bf;function Ac(e){var t=e[Mi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Io]||r[Mi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=HT(e);e!==null;){if(r=e[Mi])return r;e=HT(e)}return t}e=r,r=e.parentNode}return null}function Bp(e){return e=e[Mi]||e[Io],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function zy(e){return e[Cm]||null}var Gb=[],ld=-1;function sc(e){return{current:e}}function Vr(e){0>ld||(e.current=Gb[ld],Gb[ld]=null,ld--)}function Mr(e,t){ld++,Gb[ld]=e.current,e.current=t}var Kl={},xa=sc(Kl),Ua=sc(!1),Jc=Kl;function Yd(e,t){var r=e.type.contextTypes;if(!r)return Kl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Va(e){return e=e.childContextTypes,e!=null}function qg(){Vr(Ua),Vr(xa)}function zT(e,t,r){if(xa.current!==Kl)throw Error(Ve(168));Mr(xa,t),Mr(Ua,r)}function JI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ve(108,Z7(e)||"Unknown",a));return Yr({},r,n)}function Gg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kl,Jc=xa.current,Mr(xa,e),Mr(Ua,Ua.current),!0}function qT(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=JI(e,t,Jc),n.__reactInternalMemoizedMergedChildContext=e,Vr(Ua),Vr(xa),Mr(xa,e)):Vr(Ua),Mr(Ua,r)}var uo=null,qy=!1,Z1=!1;function ZI(e){uo===null?uo=[e]:uo.push(e)}function gV(e){qy=!0,ZI(e)}function ic(){if(!Z1&&uo!==null){Z1=!0;var e=0,t=_r;try{var r=uo;for(_r=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}uo=null,qy=!1}catch(a){throw uo!==null&&(uo=uo.slice(e+1)),NI(VN,ic),a}finally{_r=t,Z1=!1}}return null}var cd=[],ud=0,Kg=null,Yg=0,Ds=[],ks=0,Zc=null,go=1,xo="";function bc(e,t){cd[ud++]=Yg,cd[ud++]=Kg,Kg=e,Yg=t}function eR(e,t,r){Ds[ks++]=go,Ds[ks++]=xo,Ds[ks++]=Zc,Zc=e;var n=go;e=xo;var a=32-fi(n)-1;n&=~(1<<a),r+=1;var i=32-fi(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,go=1<<32-fi(t)+a|r<<a|n,xo=i+e}else go=1<<i|r<<a|n,xo=e}function QN(e){e.return!==null&&(bc(e,1),eR(e,1,0))}function JN(e){for(;e===Kg;)Kg=cd[--ud],cd[ud]=null,Yg=cd[--ud],cd[ud]=null;for(;e===Zc;)Zc=Ds[--ks],Ds[ks]=null,xo=Ds[--ks],Ds[ks]=null,go=Ds[--ks],Ds[ks]=null}var ds=null,ls=null,Hr=!1,ri=null;function tR(e,t){var r=Ps(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function GT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ds=e,ls=Pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ds=e,ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zc!==null?{id:go,overflow:xo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ps(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ds=e,ls=null,!0):!1;default:return!1}}function Kb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yb(e){if(Hr){var t=ls;if(t){var r=t;if(!GT(e,t)){if(Kb(e))throw Error(Ve(418));t=Pl(r.nextSibling);var n=ds;t&&GT(e,t)?tR(n,r):(e.flags=e.flags&-4097|2,Hr=!1,ds=e)}}else{if(Kb(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Hr=!1,ds=e}}}function KT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ds=e}function k0(e){if(e!==ds)return!1;if(!Hr)return KT(e),Hr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hb(e.type,e.memoizedProps)),t&&(t=ls)){if(Kb(e))throw rR(),Error(Ve(418));for(;t;)tR(e,t),t=Pl(t.nextSibling)}if(KT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ls=Pl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ls=null}}else ls=ds?Pl(e.stateNode.nextSibling):null;return!0}function rR(){for(var e=ls;e;)e=Pl(e.nextSibling)}function Xd(){ls=ds=null,Hr=!1}function ZN(e){ri===null?ri=[e]:ri.push(e)}var xV=zo.ReactCurrentBatchConfig;function wh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function O0(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function YT(e){var t=e._init;return t(e._payload)}function nR(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=Fl(b,x),b.index=0,b.sibling=null,b}function i(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,v){return x===null||x.tag!==6?(x=iw(w,b.mode,v),x.return=b,x):(x=a(x,w),x.return=b,x)}function c(b,x,w,v){var j=w.type;return j===nd?d(b,x,w.props.children,v,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sl&&YT(j)===x.type)?(v=a(x,w.props),v.ref=wh(b,x,w),v.return=b,v):(v=Ag(w.type,w.key,w.props,null,b.mode,v),v.ref=wh(b,x,w),v.return=b,v)}function u(b,x,w,v){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=ow(w,b.mode,v),x.return=b,x):(x=a(x,w.children||[]),x.return=b,x)}function d(b,x,w,v,j){return x===null||x.tag!==7?(x=Gc(w,b.mode,v,j),x.return=b,x):(x=a(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=iw(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b0:return w=Ag(x.type,x.key,x.props,null,b.mode,w),w.ref=wh(b,null,x),w.return=b,w;case rd:return x=ow(x,b.mode,w),x.return=b,x;case sl:var v=x._init;return f(b,v(x._payload),w)}if(Vh(x)||ph(x))return x=Gc(x,b.mode,w,null),x.return=b,x;O0(b,x)}return null}function h(b,x,w,v){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,x,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b0:return w.key===j?c(b,x,w,v):null;case rd:return w.key===j?u(b,x,w,v):null;case sl:return j=w._init,h(b,x,j(w._payload),v)}if(Vh(w)||ph(w))return j!==null?null:d(b,x,w,v,null);O0(b,w)}return null}function m(b,x,w,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return b=b.get(w)||null,l(x,b,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case b0:return b=b.get(v.key===null?w:v.key)||null,c(x,b,v,j);case rd:return b=b.get(v.key===null?w:v.key)||null,u(x,b,v,j);case sl:var S=v._init;return m(b,x,w,S(v._payload),j)}if(Vh(v)||ph(v))return b=b.get(w)||null,d(x,b,v,j,null);O0(x,v)}return null}function g(b,x,w,v){for(var j=null,S=null,_=x,E=x=0,T=null;_!==null&&E<w.length;E++){_.index>E?(T=_,_=null):T=_.sibling;var D=h(b,_,w[E],v);if(D===null){_===null&&(_=T);break}e&&_&&D.alternate===null&&t(b,_),x=i(D,x,E),S===null?j=D:S.sibling=D,S=D,_=T}if(E===w.length)return r(b,_),Hr&&bc(b,E),j;if(_===null){for(;E<w.length;E++)_=f(b,w[E],v),_!==null&&(x=i(_,x,E),S===null?j=_:S.sibling=_,S=_);return Hr&&bc(b,E),j}for(_=n(b,_);E<w.length;E++)T=m(_,b,E,w[E],v),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?E:T.key),x=i(T,x,E),S===null?j=T:S.sibling=T,S=T);return e&&_.forEach(function(O){return t(b,O)}),Hr&&bc(b,E),j}function p(b,x,w,v){var j=ph(w);if(typeof j!="function")throw Error(Ve(150));if(w=j.call(w),w==null)throw Error(Ve(151));for(var S=j=null,_=x,E=x=0,T=null,D=w.next();_!==null&&!D.done;E++,D=w.next()){_.index>E?(T=_,_=null):T=_.sibling;var O=h(b,_,D.value,v);if(O===null){_===null&&(_=T);break}e&&_&&O.alternate===null&&t(b,_),x=i(O,x,E),S===null?j=O:S.sibling=O,S=O,_=T}if(D.done)return r(b,_),Hr&&bc(b,E),j;if(_===null){for(;!D.done;E++,D=w.next())D=f(b,D.value,v),D!==null&&(x=i(D,x,E),S===null?j=D:S.sibling=D,S=D);return Hr&&bc(b,E),j}for(_=n(b,_);!D.done;E++,D=w.next())D=m(_,b,E,D.value,v),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?E:D.key),x=i(D,x,E),S===null?j=D:S.sibling=D,S=D);return e&&_.forEach(function(A){return t(b,A)}),Hr&&bc(b,E),j}function y(b,x,w,v){if(typeof w=="object"&&w!==null&&w.type===nd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case b0:e:{for(var j=w.key,S=x;S!==null;){if(S.key===j){if(j=w.type,j===nd){if(S.tag===7){r(b,S.sibling),x=a(S,w.props.children),x.return=b,b=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===sl&&YT(j)===S.type){r(b,S.sibling),x=a(S,w.props),x.ref=wh(b,S,w),x.return=b,b=x;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===nd?(x=Gc(w.props.children,b.mode,v,w.key),x.return=b,b=x):(v=Ag(w.type,w.key,w.props,null,b.mode,v),v.ref=wh(b,x,w),v.return=b,b=v)}return o(b);case rd:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=a(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=ow(w,b.mode,v),x.return=b,b=x}return o(b);case sl:return S=w._init,y(b,x,S(w._payload),v)}if(Vh(w))return g(b,x,w,v);if(ph(w))return p(b,x,w,v);O0(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,w),x.return=b,b=x):(r(b,x),x=iw(w,b.mode,v),x.return=b,b=x),o(b)):r(b,x)}return y}var Qd=nR(!0),aR=nR(!1),Xg=sc(null),Qg=null,dd=null,e_=null;function t_(){e_=dd=Qg=null}function r_(e){var t=Xg.current;Vr(Xg),e._currentValue=t}function Xb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jd(e,t){Qg=e,e_=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(La=!0),e.firstContext=null)}function Ls(e){var t=e._currentValue;if(e_!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(Qg===null)throw Error(Ve(308));dd=e,Qg.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var Cc=null;function n_(e){Cc===null?Cc=[e]:Cc.push(e)}function sR(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,n_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ro(e,n)}function Ro(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var il=!1;function a_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function So(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Il(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ir&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ro(e,r)}return a=n.interleaved,a===null?(t.next=t,n_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ro(e,r)}function jg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,WN(e,r)}}function XT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jg(e,t,r,n){var a=e.updateQueue;il=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Yr({},f,h);break e;case 2:il=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);tu|=o,e.lanes=o,e.memoizedState=f}}function QT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ve(191,a));a.call(n)}}}var Up={},Vi=sc(Up),Dm=sc(Up),km=sc(Up);function Dc(e){if(e===Up)throw Error(Ve(174));return e}function s_(e,t){switch(Mr(km,t),Mr(Dm,e),Mr(Vi,Up),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Db(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Db(t,e)}Vr(Vi),Mr(Vi,t)}function Jd(){Vr(Vi),Vr(Dm),Vr(km)}function oR(e){Dc(km.current);var t=Dc(Vi.current),r=Db(t,e.type);t!==r&&(Mr(Dm,e),Mr(Vi,r))}function i_(e){Dm.current===e&&(Vr(Vi),Vr(Dm))}var Gr=sc(0);function Zg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ew=[];function o_(){for(var e=0;e<ew.length;e++)ew[e]._workInProgressVersionPrimary=null;ew.length=0}var Sg=zo.ReactCurrentDispatcher,tw=zo.ReactCurrentBatchConfig,eu=0,Kr=null,Nn=null,On=null,ex=!1,rm=!1,Om=0,yV=0;function oa(){throw Error(Ve(321))}function l_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gi(e[r],t[r]))return!1;return!0}function c_(e,t,r,n,a,i){if(eu=i,Kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sg.current=e===null||e.memoizedState===null?jV:SV,e=r(n,a),rm){i=0;do{if(rm=!1,Om=0,25<=i)throw Error(Ve(301));i+=1,On=Nn=null,t.updateQueue=null,Sg.current=NV,e=r(n,a)}while(rm)}if(Sg.current=tx,t=Nn!==null&&Nn.next!==null,eu=0,On=Nn=Kr=null,ex=!1,t)throw Error(Ve(300));return e}function u_(){var e=Om!==0;return Om=0,e}function ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Kr.memoizedState=On=e:On=On.next=e,On}function $s(){if(Nn===null){var e=Kr.alternate;e=e!==null?e.memoizedState:null}else e=Nn.next;var t=On===null?Kr.memoizedState:On.next;if(t!==null)On=t,Nn=e;else{if(e===null)throw Error(Ve(310));Nn=e,e={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},On===null?Kr.memoizedState=On=e:On=On.next=e}return On}function Pm(e,t){return typeof t=="function"?t(e):t}function rw(e){var t=$s(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=Nn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((eu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Kr.lanes|=d,tu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,gi(n,t.memoizedState)||(La=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Kr.lanes|=i,tu|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nw(e){var t=$s(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);gi(i,t.memoizedState)||(La=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function lR(){}function cR(e,t){var r=Kr,n=$s(),a=t(),i=!gi(n.memoizedState,a);if(i&&(n.memoizedState=a,La=!0),n=n.queue,d_(fR.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||On!==null&&On.memoizedState.tag&1){if(r.flags|=2048,Im(9,dR.bind(null,r,n,a,t),void 0,null),Un===null)throw Error(Ve(349));eu&30||uR(r,t,a)}return a}function uR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dR(e,t,r,n){t.value=r,t.getSnapshot=n,hR(t)&&mR(e)}function fR(e,t,r){return r(function(){hR(t)&&mR(e)})}function hR(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gi(e,r)}catch{return!0}}function mR(e){var t=Ro(e,1);t!==null&&hi(t,e,1,-1)}function JT(e){var t=ki();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:e},t.queue=e,e=e.dispatch=bV.bind(null,Kr,e),[t.memoizedState,e]}function Im(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pR(){return $s().memoizedState}function Ng(e,t,r,n){var a=ki();Kr.flags|=e,a.memoizedState=Im(1|t,r,void 0,n===void 0?null:n)}function Gy(e,t,r,n){var a=$s();n=n===void 0?null:n;var i=void 0;if(Nn!==null){var o=Nn.memoizedState;if(i=o.destroy,n!==null&&l_(n,o.deps)){a.memoizedState=Im(t,r,i,n);return}}Kr.flags|=e,a.memoizedState=Im(1|t,r,i,n)}function ZT(e,t){return Ng(8390656,8,e,t)}function d_(e,t){return Gy(2048,8,e,t)}function gR(e,t){return Gy(4,2,e,t)}function xR(e,t){return Gy(4,4,e,t)}function yR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vR(e,t,r){return r=r!=null?r.concat([e]):null,Gy(4,4,yR.bind(null,t,e),r)}function f_(){}function wR(e,t){var r=$s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&l_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bR(e,t){var r=$s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&l_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jR(e,t,r){return eu&21?(gi(r,t)||(r=TI(),Kr.lanes|=r,tu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,La=!0),e.memoizedState=r)}function vV(e,t){var r=_r;_r=r!==0&&4>r?r:4,e(!0);var n=tw.transition;tw.transition={};try{e(!1),t()}finally{_r=r,tw.transition=n}}function SR(){return $s().memoizedState}function wV(e,t,r){var n=Ml(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NR(e))_R(t,r);else if(r=sR(e,t,r,n),r!==null){var a=Ca();hi(r,e,n,a),ER(r,t,n)}}function bV(e,t,r){var n=Ml(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NR(e))_R(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,gi(l,o)){var c=t.interleaved;c===null?(a.next=a,n_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=sR(e,t,a,n),r!==null&&(a=Ca(),hi(r,e,n,a),ER(r,t,n))}}function NR(e){var t=e.alternate;return e===Kr||t!==null&&t===Kr}function _R(e,t){rm=ex=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ER(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,WN(e,r)}}var tx={readContext:Ls,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},jV={readContext:Ls,useCallback:function(e,t){return ki().memoizedState=[e,t===void 0?null:t],e},useContext:Ls,useEffect:ZT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ng(4194308,4,yR.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ng(4,2,e,t)},useMemo:function(e,t){var r=ki();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ki();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wV.bind(null,Kr,e),[n.memoizedState,e]},useRef:function(e){var t=ki();return e={current:e},t.memoizedState=e},useState:JT,useDebugValue:f_,useDeferredValue:function(e){return ki().memoizedState=e},useTransition:function(){var e=JT(!1),t=e[0];return e=vV.bind(null,e[1]),ki().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Kr,a=ki();if(Hr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Un===null)throw Error(Ve(349));eu&30||uR(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,ZT(fR.bind(null,n,i,e),[e]),n.flags|=2048,Im(9,dR.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ki(),t=Un.identifierPrefix;if(Hr){var r=xo,n=go;r=(n&~(1<<32-fi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Om++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SV={readContext:Ls,useCallback:wR,useContext:Ls,useEffect:d_,useImperativeHandle:vR,useInsertionEffect:gR,useLayoutEffect:xR,useMemo:bR,useReducer:rw,useRef:pR,useState:function(){return rw(Pm)},useDebugValue:f_,useDeferredValue:function(e){var t=$s();return jR(t,Nn.memoizedState,e)},useTransition:function(){var e=rw(Pm)[0],t=$s().memoizedState;return[e,t]},useMutableSource:lR,useSyncExternalStore:cR,useId:SR,unstable_isNewReconciler:!1},NV={readContext:Ls,useCallback:wR,useContext:Ls,useEffect:d_,useImperativeHandle:vR,useInsertionEffect:gR,useLayoutEffect:xR,useMemo:bR,useReducer:nw,useRef:pR,useState:function(){return nw(Pm)},useDebugValue:f_,useDeferredValue:function(e){var t=$s();return Nn===null?t.memoizedState=e:jR(t,Nn.memoizedState,e)},useTransition:function(){var e=nw(Pm)[0],t=$s().memoizedState;return[e,t]},useMutableSource:lR,useSyncExternalStore:cR,useId:SR,unstable_isNewReconciler:!1};function Xs(e,t){if(e&&e.defaultProps){t=Yr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Yr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ky={isMounted:function(e){return(e=e._reactInternals)?bu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ca(),a=Ml(e),i=So(n,a);i.payload=t,r!=null&&(i.callback=r),t=Il(e,i,a),t!==null&&(hi(t,e,a,n),jg(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ca(),a=Ml(e),i=So(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Il(e,i,a),t!==null&&(hi(t,e,a,n),jg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ca(),n=Ml(e),a=So(r,n);a.tag=2,t!=null&&(a.callback=t),t=Il(e,a,n),t!==null&&(hi(t,e,n,r),jg(t,e,n))}};function eA(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Em(r,n)||!Em(a,i):!0}function TR(e,t,r){var n=!1,a=Kl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ls(i):(a=Va(t)?Jc:xa.current,n=t.contextTypes,i=(n=n!=null)?Yd(e,a):Kl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ky,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function tA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ky.enqueueReplaceState(t,t.state,null)}function Jb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},a_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ls(i):(i=Va(t)?Jc:xa.current,a.context=Yd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qb(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ky.enqueueReplaceState(a,a.state,null),Jg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zd(e,t){try{var r="",n=t;do r+=J7(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function aw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _V=typeof WeakMap=="function"?WeakMap:Map;function AR(e,t,r){r=So(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nx||(nx=!0,cj=n),Zb(e,t)},r}function CR(e,t,r){r=So(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Zb(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zb(e,t),typeof n!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function rA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _V;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$V.bind(null,e,t,r),t.then(e,e))}function nA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=So(-1,1),t.tag=2,Il(r,t,1))),r.lanes|=1),e)}var EV=zo.ReactCurrentOwner,La=!1;function ja(e,t,r,n){t.child=e===null?aR(t,null,r,n):Qd(t,e.child,r,n)}function sA(e,t,r,n,a){r=r.render;var i=t.ref;return jd(t,a),n=c_(e,t,r,n,i,a),r=u_(),e!==null&&!La?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mo(e,t,a)):(Hr&&r&&QN(t),t.flags|=1,ja(e,t,n,a),t.child)}function iA(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!w_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,DR(e,t,i,n,a)):(e=Ag(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Em,r(o,n)&&e.ref===t.ref)return Mo(e,t,a)}return t.flags|=1,e=Fl(i,n),e.ref=t.ref,e.return=t,t.child=e}function DR(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Em(i,n)&&e.ref===t.ref)if(La=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(La=!0);else return t.lanes=e.lanes,Mo(e,t,a)}return ej(e,t,r,n,a)}function kR(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(hd,Za),Za|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mr(hd,Za),Za|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Mr(hd,Za),Za|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Mr(hd,Za),Za|=n;return ja(e,t,a,r),t.child}function OR(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ej(e,t,r,n,a){var i=Va(r)?Jc:xa.current;return i=Yd(t,i),jd(t,a),r=c_(e,t,r,n,i,a),n=u_(),e!==null&&!La?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mo(e,t,a)):(Hr&&n&&QN(t),t.flags|=1,ja(e,t,r,a),t.child)}function oA(e,t,r,n,a){if(Va(r)){var i=!0;Gg(t)}else i=!1;if(jd(t,a),t.stateNode===null)_g(e,t),TR(t,r,n),Jb(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ls(u):(u=Va(r)?Jc:xa.current,u=Yd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&tA(t,o,n,u),il=!1;var h=t.memoizedState;o.state=h,Jg(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ua.current||il?(typeof d=="function"&&(Qb(t,r,d,n),c=t.memoizedState),(l=il||eA(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,iR(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Xs(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ls(c):(c=Va(r)?Jc:xa.current,c=Yd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&tA(t,o,n,c),il=!1,h=t.memoizedState,o.state=h,Jg(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Ua.current||il?(typeof m=="function"&&(Qb(t,r,m,n),g=t.memoizedState),(u=il||eA(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return tj(e,t,r,n,i,a)}function tj(e,t,r,n,a,i){OR(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&qT(t,r,!1),Mo(e,t,i);n=t.stateNode,EV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qd(t,e.child,null,i),t.child=Qd(t,null,l,i)):ja(e,t,l,i),t.memoizedState=n.state,a&&qT(t,r,!0),t.child}function PR(e){var t=e.stateNode;t.pendingContext?zT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zT(e,t.context,!1),s_(e,t.containerInfo)}function lA(e,t,r,n,a){return Xd(),ZN(a),t.flags|=256,ja(e,t,r,n),t.child}var rj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function IR(e,t,r){var n=t.pendingProps,a=Gr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Mr(Gr,a&1),e===null)return Yb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qy(o,n,0,null),e=Gc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=nj(r),t.memoizedState=rj,e):h_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return TV(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Fl(l,i):(i=Gc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?nj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=rj,n}return i=e.child,e=i.sibling,n=Fl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function h_(e,t){return t=Qy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function P0(e,t,r,n){return n!==null&&ZN(n),Qd(t,e.child,null,r),e=h_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TV(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=aw(Error(Ve(422))),P0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Qy({mode:"visible",children:n.children},a,0,null),i=Gc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qd(t,e.child,null,o),t.child.memoizedState=nj(o),t.memoizedState=rj,i);if(!(t.mode&1))return P0(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ve(419)),n=aw(i,n,void 0),P0(e,t,o,n)}if(l=(o&e.childLanes)!==0,La||l){if(n=Un,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ro(e,a),hi(n,e,a,-1))}return v_(),n=aw(Error(Ve(421))),P0(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=BV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ls=Pl(a.nextSibling),ds=t,Hr=!0,ri=null,e!==null&&(Ds[ks++]=go,Ds[ks++]=xo,Ds[ks++]=Zc,go=e.id,xo=e.overflow,Zc=t),t=h_(t,n.children),t.flags|=4096,t)}function cA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xb(e.return,t,r)}function sw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function RR(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ja(e,t,n.children,r),n=Gr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cA(e,r,t);else if(e.tag===19)cA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mr(Gr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Zg(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zg(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sw(t,!0,r,null,i);break;case"together":sw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _g(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),tu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=Fl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AV(e,t,r){switch(t.tag){case 3:PR(t),Xd();break;case 5:oR(t);break;case 1:Va(t.type)&&Gg(t);break;case 4:s_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Mr(Xg,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Mr(Gr,Gr.current&1),t.flags|=128,null):r&t.child.childLanes?IR(e,t,r):(Mr(Gr,Gr.current&1),e=Mo(e,t,r),e!==null?e.sibling:null);Mr(Gr,Gr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return RR(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Mr(Gr,Gr.current),n)break;return null;case 22:case 23:return t.lanes=0,kR(e,t,r)}return Mo(e,t,r)}var MR,aj,FR,LR;MR=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};aj=function(){};FR=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Dc(Vi.current);var i=null;switch(r){case"input":a=Eb(e,a),n=Eb(e,n),i=[];break;case"select":a=Yr({},a,{value:void 0}),n=Yr({},n,{value:void 0}),i=[];break;case"textarea":a=Cb(e,a),n=Cb(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zg)}kb(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$r("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};LR=function(e,t,r,n){r!==n&&(t.flags|=4)};function bh(e,t){if(!Hr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function la(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function CV(e,t,r){var n=t.pendingProps;switch(JN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(t),null;case 1:return Va(t.type)&&qg(),la(t),null;case 3:return n=t.stateNode,Jd(),Vr(Ua),Vr(xa),o_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(k0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ri!==null&&(fj(ri),ri=null))),aj(e,t),la(t),null;case 5:i_(t);var a=Dc(km.current);if(r=t.type,e!==null&&t.stateNode!=null)FR(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return la(t),null}if(e=Dc(Vi.current),k0(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Mi]=t,n[Cm]=i,e=(t.mode&1)!==0,r){case"dialog":$r("cancel",n),$r("close",n);break;case"iframe":case"object":case"embed":$r("load",n);break;case"video":case"audio":for(a=0;a<Hh.length;a++)$r(Hh[a],n);break;case"source":$r("error",n);break;case"img":case"image":case"link":$r("error",n),$r("load",n);break;case"details":$r("toggle",n);break;case"input":yT(n,i),$r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},$r("invalid",n);break;case"textarea":wT(n,i),$r("invalid",n)}kb(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&D0(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&D0(n.textContent,l,e),a=["children",""+l]):vm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$r("scroll",n)}switch(r){case"input":j0(n),vT(n,i,!0);break;case"textarea":j0(n),bT(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=zg)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mi]=t,e[Cm]=n,MR(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ob(r,n),r){case"dialog":$r("cancel",e),$r("close",e),a=n;break;case"iframe":case"object":case"embed":$r("load",e),a=n;break;case"video":case"audio":for(a=0;a<Hh.length;a++)$r(Hh[a],e);a=n;break;case"source":$r("error",e),a=n;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=n;break;case"details":$r("toggle",e),a=n;break;case"input":yT(e,n),a=Eb(e,n),$r("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Yr({},n,{value:void 0}),$r("invalid",e);break;case"textarea":wT(e,n),a=Cb(e,n),$r("invalid",e);break;default:a=n}kb(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?pI(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hI(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wm(e,c):typeof c=="number"&&wm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&$r("scroll",e):c!=null&&FN(e,i,c,o))}switch(r){case"input":j0(e),vT(e,n,!1);break;case"textarea":j0(e),bT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?yd(e,!!n.multiple,i,!1):n.defaultValue!=null&&yd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=zg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return la(t),null;case 6:if(e&&t.stateNode!=null)LR(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=Dc(km.current),Dc(Vi.current),k0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mi]=t,(i=n.nodeValue!==r)&&(e=ds,e!==null))switch(e.tag){case 3:D0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&D0(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mi]=t,t.stateNode=n}return la(t),null;case 13:if(Vr(Gr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hr&&ls!==null&&t.mode&1&&!(t.flags&128))rR(),Xd(),t.flags|=98560,i=!1;else if(i=k0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ve(317));i[Mi]=t}else Xd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;la(t),i=!1}else ri!==null&&(fj(ri),ri=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Gr.current&1?En===0&&(En=3):v_())),t.updateQueue!==null&&(t.flags|=4),la(t),null);case 4:return Jd(),aj(e,t),e===null&&Tm(t.stateNode.containerInfo),la(t),null;case 10:return r_(t.type._context),la(t),null;case 17:return Va(t.type)&&qg(),la(t),null;case 19:if(Vr(Gr),i=t.memoizedState,i===null)return la(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)bh(i,!1);else{if(En!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zg(e),o!==null){for(t.flags|=128,bh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mr(Gr,Gr.current&1|2),t.child}e=e.sibling}i.tail!==null&&an()>ef&&(t.flags|=128,n=!0,bh(i,!1),t.lanes=4194304)}else{if(!n)if(e=Zg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Hr)return la(t),null}else 2*an()-i.renderingStartTime>ef&&r!==1073741824&&(t.flags|=128,n=!0,bh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=an(),t.sibling=null,r=Gr.current,Mr(Gr,n?r&1|2:r&1),t):(la(t),null);case 22:case 23:return y_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Za&1073741824&&(la(t),t.subtreeFlags&6&&(t.flags|=8192)):la(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function DV(e,t){switch(JN(t),t.tag){case 1:return Va(t.type)&&qg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jd(),Vr(Ua),Vr(xa),o_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i_(t),null;case 13:if(Vr(Gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Xd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vr(Gr),null;case 4:return Jd(),null;case 10:return r_(t.type._context),null;case 22:case 23:return y_(),null;case 24:return null;default:return null}}var I0=!1,fa=!1,kV=typeof WeakSet=="function"?WeakSet:Set,gt=null;function fd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qr(e,t,n)}else r.current=null}function sj(e,t,r){try{r()}catch(n){Qr(e,t,n)}}var uA=!1;function OV(e,t){if(Vb=Vg,e=WI(),XN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wb={focusedElem:e,selectionRange:r},Vg=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){t=gt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Xs(t.type,p),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(v){Qr(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}return g=uA,uA=!1,g}function nm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&sj(t,r,i)}a=a.next}while(a!==n)}}function Yy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ij(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $R(e){var t=e.alternate;t!==null&&(e.alternate=null,$R(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mi],delete t[Cm],delete t[qb],delete t[mV],delete t[pV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BR(e){return e.tag===5||e.tag===3||e.tag===4}function dA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zg));else if(n!==4&&(e=e.child,e!==null))for(oj(e,t,r),e=e.sibling;e!==null;)oj(e,t,r),e=e.sibling}function lj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lj(e,t,r),e=e.sibling;e!==null;)lj(e,t,r),e=e.sibling}var Yn=null,ei=!1;function Jo(e,t,r){for(r=r.child;r!==null;)UR(e,t,r),r=r.sibling}function UR(e,t,r){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Uy,r)}catch{}switch(r.tag){case 5:fa||fd(r,t);case 6:var n=Yn,a=ei;Yn=null,Jo(e,t,r),Yn=n,ei=a,Yn!==null&&(ei?(e=Yn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yn.removeChild(r.stateNode));break;case 18:Yn!==null&&(ei?(e=Yn,r=r.stateNode,e.nodeType===8?J1(e.parentNode,r):e.nodeType===1&&J1(e,r),Nm(e)):J1(Yn,r.stateNode));break;case 4:n=Yn,a=ei,Yn=r.stateNode.containerInfo,ei=!0,Jo(e,t,r),Yn=n,ei=a;break;case 0:case 11:case 14:case 15:if(!fa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sj(r,t,o),a=a.next}while(a!==n)}Jo(e,t,r);break;case 1:if(!fa&&(fd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qr(r,t,l)}Jo(e,t,r);break;case 21:Jo(e,t,r);break;case 22:r.mode&1?(fa=(n=fa)||r.memoizedState!==null,Jo(e,t,r),fa=n):Jo(e,t,r);break;default:Jo(e,t,r)}}function fA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kV),t.forEach(function(n){var a=UV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,ei=!1;break e;case 3:Yn=l.stateNode.containerInfo,ei=!0;break e;case 4:Yn=l.stateNode.containerInfo,ei=!0;break e}l=l.return}if(Yn===null)throw Error(Ve(160));UR(i,o,a),Yn=null,ei=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Qr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)VR(t,e),t=t.sibling}function VR(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zs(t,e),Ti(e),n&4){try{nm(3,e,e.return),Yy(3,e)}catch(p){Qr(e,e.return,p)}try{nm(5,e,e.return)}catch(p){Qr(e,e.return,p)}}break;case 1:zs(t,e),Ti(e),n&512&&r!==null&&fd(r,r.return);break;case 5:if(zs(t,e),Ti(e),n&512&&r!==null&&fd(r,r.return),e.flags&32){var a=e.stateNode;try{wm(a,"")}catch(p){Qr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&uI(a,i),Ob(l,o);var u=Ob(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?pI(a,f):d==="dangerouslySetInnerHTML"?hI(a,f):d==="children"?wm(a,f):FN(a,d,f,u)}switch(l){case"input":Tb(a,i);break;case"textarea":dI(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yd(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?yd(a,!!i.multiple,i.defaultValue,!0):yd(a,!!i.multiple,i.multiple?[]:"",!1))}a[Cm]=i}catch(p){Qr(e,e.return,p)}}break;case 6:if(zs(t,e),Ti(e),n&4){if(e.stateNode===null)throw Error(Ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Qr(e,e.return,p)}}break;case 3:if(zs(t,e),Ti(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nm(t.containerInfo)}catch(p){Qr(e,e.return,p)}break;case 4:zs(t,e),Ti(e);break;case 13:zs(t,e),Ti(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(g_=an())),n&4&&fA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(fa=(u=fa)||d,zs(t,e),fa=u):zs(t,e),Ti(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(gt=e,d=e.child;d!==null;){for(f=gt=d;gt!==null;){switch(h=gt,m=h.child,h.tag){case 0:case 11:case 14:case 15:nm(4,h,h.return);break;case 1:fd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Qr(n,r,p)}}break;case 5:fd(h,h.return);break;case 22:if(h.memoizedState!==null){mA(f);continue}}m!==null?(m.return=h,gt=m):mA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mI("display",o))}catch(p){Qr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Qr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zs(t,e),Ti(e),n&4&&fA(e);break;case 21:break;default:zs(t,e),Ti(e)}}function Ti(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(BR(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(wm(a,""),n.flags&=-33);var i=dA(e);lj(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=dA(e);oj(e,l,o);break;default:throw Error(Ve(161))}}catch(c){Qr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PV(e,t,r){gt=e,WR(e)}function WR(e,t,r){for(var n=(e.mode&1)!==0;gt!==null;){var a=gt,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||I0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||fa;l=I0;var u=fa;if(I0=o,(fa=c)&&!u)for(gt=a;gt!==null;)o=gt,c=o.child,o.tag===22&&o.memoizedState!==null?pA(a):c!==null?(c.return=o,gt=c):pA(a);for(;i!==null;)gt=i,WR(i),i=i.sibling;gt=a,I0=l,fa=u}hA(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,gt=i):hA(e)}}function hA(e){for(;gt!==null;){var t=gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fa||Yy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fa)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Xs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&QT(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}QT(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}fa||t.flags&512&&ij(t)}catch(h){Qr(t,t.return,h)}}if(t===e){gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,gt=r;break}gt=t.return}}function mA(e){for(;gt!==null;){var t=gt;if(t===e){gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,gt=r;break}gt=t.return}}function pA(e){for(;gt!==null;){var t=gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yy(4,t)}catch(c){Qr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Qr(t,a,c)}}var i=t.return;try{ij(t)}catch(c){Qr(t,i,c)}break;case 5:var o=t.return;try{ij(t)}catch(c){Qr(t,o,c)}}}catch(c){Qr(t,t.return,c)}if(t===e){gt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,gt=l;break}gt=t.return}}var IV=Math.ceil,rx=zo.ReactCurrentDispatcher,m_=zo.ReactCurrentOwner,Ms=zo.ReactCurrentBatchConfig,ir=0,Un=null,hn=null,ra=0,Za=0,hd=sc(0),En=0,Rm=null,tu=0,Xy=0,p_=0,am=null,Fa=null,g_=0,ef=1/0,lo=null,nx=!1,cj=null,Rl=null,R0=!1,Sl=null,ax=0,sm=0,uj=null,Eg=-1,Tg=0;function Ca(){return ir&6?an():Eg!==-1?Eg:Eg=an()}function Ml(e){return e.mode&1?ir&2&&ra!==0?ra&-ra:xV.transition!==null?(Tg===0&&(Tg=TI()),Tg):(e=_r,e!==0||(e=window.event,e=e===void 0?16:II(e.type)),e):1}function hi(e,t,r,n){if(50<sm)throw sm=0,uj=null,Error(Ve(185));Lp(e,r,n),(!(ir&2)||e!==Un)&&(e===Un&&(!(ir&2)&&(Xy|=r),En===4&&ul(e,ra)),Wa(e,n),r===1&&ir===0&&!(t.mode&1)&&(ef=an()+500,qy&&ic()))}function Wa(e,t){var r=e.callbackNode;xU(e,t);var n=Ug(e,e===Un?ra:0);if(n===0)r!==null&&NT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&NT(r),t===1)e.tag===0?gV(gA.bind(null,e)):ZI(gA.bind(null,e)),fV(function(){!(ir&6)&&ic()}),r=null;else{switch(AI(n)){case 1:r=VN;break;case 4:r=_I;break;case 16:r=Bg;break;case 536870912:r=EI;break;default:r=Bg}r=QR(r,HR.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function HR(e,t){if(Eg=-1,Tg=0,ir&6)throw Error(Ve(327));var r=e.callbackNode;if(Sd()&&e.callbackNode!==r)return null;var n=Ug(e,e===Un?ra:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sx(e,n);else{t=n;var a=ir;ir|=2;var i=qR();(Un!==e||ra!==t)&&(lo=null,ef=an()+500,qc(e,t));do try{FV();break}catch(l){zR(e,l)}while(!0);t_(),rx.current=i,ir=a,hn!==null?t=0:(Un=null,ra=0,t=En)}if(t!==0){if(t===2&&(a=Fb(e),a!==0&&(n=a,t=dj(e,a))),t===1)throw r=Rm,qc(e,0),ul(e,n),Wa(e,an()),r;if(t===6)ul(e,n);else{if(a=e.current.alternate,!(n&30)&&!RV(a)&&(t=sx(e,n),t===2&&(i=Fb(e),i!==0&&(n=i,t=dj(e,i))),t===1))throw r=Rm,qc(e,0),ul(e,n),Wa(e,an()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:jc(e,Fa,lo);break;case 3:if(ul(e,n),(n&130023424)===n&&(t=g_+500-an(),10<t)){if(Ug(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ca(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zb(jc.bind(null,e,Fa,lo),t);break}jc(e,Fa,lo);break;case 4:if(ul(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-fi(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=an()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IV(n/1960))-n,10<n){e.timeoutHandle=zb(jc.bind(null,e,Fa,lo),n);break}jc(e,Fa,lo);break;case 5:jc(e,Fa,lo);break;default:throw Error(Ve(329))}}}return Wa(e,an()),e.callbackNode===r?HR.bind(null,e):null}function dj(e,t){var r=am;return e.current.memoizedState.isDehydrated&&(qc(e,t).flags|=256),e=sx(e,t),e!==2&&(t=Fa,Fa=r,t!==null&&fj(t)),e}function fj(e){Fa===null?Fa=e:Fa.push.apply(Fa,e)}function RV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!gi(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ul(e,t){for(t&=~p_,t&=~Xy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fi(t),n=1<<r;e[r]=-1,t&=~n}}function gA(e){if(ir&6)throw Error(Ve(327));Sd();var t=Ug(e,0);if(!(t&1))return Wa(e,an()),null;var r=sx(e,t);if(e.tag!==0&&r===2){var n=Fb(e);n!==0&&(t=n,r=dj(e,n))}if(r===1)throw r=Rm,qc(e,0),ul(e,t),Wa(e,an()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Fa,lo),Wa(e,an()),null}function x_(e,t){var r=ir;ir|=1;try{return e(t)}finally{ir=r,ir===0&&(ef=an()+500,qy&&ic())}}function ru(e){Sl!==null&&Sl.tag===0&&!(ir&6)&&Sd();var t=ir;ir|=1;var r=Ms.transition,n=_r;try{if(Ms.transition=null,_r=1,e)return e()}finally{_r=n,Ms.transition=r,ir=t,!(ir&6)&&ic()}}function y_(){Za=hd.current,Vr(hd)}function qc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dV(r)),hn!==null)for(r=hn.return;r!==null;){var n=r;switch(JN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qg();break;case 3:Jd(),Vr(Ua),Vr(xa),o_();break;case 5:i_(n);break;case 4:Jd();break;case 13:Vr(Gr);break;case 19:Vr(Gr);break;case 10:r_(n.type._context);break;case 22:case 23:y_()}r=r.return}if(Un=e,hn=e=Fl(e.current,null),ra=Za=t,En=0,Rm=null,p_=Xy=tu=0,Fa=am=null,Cc!==null){for(t=0;t<Cc.length;t++)if(r=Cc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Cc=null}return e}function zR(e,t){do{var r=hn;try{if(t_(),Sg.current=tx,ex){for(var n=Kr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ex=!1}if(eu=0,On=Nn=Kr=null,rm=!1,Om=0,m_.current=null,r===null||r.return===null){En=1,Rm=t,hn=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ra,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nA(o);if(m!==null){m.flags&=-257,aA(m,o,l,i,t),m.mode&1&&rA(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){rA(i,u,t),v_();break e}c=Error(Ve(426))}}else if(Hr&&l.mode&1){var y=nA(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),aA(y,o,l,i,t),ZN(Zd(c,l));break e}}i=c=Zd(c,l),En!==4&&(En=2),am===null?am=[i]:am.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=AR(i,c,t);XT(i,b);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rl===null||!Rl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=CR(i,l,t);XT(i,v);break e}}i=i.return}while(i!==null)}KR(r)}catch(j){t=j,hn===r&&r!==null&&(hn=r=r.return);continue}break}while(!0)}function qR(){var e=rx.current;return rx.current=tx,e===null?tx:e}function v_(){(En===0||En===3||En===2)&&(En=4),Un===null||!(tu&268435455)&&!(Xy&268435455)||ul(Un,ra)}function sx(e,t){var r=ir;ir|=2;var n=qR();(Un!==e||ra!==t)&&(lo=null,qc(e,t));do try{MV();break}catch(a){zR(e,a)}while(!0);if(t_(),ir=r,rx.current=n,hn!==null)throw Error(Ve(261));return Un=null,ra=0,En}function MV(){for(;hn!==null;)GR(hn)}function FV(){for(;hn!==null&&!lU();)GR(hn)}function GR(e){var t=XR(e.alternate,e,Za);e.memoizedProps=e.pendingProps,t===null?KR(e):hn=t,m_.current=null}function KR(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=DV(r,t),r!==null){r.flags&=32767,hn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{En=6,hn=null;return}}else if(r=CV(r,t,Za),r!==null){hn=r;return}if(t=t.sibling,t!==null){hn=t;return}hn=t=e}while(t!==null);En===0&&(En=5)}function jc(e,t,r){var n=_r,a=Ms.transition;try{Ms.transition=null,_r=1,LV(e,t,r,n)}finally{Ms.transition=a,_r=n}return null}function LV(e,t,r,n){do Sd();while(Sl!==null);if(ir&6)throw Error(Ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(yU(e,i),e===Un&&(hn=Un=null,ra=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||R0||(R0=!0,QR(Bg,function(){return Sd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ms.transition,Ms.transition=null;var o=_r;_r=1;var l=ir;ir|=4,m_.current=null,OV(e,r),VR(r,e),aV(Wb),Vg=!!Vb,Wb=Vb=null,e.current=r,PV(r),cU(),ir=l,_r=o,Ms.transition=i}else e.current=r;if(R0&&(R0=!1,Sl=e,ax=a),i=e.pendingLanes,i===0&&(Rl=null),fU(r.stateNode),Wa(e,an()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(nx)throw nx=!1,e=cj,cj=null,e;return ax&1&&e.tag!==0&&Sd(),i=e.pendingLanes,i&1?e===uj?sm++:(sm=0,uj=e):sm=0,ic(),null}function Sd(){if(Sl!==null){var e=AI(ax),t=Ms.transition,r=_r;try{if(Ms.transition=null,_r=16>e?16:e,Sl===null)var n=!1;else{if(e=Sl,Sl=null,ax=0,ir&6)throw Error(Ve(331));var a=ir;for(ir|=4,gt=e.current;gt!==null;){var i=gt,o=i.child;if(gt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(gt=u;gt!==null;){var d=gt;switch(d.tag){case 0:case 11:case 15:nm(8,d,i)}var f=d.child;if(f!==null)f.return=d,gt=f;else for(;gt!==null;){d=gt;var h=d.sibling,m=d.return;if($R(d),d===u){gt=null;break}if(h!==null){h.return=m,gt=h;break}gt=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}gt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,gt=o;else e:for(;gt!==null;){if(i=gt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,gt=b;break e}gt=i.return}}var x=e.current;for(gt=x;gt!==null;){o=gt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,gt=w;else e:for(o=x;gt!==null;){if(l=gt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yy(9,l)}}catch(j){Qr(l,l.return,j)}if(l===o){gt=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,gt=v;break e}gt=l.return}}if(ir=a,ic(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Uy,e)}catch{}n=!0}return n}finally{_r=r,Ms.transition=t}}return!1}function xA(e,t,r){t=Zd(r,t),t=AR(e,t,1),e=Il(e,t,1),t=Ca(),e!==null&&(Lp(e,1,t),Wa(e,t))}function Qr(e,t,r){if(e.tag===3)xA(e,e,r);else for(;t!==null;){if(t.tag===3){xA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rl===null||!Rl.has(n))){e=Zd(r,e),e=CR(t,e,1),t=Il(t,e,1),e=Ca(),t!==null&&(Lp(t,1,e),Wa(t,e));break}}t=t.return}}function $V(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ca(),e.pingedLanes|=e.suspendedLanes&r,Un===e&&(ra&r)===r&&(En===4||En===3&&(ra&130023424)===ra&&500>an()-g_?qc(e,0):p_|=r),Wa(e,t)}function YR(e,t){t===0&&(e.mode&1?(t=_0,_0<<=1,!(_0&130023424)&&(_0=4194304)):t=1);var r=Ca();e=Ro(e,t),e!==null&&(Lp(e,t,r),Wa(e,r))}function BV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),YR(e,r)}function UV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),YR(e,r)}var XR;XR=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ua.current)La=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return La=!1,AV(e,t,r);La=!!(e.flags&131072)}else La=!1,Hr&&t.flags&1048576&&eR(t,Yg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_g(e,t),e=t.pendingProps;var a=Yd(t,xa.current);jd(t,r),a=c_(null,t,n,e,a,r);var i=u_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Va(n)?(i=!0,Gg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a_(t),a.updater=Ky,t.stateNode=a,a._reactInternals=t,Jb(t,n,e,r),t=tj(null,t,n,!0,i,r)):(t.tag=0,Hr&&i&&QN(t),ja(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_g(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=WV(n),e=Xs(n,e),a){case 0:t=ej(null,t,n,e,r);break e;case 1:t=oA(null,t,n,e,r);break e;case 11:t=sA(null,t,n,e,r);break e;case 14:t=iA(null,t,n,Xs(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),ej(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),oA(e,t,n,a,r);case 3:e:{if(PR(t),e===null)throw Error(Ve(387));n=t.pendingProps,i=t.memoizedState,a=i.element,iR(e,t),Jg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Zd(Error(Ve(423)),t),t=lA(e,t,n,r,a);break e}else if(n!==a){a=Zd(Error(Ve(424)),t),t=lA(e,t,n,r,a);break e}else for(ls=Pl(t.stateNode.containerInfo.firstChild),ds=t,Hr=!0,ri=null,r=aR(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xd(),n===a){t=Mo(e,t,r);break e}ja(e,t,n,r)}t=t.child}return t;case 5:return oR(t),e===null&&Yb(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Hb(n,a)?o=null:i!==null&&Hb(n,i)&&(t.flags|=32),OR(e,t),ja(e,t,o,r),t.child;case 6:return e===null&&Yb(t),null;case 13:return IR(e,t,r);case 4:return s_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qd(t,null,n,r):ja(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),sA(e,t,n,a,r);case 7:return ja(e,t,t.pendingProps,r),t.child;case 8:return ja(e,t,t.pendingProps.children,r),t.child;case 12:return ja(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Mr(Xg,n._currentValue),n._currentValue=o,i!==null)if(gi(i.value,o)){if(i.children===a.children&&!Ua.current){t=Mo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=So(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Xb(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Xb(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ja(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,jd(t,r),a=Ls(a),n=n(a),t.flags|=1,ja(e,t,n,r),t.child;case 14:return n=t.type,a=Xs(n,t.pendingProps),a=Xs(n.type,a),iA(e,t,n,a,r);case 15:return DR(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xs(n,a),_g(e,t),t.tag=1,Va(n)?(e=!0,Gg(t)):e=!1,jd(t,r),TR(t,n,a),Jb(t,n,a,r),tj(null,t,n,!0,e,r);case 19:return RR(e,t,r);case 22:return kR(e,t,r)}throw Error(Ve(156,t.tag))};function QR(e,t){return NI(e,t)}function VV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(e,t,r,n){return new VV(e,t,r,n)}function w_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WV(e){if(typeof e=="function")return w_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$N)return 11;if(e===BN)return 14}return 2}function Fl(e,t){var r=e.alternate;return r===null?(r=Ps(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ag(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")w_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nd:return Gc(r.children,a,i,t);case LN:o=8,a|=8;break;case jb:return e=Ps(12,r,t,a|2),e.elementType=jb,e.lanes=i,e;case Sb:return e=Ps(13,r,t,a),e.elementType=Sb,e.lanes=i,e;case Nb:return e=Ps(19,r,t,a),e.elementType=Nb,e.lanes=i,e;case oI:return Qy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sI:o=10;break e;case iI:o=9;break e;case $N:o=11;break e;case BN:o=14;break e;case sl:o=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Ps(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Gc(e,t,r,n){return e=Ps(7,e,n,t),e.lanes=r,e}function Qy(e,t,r,n){return e=Ps(22,e,n,t),e.elementType=oI,e.lanes=r,e.stateNode={isHidden:!1},e}function iw(e,t,r){return e=Ps(6,e,null,t),e.lanes=r,e}function ow(e,t,r){return t=Ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U1(0),this.expirationTimes=U1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U1(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function b_(e,t,r,n,a,i,o,l,c){return e=new HV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ps(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},a_(i),e}function zV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JR(e){if(!e)return Kl;e=e._reactInternals;e:{if(bu(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Va(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(Va(r))return JI(e,r,t)}return t}function ZR(e,t,r,n,a,i,o,l,c){return e=b_(r,n,!0,e,a,i,o,l,c),e.context=JR(null),r=e.current,n=Ca(),a=Ml(r),i=So(n,a),i.callback=t??null,Il(r,i,a),e.current.lanes=a,Lp(e,a,n),Wa(e,n),e}function Jy(e,t,r,n){var a=t.current,i=Ca(),o=Ml(a);return r=JR(r),t.context===null?t.context=r:t.pendingContext=r,t=So(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Il(a,t,o),e!==null&&(hi(e,a,o,i),jg(e,a,o)),o}function ix(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function j_(e,t){yA(e,t),(e=e.alternate)&&yA(e,t)}function qV(){return null}var eM=typeof reportError=="function"?reportError:function(e){console.error(e)};function S_(e){this._internalRoot=e}Zy.prototype.render=S_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));Jy(e,t,null,null)};Zy.prototype.unmount=S_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ru(function(){Jy(null,e,null,null)}),t[Io]=null}};function Zy(e){this._internalRoot=e}Zy.prototype.unstable_scheduleHydration=function(e){if(e){var t=kI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cl.length&&t!==0&&t<cl[r].priority;r++);cl.splice(r,0,e),r===0&&PI(e)}};function N_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vA(){}function GV(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ix(o);i.call(u)}}var o=ZR(t,n,e,0,null,!1,!1,"",vA);return e._reactRootContainer=o,e[Io]=o.current,Tm(e.nodeType===8?e.parentNode:e),ru(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ix(c);l.call(u)}}var c=b_(e,0,!1,null,null,!1,!1,"",vA);return e._reactRootContainer=c,e[Io]=c.current,Tm(e.nodeType===8?e.parentNode:e),ru(function(){Jy(t,c,r,n)}),c}function tv(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ix(o);l.call(c)}}Jy(t,o,e,a)}else o=GV(r,t,e,a,n);return ix(o)}CI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wh(t.pendingLanes);r!==0&&(WN(t,r|1),Wa(t,an()),!(ir&6)&&(ef=an()+500,ic()))}break;case 13:ru(function(){var n=Ro(e,1);if(n!==null){var a=Ca();hi(n,e,1,a)}}),j_(e,1)}};HN=function(e){if(e.tag===13){var t=Ro(e,134217728);if(t!==null){var r=Ca();hi(t,e,134217728,r)}j_(e,134217728)}};DI=function(e){if(e.tag===13){var t=Ml(e),r=Ro(e,t);if(r!==null){var n=Ca();hi(r,e,t,n)}j_(e,t)}};kI=function(){return _r};OI=function(e,t){var r=_r;try{return _r=e,t()}finally{_r=r}};Ib=function(e,t,r){switch(t){case"input":if(Tb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=zy(n);if(!a)throw Error(Ve(90));cI(n),Tb(n,a)}}}break;case"textarea":dI(e,r);break;case"select":t=r.value,t!=null&&yd(e,!!r.multiple,t,!1)}};yI=x_;vI=ru;var KV={usingClientEntryPoint:!1,Events:[Bp,od,zy,gI,xI,x_]},jh={findFiberByHostInstance:Ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YV={bundleType:jh.bundleType,version:jh.version,rendererPackageName:jh.rendererPackageName,rendererConfig:jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jI(e),e===null?null:e.stateNode},findFiberByHostInstance:jh.findFiberByHostInstance||qV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{Uy=M0.inject(YV),Ui=M0}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KV;ys.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N_(t))throw Error(Ve(200));return zV(e,t,null,r)};ys.createRoot=function(e,t){if(!N_(e))throw Error(Ve(299));var r=!1,n="",a=eM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=b_(e,1,!1,null,null,r,!1,n,a),e[Io]=t.current,Tm(e.nodeType===8?e.parentNode:e),new S_(t)};ys.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=jI(t),e=e===null?null:e.stateNode,e};ys.flushSync=function(e){return ru(e)};ys.hydrate=function(e,t,r){if(!ev(t))throw Error(Ve(200));return tv(null,e,t,!0,r)};ys.hydrateRoot=function(e,t,r){if(!N_(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=eM;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ZR(t,null,e,1,r??null,a,!1,i,o),e[Io]=t.current,Tm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Zy(t)};ys.render=function(e,t,r){if(!ev(t))throw Error(Ve(200));return tv(null,e,t,!1,r)};ys.unmountComponentAtNode=function(e){if(!ev(e))throw Error(Ve(40));return e._reactRootContainer?(ru(function(){tv(null,null,e,!1,function(){e._reactRootContainer=null,e[Io]=null})}),!0):!1};ys.unstable_batchedUpdates=x_;ys.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ev(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return tv(e,t,r,!1,n)};ys.version="18.3.1-next-f1338f8080-20240426";function tM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tM)}catch(e){console.error(e)}}tM(),tI.exports=ys;var ju=tI.exports;const XV=Or(ju);var rM,wA=ju;rM=wA.createRoot,wA.hydrateRoot;function QV(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var nM={exports:{}},aM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=N;function JV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZV=typeof Object.is=="function"?Object.is:JV,eW=tf.useState,tW=tf.useEffect,rW=tf.useLayoutEffect,nW=tf.useDebugValue;function aW(e,t){var r=t(),n=eW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return rW(function(){a.value=r,a.getSnapshot=t,lw(a)&&i({inst:a})},[e,r,t]),tW(function(){return lw(a)&&i({inst:a}),e(function(){lw(a)&&i({inst:a})})},[e]),nW(r),r}function lw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ZV(e,r)}catch{return!0}}function sW(e,t){return t()}var iW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sW:aW;aM.useSyncExternalStore=tf.useSyncExternalStore!==void 0?tf.useSyncExternalStore:iW;nM.exports=aM;var sM=nM.exports;const oW=IN.useInsertionEffect,lW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iM=lW?N.useLayoutEffect:N.useEffect,cW=oW||iM,__=e=>{const t=N.useRef([e,(...r)=>t[0](...r)]).current;return cW(()=>{t[0]=e}),t[1]},uW="popstate",E_="pushState",T_="replaceState",dW="hashchange",bA=[uW,E_,T_,dW],fW=e=>{for(const t of bA)addEventListener(t,e);return()=>{for(const t of bA)removeEventListener(t,e)}},oM=(e,t)=>sM.useSyncExternalStore(fW,e,t),hW=()=>location.search,mW=({ssrSearch:e=""}={})=>oM(hW,()=>e),jA=()=>location.pathname,pW=({ssrPath:e}={})=>oM(jA,e?()=>e:jA),gW=(e,{replace:t=!1,state:r=null}={})=>history[t?T_:E_](r,"",e),xW=(e={})=>[pW(e),gW],SA=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[SA]>"u"){for(const e of[E_,T_]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,SA,{value:!0})}const yW=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",lM=(e="")=>e==="/"?"":e,vW=(e,t)=>e[0]==="~"?e.slice(1):lM(t)+e,wW=(e="",t)=>yW(NA(lM(e)),NA(t)),NA=e=>{try{return decodeURI(e)}catch{return e}},cM={hook:xW,searchHook:mW,parser:QV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},uM=N.createContext(cM),Su=()=>N.useContext(uM),dM={},fM=N.createContext(dM),A_=()=>N.useContext(fM),Vp=e=>{const[t,r]=e.hook(e);return[wW(e.base,t),__((n,a)=>r(vW(n,e.base),a))]},Uf=()=>Vp(Su()),C_=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},hM=e=>C_(Su().parser,e,Uf()[0]),bW=({children:e,...t})=>{var d,f;const r=Su(),n=t.hook?cM:r;let a=n;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=N.useRef({}),c=l.current,u=c;for(let h in n){const m=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,(m!==n[h]||m!==a[h])&&(a=u)}return N.createElement(uM.Provider,{value:a,children:e})},_A=({children:e,component:t},r)=>t?N.createElement(t,{params:r}):typeof e=="function"?e(r):e,jW=e=>{let t=N.useRef(dM);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},gr=({path:e,nest:t,match:r,...n})=>{const a=Su(),[i]=Vp(a),[o,l,c]=r??C_(a.parser,e,i,t),u=jW({...A_(),...l});if(!o)return null;const d=c?N.createElement(bW,{base:c},_A(n,u)):_A(n,u);return N.createElement(fM.Provider,{value:u,children:d})},zh=N.forwardRef((e,t)=>{const r=Su(),[n,a]=Vp(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,g=__(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),a(o,e)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:g,href:p}):N.createElement("a",{...m,onClick:g,href:p,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),mM=e=>Array.isArray(e)?e.flatMap(t=>mM(t&&t.type===N.Fragment?t.props.children:t)):[e],SW=({children:e,location:t})=>{const r=Su(),[n]=Vp(r);for(const a of mM(e)){let i=0;if(N.isValidElement(a)&&(i=C_(r.parser,a.props.path,t||n,a.props.nest))[0])return N.cloneElement(a,{match:i})}return null},NW=e=>{const{to:t,href:r=t}=e,n=Su(),[,a]=Vp(n),i=__(()=>a(t||r,e)),{ssrContext:o}=n;return iM(()=>{i()},[]),o&&(o.redirectTo=t),null};var Vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nu=typeof window>"u"||"Deno"in globalThis;function Sa(){}function _W(e,t){return typeof e=="function"?e(t):e}function hj(e){return typeof e=="number"&&e>=0&&e!==1/0}function pM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ll(e,t){return typeof e=="function"?e(t):e}function Cs(e,t){return typeof e=="function"?e(t):e}function EA(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==D_(o,t.options))return!1}else if(!Mm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function TA(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(au(t.options.mutationKey)!==au(i))return!1}else if(!Mm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function D_(e,t){return((t==null?void 0:t.queryKeyHashFn)||au)(e)}function au(e){return JSON.stringify(e,(t,r)=>mj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Mm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Mm(e[r],t[r])):!1}function gM(e,t){if(e===t)return e;const r=AA(e)&&AA(t);if(r||mj(e)&&mj(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=gM(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function ox(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function AA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mj(e){if(!CA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!CA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function CA(e){return Object.prototype.toString.call(e)==="[object Object]"}function EW(e){return new Promise(t=>{setTimeout(t,e)})}function pj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?gM(e,t):t}function TW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function AW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var k_=Symbol();function xM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===k_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function yM(e,t){return typeof e=="function"?e(...t):!!e}var Fc,fl,Md,I4,CW=(I4=class extends Vf{constructor(){super();Mt(this,Fc);Mt(this,fl);Mt(this,Md);ct(this,Md,t=>{if(!nu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){fe(this,fl)||this.setEventListener(fe(this,Md))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,fl))==null||t.call(this),ct(this,fl,void 0))}setEventListener(t){var r;ct(this,Md,t),(r=fe(this,fl))==null||r.call(this),ct(this,fl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){fe(this,Fc)!==t&&(ct(this,Fc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof fe(this,Fc)=="boolean"?fe(this,Fc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fc=new WeakMap,fl=new WeakMap,Md=new WeakMap,I4),O_=new CW,Fd,hl,Ld,R4,DW=(R4=class extends Vf{constructor(){super();Mt(this,Fd,!0);Mt(this,hl);Mt(this,Ld);ct(this,Ld,t=>{if(!nu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){fe(this,hl)||this.setEventListener(fe(this,Ld))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,hl))==null||t.call(this),ct(this,hl,void 0))}setEventListener(t){var r;ct(this,Ld,t),(r=fe(this,hl))==null||r.call(this),ct(this,hl,t(this.setOnline.bind(this)))}setOnline(t){fe(this,Fd)!==t&&(ct(this,Fd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return fe(this,Fd)}},Fd=new WeakMap,hl=new WeakMap,Ld=new WeakMap,R4),lx=new DW;function gj(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function kW(e){return Math.min(1e3*2**e,3e4)}function vM(e){return(e??"online")==="online"?lx.isOnline():!0}var wM=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function cw(e){return e instanceof wM}function bM(e){let t=!1,r=0,n=!1,a;const i=gj(),o=p=>{var y;n||(h(new wM(p)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>O_.isFocused()&&(e.networkMode==="always"||lx.isOnline())&&e.canRun(),d=()=>vM(e.networkMode)&&e.canRun(),f=p=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var y;a=b=>{(n||u())&&p(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(n)return;const x=e.retry??(nu?0:3),w=e.retryDelay??kW,v=typeof w=="function"?w(r,b):w,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),EW(v).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),i)}}var OW=e=>setTimeout(e,0);function PW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=OW;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var _n=PW(),Lc,M4,jM=(M4=class{constructor(){Mt(this,Lc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hj(this.gcTime)&&ct(this,Lc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nu?1/0:5*60*1e3))}clearGcTimeout(){fe(this,Lc)&&(clearTimeout(fe(this,Lc)),ct(this,Lc,void 0))}},Lc=new WeakMap,M4),$d,$c,Ts,Bc,ca,Pp,Uc,Js,oo,F4,IW=(F4=class extends jM{constructor(t){super();Mt(this,Js);Mt(this,$d);Mt(this,$c);Mt(this,Ts);Mt(this,Bc);Mt(this,ca);Mt(this,Pp);Mt(this,Uc);ct(this,Uc,!1),ct(this,Pp,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,Bc,t.client),ct(this,Ts,fe(this,Bc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,$d,RW(this.options)),this.state=t.state??fe(this,$d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=fe(this,ca))==null?void 0:t.promise}setOptions(t){this.options={...fe(this,Pp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,Ts).remove(this)}setData(t,r){const n=pj(this.state.data,t,this.options);return Yt(this,Js,oo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Yt(this,Js,oo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=fe(this,ca))==null?void 0:n.promise;return(a=fe(this,ca))==null||a.cancel(t),r?r.then(Sa).catch(Sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,$d))}isActive(){return this.observers.some(t=>Cs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===k_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ll(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!pM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,ca))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,ca))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),fe(this,Ts).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(fe(this,ca)&&(fe(this,Uc)?fe(this,ca).cancel({revert:!0}):fe(this,ca).cancelRetry()),this.scheduleGc()),fe(this,Ts).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yt(this,Js,oo).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(fe(this,ca))return fe(this,ca).continueRetry(),fe(this,ca).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ct(this,Uc,!0),n.signal)})},i=()=>{const h=xM(this.options,r),g=(()=>{const p={client:fe(this,Bc),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return ct(this,Uc,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:fe(this,Bc),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ct(this,$c,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Yt(this,Js,oo).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,y;cw(h)&&h.silent||Yt(this,Js,oo).call(this,{type:"error",error:h}),cw(h)||((g=(m=fe(this,Ts).config).onError)==null||g.call(m,h,this),(y=(p=fe(this,Ts).config).onSettled)==null||y.call(p,this.state.data,h,this)),this.scheduleGc()};return ct(this,ca,bM({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(g=(m=fe(this,Ts).config).onSuccess)==null||g.call(m,h,this),(y=(p=fe(this,Ts).config).onSettled)==null||y.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Yt(this,Js,oo).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Yt(this,Js,oo).call(this,{type:"pause"})},onContinue:()=>{Yt(this,Js,oo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),fe(this,ca).start()}},$d=new WeakMap,$c=new WeakMap,Ts=new WeakMap,Bc=new WeakMap,ca=new WeakMap,Pp=new WeakMap,Uc=new WeakMap,Js=new WeakSet,oo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SM(n.data,this.options),fetchMeta:t.meta??null};case"success":return ct(this,$c,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return cw(a)&&a.revert&&fe(this,$c)?{...fe(this,$c),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_n.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),fe(this,Ts).notify({query:this,type:"updated",action:t})})},F4);function SM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RW(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Oi,L4,MW=(L4=class extends Vf{constructor(t={}){super();Mt(this,Oi);this.config=t,ct(this,Oi,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??D_(a,r);let o=this.get(i);return o||(o=new IW({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){fe(this,Oi).has(t.queryHash)||(fe(this,Oi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=fe(this,Oi).get(t.queryHash);r&&(t.destroy(),r===t&&fe(this,Oi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return fe(this,Oi).get(t)}getAll(){return[...fe(this,Oi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>EA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>EA(t,n)):r}notify(t){_n.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oi=new WeakMap,L4),Pi,va,Vc,Ii,nl,$4,FW=($4=class extends jM{constructor(t){super();Mt(this,Ii);Mt(this,Pi);Mt(this,va);Mt(this,Vc);this.mutationId=t.mutationId,ct(this,va,t.mutationCache),ct(this,Pi,[]),this.state=t.state||NM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){fe(this,Pi).includes(t)||(fe(this,Pi).push(t),this.clearGcTimeout(),fe(this,va).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,Pi,fe(this,Pi).filter(r=>r!==t)),this.scheduleGc(),fe(this,va).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){fe(this,Pi).length||(this.state.status==="pending"?this.scheduleGc():fe(this,va).remove(this))}continue(){var t;return((t=fe(this,Vc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,m,g,p,y,b,x,w,v,j,S,_,E;const r=()=>{Yt(this,Ii,nl).call(this,{type:"continue"})};ct(this,Vc,bM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,D)=>{Yt(this,Ii,nl).call(this,{type:"failed",failureCount:T,error:D})},onPause:()=>{Yt(this,Ii,nl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,va).canRun(this)}));const n=this.state.status==="pending",a=!fe(this,Vc).canStart();try{if(n)r();else{Yt(this,Ii,nl).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=fe(this,va).config).onMutate)==null?void 0:o.call(i,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&Yt(this,Ii,nl).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const T=await fe(this,Vc).start();return await((d=(u=fe(this,va).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,T,t,this.state.context)),await((g=(m=fe(this,va).config).onSettled)==null?void 0:g.call(m,T,null,this.state.variables,this.state.context,this)),await((y=(p=this.options).onSettled)==null?void 0:y.call(p,T,null,t,this.state.context)),Yt(this,Ii,nl).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(b=fe(this,va).config).onError)==null?void 0:x.call(b,T,t,this.state.context,this)),await((v=(w=this.options).onError)==null?void 0:v.call(w,T,t,this.state.context)),await((S=(j=fe(this,va).config).onSettled)==null?void 0:S.call(j,void 0,T,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,T,t,this.state.context)),T}finally{Yt(this,Ii,nl).call(this,{type:"error",error:T})}}finally{fe(this,va).runNext(this)}}},Pi=new WeakMap,va=new WeakMap,Vc=new WeakMap,Ii=new WeakSet,nl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_n.batch(()=>{fe(this,Pi).forEach(n=>{n.onMutationUpdate(t)}),fe(this,va).notify({mutation:this,type:"updated",action:t})})},$4);function NM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fo,Zs,Ip,B4,LW=(B4=class extends Vf{constructor(t={}){super();Mt(this,fo);Mt(this,Zs);Mt(this,Ip);this.config=t,ct(this,fo,new Set),ct(this,Zs,new Map),ct(this,Ip,0)}build(t,r,n){const a=new FW({mutationCache:this,mutationId:++y0(this,Ip)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){fe(this,fo).add(t);const r=F0(t);if(typeof r=="string"){const n=fe(this,Zs).get(r);n?n.push(t):fe(this,Zs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(fe(this,fo).delete(t)){const r=F0(t);if(typeof r=="string"){const n=fe(this,Zs).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&fe(this,Zs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=F0(t);if(typeof r=="string"){const n=fe(this,Zs).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=F0(t);if(typeof r=="string"){const a=(n=fe(this,Zs).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{fe(this,fo).forEach(t=>{this.notify({type:"removed",mutation:t})}),fe(this,fo).clear(),fe(this,Zs).clear()})}getAll(){return Array.from(fe(this,fo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>TA(r,n))}findAll(t={}){return this.getAll().filter(r=>TA(t,r))}notify(t){_n.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _n.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sa))))}},fo=new WeakMap,Zs=new WeakMap,Ip=new WeakMap,B4);function F0(e){var t;return(t=e.options.scope)==null?void 0:t.id}function DA(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=xM(t.options,t.fetchOptions),x=async(w,v,j)=>{if(p)return Promise.reject();if(v==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:v,direction:j?"backward":"forward",meta:t.options.meta};return y(O),O})(),E=await b(_),{maxPages:T}=t.options,D=j?AW:TW;return{pages:D(w.pages,E,T),pageParams:D(w.pageParams,v,T)}};if(a&&i.length){const w=a==="backward",v=w?$W:kA,j={pages:i,pageParams:o},S=v(n,j);l=await x(j,S,w)}else{const w=e??i.length;do{const v=c===0?o[0]??n.initialPageParam:kA(n,l);if(c>0&&v==null)break;l=await x(l,v),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function $W(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Xr,ml,pl,Bd,Ud,gl,Vd,Wd,U4,BW=(U4=class{constructor(e={}){Mt(this,Xr);Mt(this,ml);Mt(this,pl);Mt(this,Bd);Mt(this,Ud);Mt(this,gl);Mt(this,Vd);Mt(this,Wd);ct(this,Xr,e.queryCache||new MW),ct(this,ml,e.mutationCache||new LW),ct(this,pl,e.defaultOptions||{}),ct(this,Bd,new Map),ct(this,Ud,new Map),ct(this,gl,0)}mount(){y0(this,gl)._++,fe(this,gl)===1&&(ct(this,Vd,O_.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Xr).onFocus())})),ct(this,Wd,lx.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Xr).onOnline())})))}unmount(){var e,t;y0(this,gl)._--,fe(this,gl)===0&&((e=fe(this,Vd))==null||e.call(this),ct(this,Vd,void 0),(t=fe(this,Wd))==null||t.call(this),ct(this,Wd,void 0))}isFetching(e){return fe(this,Xr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return fe(this,ml).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Xr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=fe(this,Xr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ll(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return fe(this,Xr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=fe(this,Xr).get(n.queryHash),i=a==null?void 0:a.state.data,o=_W(t,i);if(o!==void 0)return fe(this,Xr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return _n.batch(()=>fe(this,Xr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Xr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=fe(this,Xr);_n.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=fe(this,Xr);return _n.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=_n.batch(()=>fe(this,Xr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Sa).catch(Sa)}invalidateQueries(e,t={}){return _n.batch(()=>(fe(this,Xr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=_n.batch(()=>fe(this,Xr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Sa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Sa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=fe(this,Xr).build(this,t);return r.isStaleByTime(Ll(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sa).catch(Sa)}fetchInfiniteQuery(e){return e.behavior=DA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sa).catch(Sa)}ensureInfiniteQueryData(e){return e.behavior=DA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lx.isOnline()?fe(this,ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,Xr)}getMutationCache(){return fe(this,ml)}getDefaultOptions(){return fe(this,pl)}setDefaultOptions(e){ct(this,pl,e)}setQueryDefaults(e,t){fe(this,Bd).set(au(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...fe(this,Bd).values()],r={};return t.forEach(n=>{Mm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){fe(this,Ud).set(au(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...fe(this,Ud).values()],r={};return t.forEach(n=>{Mm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...fe(this,pl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=D_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===k_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...fe(this,pl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){fe(this,Xr).clear(),fe(this,ml).clear()}},Xr=new WeakMap,ml=new WeakMap,pl=new WeakMap,Bd=new WeakMap,Ud=new WeakMap,gl=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,U4),Pa,tr,Rp,wa,Wc,Hd,xl,yl,Mp,zd,qd,Hc,zc,vl,Gd,yr,qh,xj,yj,vj,wj,bj,jj,Sj,_M,V4,UW=(V4=class extends Vf{constructor(t,r){super();Mt(this,yr);Mt(this,Pa);Mt(this,tr);Mt(this,Rp);Mt(this,wa);Mt(this,Wc);Mt(this,Hd);Mt(this,xl);Mt(this,yl);Mt(this,Mp);Mt(this,zd);Mt(this,qd);Mt(this,Hc);Mt(this,zc);Mt(this,vl);Mt(this,Gd,new Set);this.options=r,ct(this,Pa,t),ct(this,yl,null),ct(this,xl,gj()),this.options.experimental_prefetchInRender||fe(this,xl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(fe(this,tr).addObserver(this),OA(fe(this,tr),this.options)?Yt(this,yr,qh).call(this):this.updateResult(),Yt(this,yr,wj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nj(fe(this,tr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nj(fe(this,tr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Yt(this,yr,bj).call(this),Yt(this,yr,jj).call(this),fe(this,tr).removeObserver(this)}setOptions(t){const r=this.options,n=fe(this,tr);if(this.options=fe(this,Pa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cs(this.options.enabled,fe(this,tr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Yt(this,yr,Sj).call(this),fe(this,tr).setOptions(this.options),r._defaulted&&!ox(this.options,r)&&fe(this,Pa).getQueryCache().notify({type:"observerOptionsUpdated",query:fe(this,tr),observer:this});const a=this.hasListeners();a&&PA(fe(this,tr),n,this.options,r)&&Yt(this,yr,qh).call(this),this.updateResult(),a&&(fe(this,tr)!==n||Cs(this.options.enabled,fe(this,tr))!==Cs(r.enabled,fe(this,tr))||Ll(this.options.staleTime,fe(this,tr))!==Ll(r.staleTime,fe(this,tr)))&&Yt(this,yr,xj).call(this);const i=Yt(this,yr,yj).call(this);a&&(fe(this,tr)!==n||Cs(this.options.enabled,fe(this,tr))!==Cs(r.enabled,fe(this,tr))||i!==fe(this,vl))&&Yt(this,yr,vj).call(this,i)}getOptimisticResult(t){const r=fe(this,Pa).getQueryCache().build(fe(this,Pa),t),n=this.createResult(r,t);return WW(this,n)&&(ct(this,wa,n),ct(this,Hd,this.options),ct(this,Wc,fe(this,tr).state)),n}getCurrentResult(){return fe(this,wa)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){fe(this,Gd).add(t)}getCurrentQuery(){return fe(this,tr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=fe(this,Pa).defaultQueryOptions(t),n=fe(this,Pa).getQueryCache().build(fe(this,Pa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Yt(this,yr,qh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),fe(this,wa)))}createResult(t,r){var T;const n=fe(this,tr),a=this.options,i=fe(this,wa),o=fe(this,Wc),l=fe(this,Hd),u=t!==n?t.state:fe(this,Rp),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const D=this.hasListeners(),O=!D&&OA(t,r),A=D&&PA(t,n,r,a);(O||A)&&(f={...f,...SM(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:y}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&y==="pending"){let D;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(D=i.data,b=!0):D=typeof r.placeholderData=="function"?r.placeholderData((T=fe(this,qd))==null?void 0:T.state.data,fe(this,qd)):r.placeholderData,D!==void 0&&(y="success",m=pj(i==null?void 0:i.data,D,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===fe(this,Mp))m=fe(this,zd);else try{ct(this,Mp,r.select),m=r.select(m),m=pj(i==null?void 0:i.data,m,r),ct(this,zd,m),ct(this,yl,null)}catch(D){ct(this,yl,D)}fe(this,yl)&&(g=fe(this,yl),m=fe(this,zd),p=Date.now(),y="error");const x=f.fetchStatus==="fetching",w=y==="pending",v=y==="error",j=w&&x,S=m!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:v,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:v&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:v&&S,isStale:P_(t,r),refetch:this.refetch,promise:fe(this,xl),isEnabled:Cs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=M=>{E.status==="error"?M.reject(E.error):E.data!==void 0&&M.resolve(E.data)},O=()=>{const M=ct(this,xl,E.promise=gj());D(M)},A=fe(this,xl);switch(A.status){case"pending":t.queryHash===n.queryHash&&D(A);break;case"fulfilled":(E.status==="error"||E.data!==A.value)&&O();break;case"rejected":(E.status!=="error"||E.error!==A.reason)&&O();break}}return E}updateResult(){const t=fe(this,wa),r=this.createResult(fe(this,tr),this.options);if(ct(this,Wc,fe(this,tr).state),ct(this,Hd,this.options),fe(this,Wc).data!==void 0&&ct(this,qd,fe(this,tr)),ox(r,t))return;ct(this,wa,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!fe(this,Gd).size)return!0;const o=new Set(i??fe(this,Gd));return this.options.throwOnError&&o.add("error"),Object.keys(fe(this,wa)).some(l=>{const c=l;return fe(this,wa)[c]!==t[c]&&o.has(c)})};Yt(this,yr,_M).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Yt(this,yr,wj).call(this)}},Pa=new WeakMap,tr=new WeakMap,Rp=new WeakMap,wa=new WeakMap,Wc=new WeakMap,Hd=new WeakMap,xl=new WeakMap,yl=new WeakMap,Mp=new WeakMap,zd=new WeakMap,qd=new WeakMap,Hc=new WeakMap,zc=new WeakMap,vl=new WeakMap,Gd=new WeakMap,yr=new WeakSet,qh=function(t){Yt(this,yr,Sj).call(this);let r=fe(this,tr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Sa)),r},xj=function(){Yt(this,yr,bj).call(this);const t=Ll(this.options.staleTime,fe(this,tr));if(nu||fe(this,wa).isStale||!hj(t))return;const n=pM(fe(this,wa).dataUpdatedAt,t)+1;ct(this,Hc,setTimeout(()=>{fe(this,wa).isStale||this.updateResult()},n))},yj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(fe(this,tr)):this.options.refetchInterval)??!1},vj=function(t){Yt(this,yr,jj).call(this),ct(this,vl,t),!(nu||Cs(this.options.enabled,fe(this,tr))===!1||!hj(fe(this,vl))||fe(this,vl)===0)&&ct(this,zc,setInterval(()=>{(this.options.refetchIntervalInBackground||O_.isFocused())&&Yt(this,yr,qh).call(this)},fe(this,vl)))},wj=function(){Yt(this,yr,xj).call(this),Yt(this,yr,vj).call(this,Yt(this,yr,yj).call(this))},bj=function(){fe(this,Hc)&&(clearTimeout(fe(this,Hc)),ct(this,Hc,void 0))},jj=function(){fe(this,zc)&&(clearInterval(fe(this,zc)),ct(this,zc,void 0))},Sj=function(){const t=fe(this,Pa).getQueryCache().build(fe(this,Pa),this.options);if(t===fe(this,tr))return;const r=fe(this,tr);ct(this,tr,t),ct(this,Rp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},_M=function(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(fe(this,wa))}),fe(this,Pa).getQueryCache().notify({query:fe(this,tr),type:"observerResultsUpdated"})})},V4);function VW(e,t){return Cs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function OA(e,t){return VW(e,t)||e.state.data!==void 0&&Nj(e,t,t.refetchOnMount)}function Nj(e,t,r){if(Cs(t.enabled,e)!==!1&&Ll(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&P_(e,t)}return!1}function PA(e,t,r,n){return(e!==t||Cs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&P_(e,r)}function P_(e,t){return Cs(t.enabled,e)!==!1&&e.isStaleByTime(Ll(t.staleTime,e))}function WW(e,t){return!ox(e.getCurrentResult(),t)}var wl,bl,Ia,ho,Oo,Cg,_j,W4,HW=(W4=class extends Vf{constructor(r,n){super();Mt(this,Oo);Mt(this,wl);Mt(this,bl);Mt(this,Ia);Mt(this,ho);ct(this,wl,r),this.setOptions(n),this.bindMethods(),Yt(this,Oo,Cg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=fe(this,wl).defaultMutationOptions(r),ox(this.options,n)||fe(this,wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:fe(this,Ia),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&au(n.mutationKey)!==au(this.options.mutationKey)?this.reset():((a=fe(this,Ia))==null?void 0:a.state.status)==="pending"&&fe(this,Ia).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=fe(this,Ia))==null||r.removeObserver(this)}onMutationUpdate(r){Yt(this,Oo,Cg).call(this),Yt(this,Oo,_j).call(this,r)}getCurrentResult(){return fe(this,bl)}reset(){var r;(r=fe(this,Ia))==null||r.removeObserver(this),ct(this,Ia,void 0),Yt(this,Oo,Cg).call(this),Yt(this,Oo,_j).call(this)}mutate(r,n){var a;return ct(this,ho,n),(a=fe(this,Ia))==null||a.removeObserver(this),ct(this,Ia,fe(this,wl).getMutationCache().build(fe(this,wl),this.options)),fe(this,Ia).addObserver(this),fe(this,Ia).execute(r)}},wl=new WeakMap,bl=new WeakMap,Ia=new WeakMap,ho=new WeakMap,Oo=new WeakSet,Cg=function(){var n;const r=((n=fe(this,Ia))==null?void 0:n.state)??NM();ct(this,bl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},_j=function(r){_n.batch(()=>{var n,a,i,o,l,c,u,d;if(fe(this,ho)&&this.hasListeners()){const f=fe(this,bl).variables,h=fe(this,bl).context;(r==null?void 0:r.type)==="success"?((a=(n=fe(this,ho)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=fe(this,ho)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=fe(this,ho)).onError)==null||c.call(l,r.error,f,h),(d=(u=fe(this,ho)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(fe(this,bl))})})},W4),EM=N.createContext(void 0),oc=e=>{const t=N.useContext(EM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},zW=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(EM.Provider,{value:e,children:t})),TM=N.createContext(!1),qW=()=>N.useContext(TM);TM.Provider;function GW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KW=N.createContext(GW()),YW=()=>N.useContext(KW),XW=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},QW=e=>{N.useEffect(()=>{e.clearReset()},[e])},JW=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||yM(r,[e.error,n])),ZW=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eH=(e,t)=>e.isLoading&&e.isFetching&&!t,tH=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,IA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rH(e,t,r){var f,h,m,g,p;const n=qW(),a=YW(),i=oc(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",ZW(o),XW(o,a),QW(a);const l=!i.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(y=>{const b=d?c.subscribe(_n.batchCalls(y)):Sa;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o)},[o,c]),tH(o,u))throw IA(o,c,a);if(JW({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!nu&&eH(u,n)){const y=l?IA(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;y==null||y.catch(Sa).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Fe(e,t){return rH(e,UW)}function Bt(e,t){const r=oc(),[n]=N.useState(()=>new HW(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const a=N.useSyncExternalStore(N.useCallback(o=>n.subscribe(_n.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=N.useCallback((o,l)=>{n.mutate(o,l).catch(Sa)},[n]);if(a.error&&yM(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const yc="org_id",$u="user_id",Sh="role_id",Bu="role_name",L0="user_type_id";class ba{static getOrgId(){if(typeof window>"u")return"60";const t=localStorage.getItem(yc);return console.log("[OrgContext] Reading org_id from localStorage:",t),t||"60"}static setOrgId(t){typeof window>"u"||localStorage.setItem(yc,t)}static getUserId(){return typeof window>"u"?"1435":localStorage.getItem($u)||"1435"}static setUserId(t){typeof window>"u"||localStorage.setItem($u,t)}static getRoleId(){return typeof window>"u"?null:localStorage.getItem(Sh)}static setRoleId(t){typeof window>"u"||localStorage.setItem(Sh,t)}static getRoleName(){return typeof window>"u"?null:localStorage.getItem(Bu)}static setRoleName(t){typeof window>"u"||localStorage.setItem(Bu,t)}static getUserTypeId(){return typeof window>"u"?null:localStorage.getItem(L0)}static setUserTypeId(t){typeof window>"u"||localStorage.setItem(L0,t)}static clear(){typeof window>"u"||(localStorage.removeItem(yc),localStorage.removeItem($u),localStorage.removeItem(Sh),localStorage.removeItem(Bu),localStorage.removeItem(L0))}static initialize(){if(typeof window>"u")return;!(localStorage.getItem(Sh)||localStorage.getItem(Bu))&&!localStorage.getItem(yc)?(console.log("[OrgContext] No JWT data found, setting default org_id to 60"),localStorage.setItem(yc,"60"),localStorage.setItem($u,"1435")):console.log("[OrgContext] Found existing data - org_id:",localStorage.getItem(yc),"role:",localStorage.getItem(Bu))}static setJWTData(t){if(typeof window>"u")return;const n=localStorage.getItem($u)||t.user_id;console.log("[OrgContext] Setting JWT data:",{org_id:t.org_id,user_id:n,role_name:t.role_name,forcedTo1435:!0}),localStorage.setItem(yc,t.org_id),localStorage.setItem($u,n),localStorage.setItem(Sh,t.role_id),localStorage.setItem(Bu,t.role_name),localStorage.setItem(L0,t.user_type_id)}static getContextData(){return{orgId:this.getOrgId(),userId:this.getUserId(),roleId:this.getRoleId(),roleName:this.getRoleName(),userTypeId:this.getUserTypeId()}}}typeof window<"u"&&ba.initialize();function AM(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(null),[o,l]=N.useState(null),[c,u]=N.useState(null);return N.useEffect(()=>{const d=()=>{t(ba.getOrgId()),n(ba.getUserId()),i(ba.getRoleId()),l(ba.getRoleName()),u(ba.getUserTypeId())};d();const f=h=>{["org_id","user_id","role_id","role_name","user_type_id"].includes(h.key||"")&&d()};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]),{orgId:e,currentUserId:r,roleId:a,roleName:o,userTypeId:c,setOrgId:d=>{ba.setOrgId(d),t(d)},setUserId:d=>{ba.setUserId(d),n(d)},setRoleId:d=>{ba.setRoleId(d),i(d)},setRoleName:d=>{ba.setRoleName(d),l(d)},setUserTypeId:d=>{ba.setUserTypeId(d),u(d)},clear:()=>{ba.clear(),t(""),n(""),i(null),l(null),u(null)}}}const nH=Object.freeze(Object.defineProperty({__proto__:null,OrgContext:ba,useOrgContext:AM},Symbol.toStringTag,{value:"Module"}));async function CM(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Tt(e,t,r){const n=ba.getOrgId();console.log(`[API Request] Sending X-Org-Id header: ${n} for ${e} ${t}`);const a={"X-Org-Id":n},i=localStorage.getItem("jwt_token");i&&(a.Authorization=`Bearer ${i}`,console.log(`[API Request] Adding Authorization header with JWT token for ${t}`));let o;r&&(r instanceof FormData?o=r:(a["Content-Type"]="application/json",o=JSON.stringify(r)));const l=await fetch(t,{method:e,headers:a,body:o,credentials:"include"});return await CM(l),l}const aH=({on401:e})=>async({queryKey:t})=>{const r=ba.getOrgId();console.log(`[Query Request] Sending X-Org-Id header: ${r} for GET ${t[0]}`);const n={"X-Org-Id":r},a=localStorage.getItem("jwt_token");a&&(n.Authorization=`Bearer ${a}`,console.log(`[Query Request] Adding Authorization header with JWT token for ${t[0]}`));const i=await fetch(t[0],{headers:n,credentials:"include"});return i.status===401?null:(await CM(i),await i.json())},qe=new BW({defaultOptions:{queries:{queryFn:aH({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),sH=1,iH=1e6;let uw=0;function oH(){return uw=(uw+1)%Number.MAX_SAFE_INTEGER,uw.toString()}const dw=new Map,RA=e=>{if(dw.has(e))return;const t=setTimeout(()=>{dw.delete(e),im({type:"REMOVE_TOAST",toastId:e})},iH);dw.set(e,t)},lH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?RA(r):e.toasts.forEach(n=>{RA(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Dg=[];let kg={toasts:[]};function im(e){kg=lH(kg,e),Dg.forEach(t=>{t(kg)})}function Qs({...e}){const t=oH(),r=a=>im({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>im({type:"DISMISS_TOAST",toastId:t});return im({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function qr(){const[e,t]=N.useState(kg);return N.useEffect(()=>(Dg.push(t),()=>{const r=Dg.indexOf(t);r>-1&&Dg.splice(r,1)}),[e]),{...e,toast:Qs,dismiss:r=>im({type:"DISMISS_TOAST",toastId:r})}}function jt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function MA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function DM(...e){return t=>{let r=!1;const n=e.map(a=>{const i=MA(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():MA(e[a],null)}}}}function nr(...e){return N.useCallback(DM(...e),e)}function cH(e,t){const r=N.createContext(t),n=i=>{const{children:o,...l}=i,c=N.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=N.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Ka(e,t=[]){let r=[];function n(i,o){const l=N.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=N.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=N.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,uH(a,...t)]}function uH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function su(e){const t=dH(e),r=N.forwardRef((n,a)=>{const{children:i,...o}=n,l=N.Children.toArray(i),c=l.find(hH);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var kM=su("Slot");function dH(e){const t=N.forwardRef((r,n)=>{const{children:a,...i}=r;if(N.isValidElement(a)){const o=pH(a),l=mH(i,a.props);return a.type!==N.Fragment&&(l.ref=n?DM(n,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OM=Symbol("radix.slottable");function fH(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=OM,t}function hH(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OM}function mH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function pH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function I_(e){const t=e+"CollectionProvider",[r,n]=Ka(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:b}=p,x=de.useRef(null),w=de.useRef(new Map).current;return s.jsx(a,{scope:y,itemMap:w,collectionRef:x,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=su(l),u=de.forwardRef((p,y)=>{const{scope:b,children:x}=p,w=i(l,b),v=nr(y,w.collectionRef);return s.jsx(c,{ref:v,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=su(d),m=de.forwardRef((p,y)=>{const{scope:b,children:x,...w}=p,v=de.useRef(null),j=nr(y,v),S=i(d,b);return de.useEffect(()=>(S.itemMap.set(v,{ref:v,...w}),()=>void S.itemMap.delete(v))),s.jsx(h,{[f]:"",ref:j,children:x})});m.displayName=d;function g(p){const y=i(e+"CollectionConsumer",p);return de.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,_)=>w.indexOf(S.ref.current)-w.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var gH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],It=gH.reduce((e,t)=>{const r=su(`Primitive.${t}`),n=N.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PM(e,t){e&&ju.flushSync(()=>e.dispatchEvent(t))}function ms(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xH(e,t=globalThis==null?void 0:globalThis.document){const r=ms(e);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yH="DismissableLayer",Ej="dismissableLayer.update",vH="dismissableLayer.pointerDownOutside",wH="dismissableLayer.focusOutside",FA,IM=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wf=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=N.useContext(IM),[d,f]=N.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=N.useState({}),g=nr(t,_=>f(_)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(y),x=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,v=x>=b,j=jH(_=>{const E=_.target,T=[...u.branches].some(D=>D.contains(E));!v||T||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=SH(_=>{const E=_.target;[...u.branches].some(D=>D.contains(E))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return xH(_=>{x===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),LA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=FA)}},[d,h,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),LA())},[d,u]),N.useEffect(()=>{const _=()=>m({});return document.addEventListener(Ej,_),()=>document.removeEventListener(Ej,_)},[]),s.jsx(It.div,{...c,ref:g,style:{pointerEvents:w?v?"auto":"none":void 0,...e.style},onFocusCapture:jt(e.onFocusCapture,S.onFocusCapture),onBlurCapture:jt(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:jt(e.onPointerDownCapture,j.onPointerDownCapture)})});Wf.displayName=yH;var bH="DismissableLayerBranch",RM=N.forwardRef((e,t)=>{const r=N.useContext(IM),n=N.useRef(null),a=nr(t,n);return N.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(It.div,{...e,ref:a})});RM.displayName=bH;function jH(e,t=globalThis==null?void 0:globalThis.document){const r=ms(e),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){MM(vH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function SH(e,t=globalThis==null?void 0:globalThis.document){const r=ms(e),n=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!n.current&&MM(wH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function LA(){const e=new CustomEvent(Ej);document.dispatchEvent(e)}function MM(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?PM(a,i):a.dispatchEvent(i)}var NH=Wf,_H=RM,xn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},EH="Portal",Wp=N.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=N.useState(!1);xn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?XV.createPortal(s.jsx(It.div,{...n,ref:t}),o):null});Wp.displayName=EH;function TH(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var bi=e=>{const{present:t,children:r}=e,n=AH(t),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),i=nr(n.ref,CH(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:i}):null};bi.displayName="Presence";function AH(e){const[t,r]=N.useState(),n=N.useRef(null),a=N.useRef(e),i=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=TH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=$0(n.current);i.current=l==="mounted"?u:"none"},[l]),xn(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=$0(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),xn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=$0(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=$0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function $0(e){return(e==null?void 0:e.animationName)||"none"}function CH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var DH=IN[" useInsertionEffect ".trim().toString()]||xn;function Ki({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=kH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=N.useRef(e!==void 0);N.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=N.useCallback(d=>{var f;if(l){const h=OH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function kH({defaultProp:e,onChange:t}){const[r,n]=N.useState(e),a=N.useRef(r),i=N.useRef(t);return DH(()=>{i.current=t},[t]),N.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function OH(e){return typeof e=="function"}var FM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PH="VisuallyHidden",rv=N.forwardRef((e,t)=>s.jsx(It.span,{...e,ref:t,style:{...FM,...e.style}}));rv.displayName=PH;var IH=rv,R_="ToastProvider",[M_,RH,MH]=I_("Toast"),[LM,FPe]=Ka("Toast",[MH]),[FH,nv]=LM(R_),$M=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=N.useState(null),[u,d]=N.useState(0),f=N.useRef(!1),h=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${R_}\`. Expected non-empty \`string\`.`),s.jsx(M_.Provider,{scope:t,children:s.jsx(FH,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(m=>m+1),[]),onToastRemove:N.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};$M.displayName=R_;var BM="ToastViewport",LH=["F8"],Tj="toast.viewportPause",Aj="toast.viewportResume",UM=N.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=LH,label:a="Notifications ({hotkey})",...i}=e,o=nv(BM,r),l=RH(r),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),f=N.useRef(null),h=nr(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;N.useEffect(()=>{const y=b=>{var w;n.length!==0&&n.every(v=>b[v]||b.code===v)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),N.useEffect(()=>{const y=c.current,b=f.current;if(g&&y&&b){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Tj);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Aj);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},v=S=>{!y.contains(S.relatedTarget)&&w()},j=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",x),y.addEventListener("focusout",v),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",v),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=N.useCallback(({tabbingDirection:y})=>{const x=l().map(w=>{const v=w.ref.current,j=[v,...QH(v)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?x.reverse():x).flat()},[l]);return N.useEffect(()=>{const y=f.current;if(y){const b=x=>{var j,S,_;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const E=document.activeElement,T=x.shiftKey;if(x.target===y&&T){(j=u.current)==null||j.focus();return}const A=p({tabbingDirection:T?"backwards":"forwards"}),M=A.findIndex(U=>U===E);fw(A.slice(M+1))?x.preventDefault():T?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,p]),s.jsxs(_H,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(Cj,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});fw(y)}}),s.jsx(M_.Slot,{scope:r,children:s.jsx(It.ol,{tabIndex:-1,...i,ref:h})}),g&&s.jsx(Cj,{ref:d,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});fw(y)}})]})});UM.displayName=BM;var VM="ToastFocusProxy",Cj=N.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=nv(VM,r);return s.jsx(rv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Cj.displayName=VM;var Hp="Toast",$H="toast.swipeStart",BH="toast.swipeMove",UH="toast.swipeCancel",VH="toast.swipeEnd",WM=N.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Ki({prop:n,defaultProp:a??!0,onChange:i,caller:Hp});return s.jsx(bi,{present:r||l,children:s.jsx(zH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ms(e.onPause),onResume:ms(e.onResume),onSwipeStart:jt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:jt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:jt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:jt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});WM.displayName=Hp;var[WH,HH]=LM(Hp,{onClose(){}}),zH=N.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=nv(Hp,r),[y,b]=N.useState(null),x=nr(t,U=>b(U)),w=N.useRef(null),v=N.useRef(null),j=a||p.duration,S=N.useRef(0),_=N.useRef(j),E=N.useRef(0),{onToastAdd:T,onToastRemove:D}=p,O=ms(()=>{var B;(y==null?void 0:y.contains(document.activeElement))&&((B=p.viewport)==null||B.focus()),o()}),A=N.useCallback(U=>{!U||U===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(O,U))},[O]);N.useEffect(()=>{const U=p.viewport;if(U){const B=()=>{A(_.current),u==null||u()},I=()=>{const P=new Date().getTime()-S.current;_.current=_.current-P,window.clearTimeout(E.current),c==null||c()};return U.addEventListener(Tj,I),U.addEventListener(Aj,B),()=>{U.removeEventListener(Tj,I),U.removeEventListener(Aj,B)}}},[p.viewport,j,c,u,A]),N.useEffect(()=>{i&&!p.isClosePausedRef.current&&A(j)},[i,j,p.isClosePausedRef,A]),N.useEffect(()=>(T(),()=>D()),[T,D]);const M=N.useMemo(()=>y?XM(y):null,[y]);return p.viewport?s.jsxs(s.Fragment,{children:[M&&s.jsx(qH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),s.jsx(WH,{scope:r,onClose:O,children:ju.createPortal(s.jsx(M_.ItemSlot,{scope:r,children:s.jsx(NH,{asChild:!0,onEscapeKeyDown:jt(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(It.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:jt(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:jt(e.onPointerDown,U=>{U.button===0&&(w.current={x:U.clientX,y:U.clientY})}),onPointerMove:jt(e.onPointerMove,U=>{if(!w.current)return;const B=U.clientX-w.current.x,I=U.clientY-w.current.y,P=!!v.current,C=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,R=C?F(0,B):0,se=C?0:F(0,I),L=U.pointerType==="touch"?10:2,q={x:R,y:se},H={originalEvent:U,delta:q};P?(v.current=q,B0(BH,f,H,{discrete:!1})):$A(q,p.swipeDirection,L)?(v.current=q,B0($H,d,H,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(B)>L||Math.abs(I)>L)&&(w.current=null)}),onPointerUp:jt(e.onPointerUp,U=>{const B=v.current,I=U.target;if(I.hasPointerCapture(U.pointerId)&&I.releasePointerCapture(U.pointerId),v.current=null,w.current=null,B){const P=U.currentTarget,C={originalEvent:U,delta:B};$A(B,p.swipeDirection,p.swipeThreshold)?B0(VH,m,C,{discrete:!0}):B0(UH,h,C,{discrete:!0}),P.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),qH=e=>{const{__scopeToast:t,children:r,...n}=e,a=nv(Hp,t),[i,o]=N.useState(!1),[l,c]=N.useState(!1);return YH(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Wp,{asChild:!0,children:s.jsx(rv,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},GH="ToastTitle",HM=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(It.div,{...n,ref:t})});HM.displayName=GH;var KH="ToastDescription",zM=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(It.div,{...n,ref:t})});zM.displayName=KH;var qM="ToastAction",GM=N.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(YM,{altText:r,asChild:!0,children:s.jsx(F_,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qM}\`. Expected non-empty \`string\`.`),null)});GM.displayName=qM;var KM="ToastClose",F_=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=HH(KM,r);return s.jsx(YM,{asChild:!0,children:s.jsx(It.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,a.onClose)})})});F_.displayName=KM;var YM=N.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(It.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function XM(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),XH(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...XM(n))}}),t}function B0(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?PM(a,i):a.dispatchEvent(i)}var $A=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function YH(e=()=>{}){const t=ms(e);xn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function XH(e){return e.nodeType===e.ELEMENT_NODE}function QH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var JH=$M,QM=UM,JM=WM,ZM=HM,eF=zM,tF=GM,rF=F_;function nF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=nF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function or(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=nF(e))&&(n&&(n+=" "),n+=t);return n}const BA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,UA=or,zp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return UA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=BA(d)||BA(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...i,...l}[p]):{...i,...l}[p]===y})?[...u,f,h]:u},[]);return UA(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aF=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ez={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...ez,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:aF("lucide",a),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(e,t)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(tz,{ref:i,iconNode:t,className:aF(`lucide-${ZH(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Ot("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Ot("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=Ot("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=Ot("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Ot("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Ot("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=Ot("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=Ot("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Ot("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Ot("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Ot("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=Ot("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Ot("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Ot("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Ot("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Ot("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=Ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=Ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Ot("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Ot("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Ot("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Ot("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Ot("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Ot("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=Ot("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Ot("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=Ot("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U_="-",hz=e=>{const t=pz(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(U_);return l[0]===""&&l.length!==1&&l.shift(),hF(l,t)||mz(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},hF=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?hF(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(U_);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},WA=/^\[(.+)\]$/,mz=e=>{if(WA.test(e)){const t=WA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},pz=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xz(Object.entries(e.classGroups),r).forEach(([i,o])=>{Oj(o,n,i,t)}),n},Oj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:HA(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(gz(a)){Oj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Oj(o,HA(t,i),r,n)})})},HA=(e,t)=>{let r=e;return t.split(U_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},gz=e=>e.isThemeGetter,xz=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,yz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},mF="!",vz=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===a&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(mF),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},wz=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},bz=e=>({cache:yz(e.cacheSize),parseClassName:vz(e),...hz(e)}),jz=/\s+/,Sz=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(jz);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=wz(d).join(":"),b=f?y+mF:y,x=b+p;if(i.includes(x))continue;i.push(x);const w=a(p,g);for(let v=0;v<w.length;++v){const j=w[v];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function Nz(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=pF(t))&&(n&&(n+=" "),n+=r);return n}const pF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=pF(e[n]))&&(r&&(r+=" "),r+=t);return r};function _z(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=bz(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Sz(c,r);return a(c,d),d}return function(){return i(Nz.apply(null,arguments))}}const Lr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gF=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ez=/^\d+\/\d+$/,Tz=new Set(["px","full","screen"]),Az=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Oz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,no=e=>_d(e)||Tz.has(e)||Ez.test(e),Zo=e=>qf(e,"length",Bz),_d=e=>!!e&&!Number.isNaN(Number(e)),pw=e=>qf(e,"number",_d),Nh=e=>!!e&&Number.isInteger(Number(e)),Pz=e=>e.endsWith("%")&&_d(e.slice(0,-1)),Gt=e=>gF.test(e),el=e=>Az.test(e),Iz=new Set(["length","size","percentage"]),Rz=e=>qf(e,Iz,xF),Mz=e=>qf(e,"position",xF),Fz=new Set(["image","url"]),Lz=e=>qf(e,Fz,Vz),$z=e=>qf(e,"",Uz),_h=()=>!0,qf=(e,t,r)=>{const n=gF.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Bz=e=>Cz.test(e)&&!Dz.test(e),xF=()=>!1,Uz=e=>kz.test(e),Vz=e=>Oz.test(e),Wz=()=>{const e=Lr("colors"),t=Lr("spacing"),r=Lr("blur"),n=Lr("brightness"),a=Lr("borderColor"),i=Lr("borderRadius"),o=Lr("borderSpacing"),l=Lr("borderWidth"),c=Lr("contrast"),u=Lr("grayscale"),d=Lr("hueRotate"),f=Lr("invert"),h=Lr("gap"),m=Lr("gradientColorStops"),g=Lr("gradientColorStopPositions"),p=Lr("inset"),y=Lr("margin"),b=Lr("opacity"),x=Lr("padding"),w=Lr("saturate"),v=Lr("scale"),j=Lr("sepia"),S=Lr("skew"),_=Lr("space"),E=Lr("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Gt,t],A=()=>[Gt,t],M=()=>["",no,Zo],U=()=>["auto",_d,Gt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Gt],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[_d,Gt];return{cacheSize:500,separator:":",theme:{colors:[_h],spacing:[no,Zo],blur:["none","",el,Gt],brightness:se(),borderColor:[e],borderRadius:["none","","full",el,Gt],borderSpacing:A(),borderWidth:M(),contrast:se(),grayscale:F(),hueRotate:se(),invert:F(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Pz,Zo],inset:O(),margin:O(),opacity:se(),padding:A(),saturate:se(),scale:se(),sepia:F(),skew:se(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Gt]}],container:["container"],columns:[{columns:[el]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Gt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nh,Gt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Nh,Gt]}],"grid-cols":[{"grid-cols":[_h]}],"col-start-end":[{col:["auto",{span:["full",Nh,Gt]},Gt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[_h]}],"row-start-end":[{row:["auto",{span:[Nh,Gt]},Gt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Gt,t]}],"min-w":[{"min-w":[Gt,t,"min","max","fit"]}],"max-w":[{"max-w":[Gt,t,"none","full","min","max","fit","prose",{screen:[el]},el]}],h:[{h:[Gt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Gt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Gt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Gt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",el,Zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pw]}],"font-family":[{font:[_h]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gt]}],"line-clamp":[{"line-clamp":["none",_d,pw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",no,Gt]}],"list-image":[{"list-image":["none",Gt]}],"list-style-type":[{list:["none","disc","decimal",Gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",no,Zo]}],"underline-offset":[{"underline-offset":["auto",no,Gt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Mz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lz]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[no,Gt]}],"outline-w":[{outline:[no,Zo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[no,Zo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",el,$z]}],"shadow-color":[{shadow:[_h]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",el,Gt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Gt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Nh,Gt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[no,Zo,pw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hz=_z(Wz);function rt(...e){return Hz(or(e))}const zz=JH,yF=N.forwardRef(({className:e,...t},r)=>s.jsx(QM,{ref:r,className:rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));yF.displayName=QM.displayName;const qz=zp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vF=N.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(JM,{ref:n,className:rt(qz({variant:t}),e),...r}));vF.displayName=JM.displayName;const Gz=N.forwardRef(({className:e,...t},r)=>s.jsx(tF,{ref:r,className:rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Gz.displayName=tF.displayName;const wF=N.forwardRef(({className:e,...t},r)=>s.jsx(rF,{ref:r,className:rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(cs,{className:"h-4 w-4"})}));wF.displayName=rF.displayName;const bF=N.forwardRef(({className:e,...t},r)=>s.jsx(ZM,{ref:r,className:rt("text-sm font-semibold",e),...t}));bF.displayName=ZM.displayName;const jF=N.forwardRef(({className:e,...t},r)=>s.jsx(eF,{ref:r,className:rt("text-sm opacity-90",e),...t}));jF.displayName=eF.displayName;function Kz(){const{toasts:e}=qr();return s.jsxs(zz,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(vF,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(bF,{children:r}),n&&s.jsx(jF,{children:n})]}),a,s.jsx(wF,{})]},t)}),s.jsx(yF,{})]})}var Yz=IN[" useId ".trim().toString()]||(()=>{}),Xz=0;function _o(e){const[t,r]=N.useState(Yz());return xn(()=>{r(n=>n??String(Xz++))},[e]),t?`radix-${t}`:""}const Qz=["top","right","bottom","left"],Yl=Math.min,ns=Math.max,ux=Math.round,V0=Math.floor,Hi=e=>({x:e,y:e}),Jz={left:"right",right:"left",bottom:"top",top:"bottom"},Zz={start:"end",end:"start"};function Pj(e,t,r){return ns(e,Yl(t,r))}function Fo(e,t){return typeof e=="function"?e(t):e}function Lo(e){return e.split("-")[0]}function Gf(e){return e.split("-")[1]}function V_(e){return e==="x"?"y":"x"}function W_(e){return e==="y"?"height":"width"}const eq=new Set(["top","bottom"]);function Li(e){return eq.has(Lo(e))?"y":"x"}function H_(e){return V_(Li(e))}function tq(e,t,r){r===void 0&&(r=!1);const n=Gf(e),a=H_(e),i=W_(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=dx(o)),[o,dx(o)]}function rq(e){const t=dx(e);return[Ij(e),t,Ij(t)]}function Ij(e){return e.replace(/start|end/g,t=>Zz[t])}const zA=["left","right"],qA=["right","left"],nq=["top","bottom"],aq=["bottom","top"];function sq(e,t,r){switch(e){case"top":case"bottom":return r?t?qA:zA:t?zA:qA;case"left":case"right":return t?nq:aq;default:return[]}}function iq(e,t,r,n){const a=Gf(e);let i=sq(Lo(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Ij)))),i}function dx(e){return e.replace(/left|right|bottom|top/g,t=>Jz[t])}function oq(e){return{top:0,right:0,bottom:0,left:0,...e}}function SF(e){return typeof e!="number"?oq(e):{top:e,right:e,bottom:e,left:e}}function fx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function GA(e,t,r){let{reference:n,floating:a}=e;const i=Li(t),o=H_(t),l=W_(o),c=Lo(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Gf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const lq=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=GA(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:y,fn:b}=l[p],{x,y:w,data:v,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[y]:{...m[y],...v}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=GA(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Fm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Fo(t,e),g=SF(m),y=l[h?f==="floating"?"reference":"floating":f],b=fx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),v=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=fx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-j.top+g.top)/v.y,bottom:(j.bottom-b.bottom+g.bottom)/v.y,left:(b.left-j.left+g.left)/v.x,right:(j.right-b.right+g.right)/v.x}}const cq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Fo(e,t)||{};if(u==null)return{};const f=SF(d),h={x:r,y:n},m=H_(a),g=W_(m),p=await o.getDimensions(u),y=m==="y",b=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",v=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=S?S[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[w]||i.floating[g]);const E=v/2-j/2,T=_/2-p[g]/2-1,D=Yl(f[b],T),O=Yl(f[x],T),A=D,M=_-p[g]-O,U=_/2-p[g]/2+E,B=Pj(A,U,M),I=!c.arrow&&Gf(a)!=null&&U!==B&&i.reference[g]/2-(U<A?D:O)-p[g]/2<0,P=I?U<A?U-A:U-M:0;return{[m]:h[m]+P,data:{[m]:B,centerOffset:U-B-P,...I&&{alignmentOffset:P}},reset:I}}}),uq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=Fo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Lo(a),x=Li(l),w=Lo(l)===l,v=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[dx(l)]:rq(l)),S=g!=="none";!h&&S&&j.push(...iq(l,p,g,v));const _=[l,...j],E=await Fm(t,y),T=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(E[b]),f){const U=tq(a,o,v);T.push(E[U[0]],E[U[1]])}if(D=[...D,{placement:a,overflows:T}],!T.every(U=>U<=0)){var O,A;const U=(((O=i.flip)==null?void 0:O.index)||0)+1,B=_[U];if(B&&(!(f==="alignment"?x!==Li(B):!1)||D.every(C=>Li(C.placement)===x?C.overflows[0]>0:!0)))return{data:{index:U,overflows:D},reset:{placement:B}};let I=(A=D.filter(P=>P.overflows[0]<=0).sort((P,C)=>P.overflows[1]-C.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(m){case"bestFit":{var M;const P=(M=D.filter(C=>{if(S){const F=Li(C.placement);return F===x||F==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(F=>F>0).reduce((F,R)=>F+R,0)]).sort((C,F)=>C[1]-F[1])[0])==null?void 0:M[0];P&&(I=P);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function KA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YA(e){return Qz.some(t=>e[t]>=0)}const dq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Fo(e,t);switch(n){case"referenceHidden":{const i=await Fm(t,{...a,elementContext:"reference"}),o=KA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YA(o)}}}case"escaped":{const i=await Fm(t,{...a,altBoundary:!0}),o=KA(i,r.floating);return{data:{escapedOffsets:o,escaped:YA(o)}}}default:return{}}}}},NF=new Set(["left","top"]);async function fq(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Lo(r),l=Gf(r),c=Li(r)==="y",u=NF.has(o)?-1:1,d=i&&c?-1:1,f=Fo(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const hq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await fq(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},mq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:x}=y;return{x:b,y:x}}},...c}=Fo(e,t),u={x:r,y:n},d=await Fm(t,c),f=Li(Lo(a)),h=V_(f);let m=u[h],g=u[f];if(i){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[y],w=m-d[b];m=Pj(x,m,w)}if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[y],w=g-d[b];g=Pj(x,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},pq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Fo(e,t),d={x:r,y:n},f=Li(a),h=V_(f);let m=d[h],g=d[f];const p=Fo(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",v=i.reference[h]-i.floating[w]+y.mainAxis,j=i.reference[h]+i.reference[w]-y.mainAxis;m<v?m=v:m>j&&(m=j)}if(u){var b,x;const w=h==="y"?"width":"height",v=NF.has(Lo(a)),j=i.reference[f]-i.floating[w]+(v&&((b=o.offset)==null?void 0:b[f])||0)+(v?0:y.crossAxis),S=i.reference[f]+i.reference[w]+(v?0:((x=o.offset)==null?void 0:x[f])||0)-(v?y.crossAxis:0);g<j?g=j:g>S&&(g=S)}return{[h]:m,[f]:g}}}},gq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Fo(e,t),d=await Fm(t,u),f=Lo(a),h=Gf(a),m=Li(a)==="y",{width:g,height:p}=i.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,w=g-d.left-d.right,v=Yl(p-d[y],x),j=Yl(g-d[b],w),S=!t.middlewareData.shift;let _=v,E=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=x),S&&!h){const D=ns(d.left,0),O=ns(d.right,0),A=ns(d.top,0),M=ns(d.bottom,0);m?E=g-2*(D!==0||O!==0?D+O:ns(d.left,d.right)):_=p-2*(A!==0||M!==0?A+M:ns(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:_});const T=await o.getDimensions(l.floating);return g!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function uv(){return typeof window<"u"}function Kf(e){return _F(e)?(e.nodeName||"").toLowerCase():"#document"}function fs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function eo(e){var t;return(t=(_F(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _F(e){return uv()?e instanceof Node||e instanceof fs(e).Node:!1}function xi(e){return uv()?e instanceof Element||e instanceof fs(e).Element:!1}function Yi(e){return uv()?e instanceof HTMLElement||e instanceof fs(e).HTMLElement:!1}function XA(e){return!uv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fs(e).ShadowRoot}const xq=new Set(["inline","contents"]);function Gp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=yi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!xq.has(a)}const yq=new Set(["table","td","th"]);function vq(e){return yq.has(Kf(e))}const wq=[":popover-open",":modal"];function dv(e){return wq.some(t=>{try{return e.matches(t)}catch{return!1}})}const bq=["transform","translate","scale","rotate","perspective"],jq=["transform","translate","scale","rotate","perspective","filter"],Sq=["paint","layout","strict","content"];function z_(e){const t=q_(),r=xi(e)?yi(e):e;return bq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||jq.some(n=>(r.willChange||"").includes(n))||Sq.some(n=>(r.contain||"").includes(n))}function Nq(e){let t=Xl(e);for(;Yi(t)&&!af(t);){if(z_(t))return t;if(dv(t))return null;t=Xl(t)}return null}function q_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _q=new Set(["html","body","#document"]);function af(e){return _q.has(Kf(e))}function yi(e){return fs(e).getComputedStyle(e)}function fv(e){return xi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xl(e){if(Kf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XA(e)&&e.host||eo(e);return XA(t)?t.host:t}function EF(e){const t=Xl(e);return af(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yi(t)&&Gp(t)?t:EF(t)}function Lm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=EF(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=fs(a);if(i){const l=Rj(o);return t.concat(o,o.visualViewport||[],Gp(a)?a:[],l&&r?Lm(l):[])}return t.concat(a,Lm(a,[],r))}function Rj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function TF(e){const t=yi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Yi(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=ux(r)!==i||ux(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function G_(e){return xi(e)?e:e.contextElement}function Ed(e){const t=G_(e);if(!Yi(t))return Hi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=TF(t);let o=(i?ux(r.width):r.width)/n,l=(i?ux(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Eq=Hi(0);function AF(e){const t=fs(e);return!q_()||!t.visualViewport?Eq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fs(e)?!1:t}function iu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=G_(e);let o=Hi(1);t&&(n?xi(n)&&(o=Ed(n)):o=Ed(e));const l=Tq(i,r,n)?AF(i):Hi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=fs(i),m=n&&xi(n)?fs(n):n;let g=h,p=Rj(g);for(;p&&n&&m!==g;){const y=Ed(p),b=p.getBoundingClientRect(),x=yi(p),w=b.left+(p.clientLeft+parseFloat(x.paddingLeft))*y.x,v=b.top+(p.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=v,g=fs(p),p=Rj(g)}}return fx({width:d,height:f,x:c,y:u})}function K_(e,t){const r=fv(e).scrollLeft;return t?t.left+r:iu(eo(e)).left+r}function CF(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:K_(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Aq(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=eo(n),l=t?dv(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Hi(1);const d=Hi(0),f=Yi(n);if((f||!f&&!i)&&((Kf(n)!=="body"||Gp(o))&&(c=fv(n)),Yi(n))){const m=iu(n);u=Ed(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?CF(o,c,!0):Hi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Cq(e){return Array.from(e.getClientRects())}function Dq(e){const t=eo(e),r=fv(e),n=e.ownerDocument.body,a=ns(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ns(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+K_(e);const l=-r.scrollTop;return yi(n).direction==="rtl"&&(o+=ns(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function kq(e,t){const r=fs(e),n=eo(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=q_();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Oq=new Set(["absolute","fixed"]);function Pq(e,t){const r=iu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Yi(e)?Ed(e):Hi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function QA(e,t,r){let n;if(t==="viewport")n=kq(e,r);else if(t==="document")n=Dq(eo(e));else if(xi(t))n=Pq(t,r);else{const a=AF(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fx(n)}function DF(e,t){const r=Xl(e);return r===t||!xi(r)||af(r)?!1:yi(r).position==="fixed"||DF(r,t)}function Iq(e,t){const r=t.get(e);if(r)return r;let n=Lm(e,[],!1).filter(l=>xi(l)&&Kf(l)!=="body"),a=null;const i=yi(e).position==="fixed";let o=i?Xl(e):e;for(;xi(o)&&!af(o);){const l=yi(o),c=z_(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Oq.has(a.position)||Gp(o)&&!c&&DF(e,o))?n=n.filter(d=>d!==o):a=l,o=Xl(o)}return t.set(e,n),n}function Rq(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?dv(t)?[]:Iq(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=QA(t,d,a);return u.top=ns(f.top,u.top),u.right=Yl(f.right,u.right),u.bottom=Yl(f.bottom,u.bottom),u.left=ns(f.left,u.left),u},QA(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Mq(e){const{width:t,height:r}=TF(e);return{width:t,height:r}}function Fq(e,t,r){const n=Yi(t),a=eo(t),i=r==="fixed",o=iu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Hi(0);function u(){c.x=K_(a)}if(n||!n&&!i)if((Kf(t)!=="body"||Gp(a))&&(l=fv(t)),n){const m=iu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?CF(a,l):Hi(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function gw(e){return yi(e).position==="static"}function JA(e,t){if(!Yi(e)||yi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return eo(e)===r&&(r=r.ownerDocument.body),r}function kF(e,t){const r=fs(e);if(dv(e))return r;if(!Yi(e)){let a=Xl(e);for(;a&&!af(a);){if(xi(a)&&!gw(a))return a;a=Xl(a)}return r}let n=JA(e,t);for(;n&&vq(n)&&gw(n);)n=JA(n,t);return n&&af(n)&&gw(n)&&!z_(n)?r:n||Nq(e)||r}const Lq=async function(e){const t=this.getOffsetParent||kF,r=this.getDimensions,n=await r(e.floating);return{reference:Fq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $q(e){return yi(e).direction==="rtl"}const Bq={convertOffsetParentRelativeRectToViewportRelativeRect:Aq,getDocumentElement:eo,getClippingRect:Rq,getOffsetParent:kF,getElementRects:Lq,getClientRects:Cq,getDimensions:Mq,getScale:Ed,isElement:xi,isRTL:$q};function OF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Uq(e,t){let r=null,n;const a=eo(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=V0(f),p=V0(a.clientWidth-(d+h)),y=V0(a.clientHeight-(f+m)),b=V0(d),w={rootMargin:-g+"px "+-p+"px "+-y+"px "+-b+"px",threshold:ns(0,Yl(1,c))||1};let v=!0;function j(S){const _=S[0].intersectionRatio;if(_!==c){if(!v)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!OF(u,e.getBoundingClientRect())&&o(),v=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function Vq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=G_(e),d=a||i?[...u?Lm(u):[],...Lm(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?Uq(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?iu(e):null;c&&y();function y(){const b=iu(e);p&&!OF(p,b)&&r(),p=b,g=requestAnimationFrame(y)}return r(),()=>{var b;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Wq=hq,Hq=mq,zq=uq,qq=gq,Gq=dq,ZA=cq,Kq=pq,Yq=(e,t,r)=>{const n=new Map,a={platform:Bq,...r},i={...a.platform,_c:n};return lq(e,t,{...a,platform:i})};var Xq=typeof document<"u",Qq=function(){},Og=Xq?N.useLayoutEffect:Qq;function hx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!hx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function PF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eC(e,t){const r=PF(e);return Math.round(t*r)/r}function xw(e){const t=N.useRef(e);return Og(()=>{t.current=e}),t}function Jq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=N.useState(n);hx(h,n)||m(n);const[g,p]=N.useState(null),[y,b]=N.useState(null),x=N.useCallback(C=>{C!==S.current&&(S.current=C,p(C))},[]),w=N.useCallback(C=>{C!==_.current&&(_.current=C,b(C))},[]),v=i||g,j=o||y,S=N.useRef(null),_=N.useRef(null),E=N.useRef(d),T=c!=null,D=xw(c),O=xw(a),A=xw(u),M=N.useCallback(()=>{if(!S.current||!_.current)return;const C={placement:t,strategy:r,middleware:h};O.current&&(C.platform=O.current),Yq(S.current,_.current,C).then(F=>{const R={...F,isPositioned:A.current!==!1};U.current&&!hx(E.current,R)&&(E.current=R,ju.flushSync(()=>{f(R)}))})},[h,t,r,O,A]);Og(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const U=N.useRef(!1);Og(()=>(U.current=!0,()=>{U.current=!1}),[]),Og(()=>{if(v&&(S.current=v),j&&(_.current=j),v&&j){if(D.current)return D.current(v,j,M);M()}},[v,j,M,D,T]);const B=N.useMemo(()=>({reference:S,floating:_,setReference:x,setFloating:w}),[x,w]),I=N.useMemo(()=>({reference:v,floating:j}),[v,j]),P=N.useMemo(()=>{const C={position:r,left:0,top:0};if(!I.floating)return C;const F=eC(I.floating,d.x),R=eC(I.floating,d.y);return l?{...C,transform:"translate("+F+"px, "+R+"px)",...PF(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:R}},[r,l,I.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:M,refs:B,elements:I,floatingStyles:P}),[d,M,B,I,P])}const Zq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ZA({element:n.current,padding:a}).fn(r):{}:n?ZA({element:n,padding:a}).fn(r):{}}}},eG=(e,t)=>({...Wq(e),options:[e,t]}),tG=(e,t)=>({...Hq(e),options:[e,t]}),rG=(e,t)=>({...Kq(e),options:[e,t]}),nG=(e,t)=>({...zq(e),options:[e,t]}),aG=(e,t)=>({...qq(e),options:[e,t]}),sG=(e,t)=>({...Gq(e),options:[e,t]}),iG=(e,t)=>({...Zq(e),options:[e,t]});var oG="Arrow",IF=N.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(It.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});IF.displayName=oG;var lG=IF;function hv(e){const[t,r]=N.useState(void 0);return xn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Y_="Popper",[RF,Yf]=Ka(Y_),[cG,MF]=RF(Y_),FF=e=>{const{__scopePopper:t,children:r}=e,[n,a]=N.useState(null);return s.jsx(cG,{scope:t,anchor:n,onAnchorChange:a,children:r})};FF.displayName=Y_;var LF="PopperAnchor",$F=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=MF(LF,r),o=N.useRef(null),l=nr(t,o);return N.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(It.div,{...a,ref:l})});$F.displayName=LF;var X_="PopperContent",[uG,dG]=RF(X_),BF=N.forwardRef((e,t)=>{var ue,ge,le,X,xe,he;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,y=MF(X_,r),[b,x]=N.useState(null),w=nr(t,Me=>x(Me)),[v,j]=N.useState(null),S=hv(v),_=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,T=n+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],A=O.length>0,M={padding:D,boundary:O.filter(hG),altBoundary:A},{refs:U,floatingStyles:B,placement:I,isPositioned:P,middlewareData:C}=Jq({strategy:"fixed",placement:T,whileElementsMounted:(...Me)=>Vq(...Me,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[eG({mainAxis:a+E,alignmentAxis:o}),c&&tG({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?rG():void 0,...M}),c&&nG({...M}),aG({...M,apply:({elements:Me,rects:Pe,availableWidth:Be,availableHeight:Ie})=>{const{width:W,height:be}=Pe.reference,we=Me.floating.style;we.setProperty("--radix-popper-available-width",`${Be}px`),we.setProperty("--radix-popper-available-height",`${Ie}px`),we.setProperty("--radix-popper-anchor-width",`${W}px`),we.setProperty("--radix-popper-anchor-height",`${be}px`)}}),v&&iG({element:v,padding:l}),mG({arrowWidth:_,arrowHeight:E}),h&&sG({strategy:"referenceHidden",...M})]}),[F,R]=WF(I),se=ms(g);xn(()=>{P&&(se==null||se())},[P,se]);const L=(ue=C.arrow)==null?void 0:ue.x,q=(ge=C.arrow)==null?void 0:ge.y,H=((le=C.arrow)==null?void 0:le.centerOffset)!==0,[K,ce]=N.useState();return xn(()=>{b&&ce(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:P?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(X=C.transformOrigin)==null?void 0:X.x,(xe=C.transformOrigin)==null?void 0:xe.y].join(" "),...((he=C.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(uG,{scope:r,placedSide:F,onArrowChange:j,arrowX:L,arrowY:q,shouldHideArrow:H,children:s.jsx(It.div,{"data-side":F,"data-align":R,...p,ref:w,style:{...p.style,animation:P?void 0:"none"}})})})});BF.displayName=X_;var UF="PopperArrow",fG={top:"bottom",right:"left",bottom:"top",left:"right"},VF=N.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=dG(UF,n),o=fG[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(lG,{...a,ref:r,style:{...a.style,display:"block"}})})});VF.displayName=UF;function hG(e){return e!==null}var mG=e=>({name:"transformOrigin",options:e,fn(t){var y,b,x;const{placement:r,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=WF(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function WF(e){const[t,r="center"]=e.split("-");return[t,r]}var HF=FF,mv=$F,Q_=BF,J_=VF,[pv,LPe]=Ka("Tooltip",[Yf]),Z_=Yf(),zF="TooltipProvider",pG=700,tC="tooltip.open",[gG,qF]=pv(zF),GF=e=>{const{__scopeTooltip:t,delayDuration:r=pG,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(gG,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};GF.displayName=zF;var KF="Tooltip",[$Pe,gv]=pv(KF),Mj="TooltipTrigger",xG=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=gv(Mj,r),i=qF(Mj,r),o=Z_(r),l=N.useRef(null),c=nr(t,l,a.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),f=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(mv,{asChild:!0,...o,children:s.jsx(It.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:jt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:jt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:jt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:jt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:jt(e.onBlur,a.onClose),onClick:jt(e.onClick,a.onClose)})})});xG.displayName=Mj;var yG="TooltipPortal",[BPe,vG]=pv(yG,{forceMount:void 0}),sf="TooltipContent",YF=N.forwardRef((e,t)=>{const r=vG(sf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=gv(sf,e.__scopeTooltip);return s.jsx(bi,{present:n||o.open,children:o.disableHoverableContent?s.jsx(XF,{side:a,...i,ref:t}):s.jsx(wG,{side:a,...i,ref:t})})}),wG=N.forwardRef((e,t)=>{const r=gv(sf,e.__scopeTooltip),n=qF(sf,e.__scopeTooltip),a=N.useRef(null),i=nr(t,a),[o,l]=N.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=N.useCallback(()=>{l(null),f(!1)},[f]),m=N.useCallback((g,p)=>{const y=g.currentTarget,b={x:g.clientX,y:g.clientY},x=_G(b,y.getBoundingClientRect()),w=EG(b,x),v=TG(p.getBoundingClientRect()),j=CG([...w,...v]);l(j),f(!0)},[f]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(c&&d){const g=y=>m(y,d),p=y=>m(y,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),N.useEffect(()=>{if(o){const g=p=>{const y=p.target,b={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!AG(b,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),s.jsx(XF,{...e,ref:i})}),[bG,jG]=pv(KF,{isInside:!1}),SG=fH("TooltipContent"),XF=N.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=gv(sf,r),u=Z_(r),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(tC,d),()=>document.removeEventListener(tC,d)),[d]),N.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(Q_,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(SG,{children:n}),s.jsx(bG,{scope:r,isInside:!0,children:s.jsx(IH,{id:c.contentId,role:"tooltip",children:a||n})})]})})});YF.displayName=sf;var QF="TooltipArrow",NG=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Z_(r);return jG(QF,r).isInside?null:s.jsx(J_,{...a,...n,ref:t})});NG.displayName=QF;function _G(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function EG(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function TG(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function AG(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function CG(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),DG(t)}function DG(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var kG=GF,JF=YF;const OG=kG,PG=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(JF,{ref:n,sideOffset:t,className:rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));PG.displayName=JF.displayName;function Kp(){const{data:e,isLoading:t}=Fe({queryKey:["/api/auth/user"],retry:!1,staleTime:3e5,refetchOnWindowFocus:!1,refetchInterval:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const IG="user_id",RG=e=>{try{localStorage.setItem(IG,e)}catch(t){console.error("Failed to store user ID in localStorage:",t)}},MG=()=>{localStorage.getItem("user_id")||(RG("14674"),console.log("🔄 No user_id found, set default to 14674")),localStorage.getItem("org_id")||localStorage.setItem("org_id","60"),localStorage.getItem("role")||localStorage.setItem("role","admin")},Ee=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:rt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ee.displayName="Card";const _t=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:rt("flex flex-col space-y-1.5 p-6",e),...t}));_t.displayName="CardHeader";const Et=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:rt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Et.displayName="CardTitle";const of=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:rt("text-sm text-muted-foreground",e),...t}));of.displayName="CardDescription";const De=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:rt("p-6 pt-0",e),...t}));De.displayName="CardContent";const FG=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:rt("flex items-center p-6 pt-0",e),...t}));FG.displayName="CardFooter";function LG(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Ee,{className:"w-full max-w-md mx-4",children:s.jsxs(De,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(rf,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Fj=zp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=N.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?kM:"button";return s.jsx(o,{className:rt(Fj({variant:t,size:r,className:e})),ref:i,...a})});ne.displayName="Button";function $G(){const{isLoading:e,isAuthenticated:t}=Kp(),[r,n]=N.useState(!1),a=localStorage.getItem("user_id")||"225",{data:i=[]}=Fe({queryKey:["/api/pto-requests",a],queryFn:async()=>{try{const l=await fetch(`/api/pto-requests?userId=${a}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return l.ok?l.json():[]}catch{return[]}},enabled:t}),{data:o=[]}=Fe({queryKey:["/api/pto-variants/available"],queryFn:async()=>{try{const l=await fetch("/api/pto-variants",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}}).then(u=>u.json()),c=[];for(const u of l)try{const d=await fetch(`/api/employee-assignments/pto/${u.id}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});d.ok&&(await d.json()).some(m=>m.userId===a||m.userId===a.toString())&&c.push(u)}catch(d){console.error(`Error checking assignments for variant ${u.id}:`,d)}return c}catch{return[]}},enabled:t});return e?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Ee,{className:"w-full max-w-md mx-4",children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"ez"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eziileave"}),s.jsx(Dj,{className:"w-6 h-6 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Loading your workspace..."})]})})})}):t?(window.location.href="/",null):s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Ee,{className:"w-full max-w-md mx-4",children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"ez"})}),s.jsx("span",{className:"font-semibold text-lg text-gray-900",children:"eziileave"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to eziileave"}),s.jsx("p",{className:"text-gray-600",children:"Your comprehensive leave management solution"})]}),s.jsx("div",{className:"w-full space-y-4",children:s.jsx(ne,{onClick:()=>window.location.href="/api/login",className:"w-full bg-primary hover:bg-primary/90",children:"Sign In with Replit"})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Streamline your leave management process with automated workflows, real-time approvals, and comprehensive reporting."})})]})})})})}let Xa=null,Ai=0;const BG=30*1e3,rC=e=>{switch(e){case"admin":return{employeeOverview:{view:!0,modify:!0},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!0},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},employeeReports:{view:!0,modify:!0},adminOverview:{view:!0,modify:!0},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!0},workflows:{view:!0,modify:!0},roles:{view:!0,modify:!0},adminReports:{view:!0,modify:!0},importLeaveData:{view:!0,modify:!0},adminLeaveTypes:{view:!0,modify:!0},adminCompOff:{view:!0,modify:!0},adminPTO:{view:!0,modify:!0},adminSettings:{view:!0,modify:!0},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}};case"manager":return{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!1},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!1},pto:{view:!0,modify:!1},employeeReports:{view:!0,modify:!1},adminOverview:{view:!0,modify:!1},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},adminReports:{view:!0,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},adminSettings:{view:!1,modify:!1},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}};case"employee":default:return{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},employeeReports:{view:!0,modify:!1},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},adminReports:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},adminSettings:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}};function Yp(){const[e,t]=N.useState(Xa),[r,n]=N.useState(!Xa);N.useEffect(()=>{const c=async()=>{try{const f=localStorage.getItem("role_name")||localStorage.getItem("role")||"employee",h=localStorage.getItem("org_id"),m=Date.now();if(Xa&&m-Ai<BG){console.log("Using cached permissions to prevent flickering"),t(Xa),n(!1);return}if(console.log("Loading permissions for role:",f),Xa=null,Ai=0,h)try{const p={"Content-Type":"application/json"};h&&(p["X-Org-Id"]=h);const y=await fetch("/api/roles",{headers:p,credentials:"include"});if(y.ok){const x=(await y.json()).find(w=>w.name.toLowerCase()===f.toLowerCase());if(x&&x.permissions){console.log("Using database role permissions for",f,":",x.permissions),console.log("Workflows permission:",x.permissions.workflows);let w=x.permissions;f.toLowerCase()==="admin"&&Object.keys(x.permissions).length===0&&(w={employeeOverview:{view:!0,modify:!0},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!0},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},employeeReports:{view:!0,modify:!0},adminOverview:{view:!0,modify:!0},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!0},workflows:{view:!0,modify:!0},roles:{view:!0,modify:!0},adminReports:{view:!0,modify:!0},importLeaveData:{view:!0,modify:!0},adminLeaveTypes:{view:!0,modify:!0},adminCompOff:{view:!0,modify:!0},adminPTO:{view:!0,modify:!0},adminSettings:{view:!0,modify:!0},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}}),Xa=w,Ai=Date.now(),t(w),n(!1);return}}}catch(p){console.error("Error fetching role permissions from database:",p)}const g=localStorage.getItem("user_permissions");if(g){console.log("Using user_permissions:",JSON.parse(g));const p=JSON.parse(g);Xa=p,Ai=Date.now(),t(p)}else{const p=`role_permissions_${f.toLowerCase()}`,y=localStorage.getItem(p);if(console.log("Checking role key:",p),console.log("Role permissions found:",!!y),y){const b=JSON.parse(y);console.log("Using role permissions:",b),Xa=b,Ai=Date.now(),t(b)}else{const b=rC(f);console.log("Using default permissions for role:",f,b),Xa=b,Ai=Date.now(),t(b)}}}catch(f){console.error("Error loading permissions:",f);const h=rC("employee");Xa=h,Ai=Date.now(),t(h)}finally{n(!1)}};c();const u=f=>{(!f||f.key==="user_permissions"||f.key==="role"||f.key==="org_id")&&(console.log("Storage change detected, invalidating permissions cache"),Xa=null,Ai=0,n(!0),c())},d=f=>{console.log("Custom permissions change detected, invalidating cache"),Xa=null,Ai=0,n(!0),c()};return window.addEventListener("storage",u),window.addEventListener("permissions-updated",d),()=>{window.removeEventListener("storage",u),window.removeEventListener("permissions-updated",d)}},[]);const a=(c,u="view")=>{if(!e)return!1;const d=e[c];return d?c==="allowOnBehalf"?!0:d[u]===!0:!1};return{permissions:e,loading:r,hasPermission:a,canViewScreen:c=>a(c,"view"),canModifyScreen:c=>a(c,"modify"),updatePermissions:c=>{localStorage.setItem("user_permissions",JSON.stringify(c)),Xa=c,Ai=Date.now(),t(c)}}}const UG="https://qa-api.resolveindia.com";async function ji(){console.log("[ExternalAPI] Starting fetchEmployeeData...");const e=localStorage.getItem("jwt_token");if(console.log("[ExternalAPI] JWT token available:",!!e),console.log("[ExternalAPI] Token length:",(e==null?void 0:e.length)||0),console.log("[ExternalAPI] Token preview:",(e==null?void 0:e.substring(0,50))+"..."),console.log("[ExternalAPI] Full Authorization header:",`Bearer ${e}`),!e)throw console.error("[ExternalAPI] No JWT token found in localStorage"),console.log("[ExternalAPI] Available localStorage keys:",Object.keys(localStorage)),new Error("Authentication required. JWT token not found in localStorage.");const t={userBlocks:[1,3,4],userWise:0,workerType:0,attribute:0,subAttributeId:0};try{console.log("[ExternalAPI] Making request to worker-master-leave endpoint..."),console.log("[ExternalAPI] Payload:",t);const r=await fetch(`${UG}/reports/worker-master-leave`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(console.log("[ExternalAPI] Response status:",r.status),!r.ok){const a=await r.text();throw console.error("[ExternalAPI] Response error:",a),new Error(`Failed to fetch employee data: ${r.status} ${r.statusText}`)}const n=await r.json();if(console.log("[ExternalAPI] Response data:",n),n.result!=="Success")throw console.error("[ExternalAPI] API returned error:",n.message),new Error(`API returned error: ${n.message}`);return console.log(`[ExternalAPI] Successfully fetched ${n.data.data.length} employees from external API`),n.data.data}catch(r){throw console.error("[ExternalAPI] Error fetching employee data:",r),r}}function Xf(e){try{return{id:e.user_id||"N/A",firstName:e.first_name||"",lastName:e.last_name||"",email:e.email||"",employeeNumber:e.employee_number||"",designation:e.designation_name||"Employee",dateOfJoining:e.date_of_joining||null,userRole:e.user_role_name||"General",workerType:e.worker_type||"Employee",profilePhoto:e.user_profile||null,phoneNumber:e.Mobile_number_1||e.Mobile_number_2||null,dateOfBirth:e.date_of_birth||null,gender:e.gender_name||"Not Specified",reportingManager:e.reporting_manager_id||null,leaveId:e.leave_id||null,isDifferentlyAbled:e.is_differently_abled==="Yes",lastWorkingDay:e.last_working_day||null,user_id:e.user_id||"N/A",user_name:e.user_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.employee_number||`User ${e.user_id}`||"Employee",employee_number:e.employee_number||""}}catch(t){return console.error("[ExternalAPI] Error transforming employee data:",t,e),{id:e.user_id||"N/A",firstName:"Unknown",lastName:"Employee",email:"",employeeNumber:"",designation:"Employee",dateOfJoining:null,userRole:"General",workerType:"Employee",profilePhoto:null,phoneNumber:null,dateOfBirth:null,gender:"Not Specified",reportingManager:null,leaveId:null,isDifferentlyAbled:!1,lastWorkingDay:null,user_id:e.user_id||"N/A",user_name:e.user_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.employee_number||`User ${e.user_id}`||"Employee",employee_number:e.employee_number||""}}}const ZF=Object.freeze(Object.defineProperty({__proto__:null,fetchEmployeeData:ji,transformEmployeeData:Xf},Symbol.toStringTag,{value:"Module"}));function Er({children:e}){var O;const{user:t}=Kp(),{canViewScreen:r,loading:n,permissions:a}=Yp(),[i]=Uf(),[o,l]=N.useState(!1),[c,u]=N.useState(!1),{data:d=[]}=Fe({queryKey:["external-employees"],queryFn:ji,staleTime:5*60*1e3}),f=localStorage.getItem("user_id"),h=t;let m="User",g="U";if(f&&f!==(h==null?void 0:h.id)){const A=d.find(M=>M.user_id===f);if(A!=null&&A.user_name)m=A.user_name,g=A.user_name.split(" ").map(M=>M[0]).join("").substring(0,2).toUpperCase();else{const U={6005:{name:"George Mathews",initials:"GM"},7243:{name:"Sumalatha Thadimari",initials:"ST"},7246:{name:"Anjali Kumari",initials:"AK"},12080:{name:"Rahul Sharma",initials:"RS"}}[f];U?(m=U.name,g=U.initials):f==="1435"?(m="admin",g="AD"):(m=`Employee ${f}`,g=f.substring(0,2).toUpperCase())}}else m=h!=null&&h.firstName&&(h!=null&&h.lastName)?`${h.firstName} ${h.lastName}`:h!=null&&h.email?h.email.split("@")[0]:"User",g=h!=null&&h.firstName&&(h!=null&&h.lastName)?`${h.firstName[0]}${h.lastName[0]}`.toUpperCase():h!=null&&h.firstName?h.firstName[0].toUpperCase():"U";const p=localStorage.getItem("role_name")||localStorage.getItem("role"),[y,b]=N.useState(()=>localStorage.getItem("currentView")||"admin");N.useEffect(()=>{const A=localStorage.getItem("currentView");A&&A!==y&&b(A)},[]);const x=()=>{const A=y==="admin"?"employee":"admin";b(A),localStorage.setItem("currentView",A)},w=[{name:"Admin Overview",href:"/overview",icon:L_,permission:"adminOverview",type:"admin"},{name:"Approvals",href:"/approvals",icon:Qn,permission:"approvals",type:"admin"},{name:"Employees",href:"/employees",icon:Vn,permission:"employees",type:"admin"},{name:"Workflows",href:"/workflows",icon:iz,permission:"workflows",type:"admin"},{name:"Roles",href:"/roles",icon:fz,permission:"roles",type:"admin"},{name:"Import Leave Data",href:"/import-leave-data",icon:B_,permission:"importLeaveData",type:"admin"},{name:"My Dashboard",href:"/employee-overview",icon:Uu,permission:"employeeOverview",type:"employee"},{name:"Leave Applications",href:"/applications",icon:Uu,permission:"leaveApplications",type:"employee"},{name:"Holidays",href:"/holidays",icon:Uu,permission:"holidays",type:"employee"},{name:"Compensatory Off",href:"/compensatory-off",icon:Uu,permission:"compensatoryOff",type:"employee"},{name:"PTO",href:"/pto",icon:Uu,permission:"pto",type:"employee"},{name:"Task Manager",href:"/task-manager",icon:oz,permission:"employeeOverview",type:"employee"}],v=[{name:"Leave Types",href:"/admin/leave-types",icon:Ri,permission:"adminLeaveTypes"},{name:"Comp Off",href:"/admin/comp-off",icon:Ri,permission:"adminCompOff"},{name:"PTO",href:"/admin/pto",icon:Ri,permission:"adminPTO"},{name:"Black Out Period",href:"/admin/blackout-periods",icon:Ri,permission:"adminSettings"},{name:"Features",href:"/admin/feature-settings",icon:Ri,permission:"adminSettings"}],j=[{name:"Leave Availed Report",href:"/admin/reports/leave-availed",icon:Ma,permission:"adminReports"},{name:"Withdrawal Rejection Report",href:"/admin/reports/withdrawal-rejection",icon:Ma,permission:"adminReports"},{name:"Collaborative Leave Report",href:"/admin/reports/collaborative-leave",icon:Ma,permission:"adminReports"},{name:"HR Leave Balance Report",href:"/hr-leave-balance-report",icon:Ma,permission:"adminReports"}],S=[{name:"My Leave History",href:"/reports/history",icon:Ma,permission:"employeeReports"},{name:"My Balances",href:"/reports/balances",icon:Ma,permission:"employeeReports"},{name:"My Withdrawal History",href:"/reports/withdrawal-history",icon:Ma,permission:"employeeReports"}];localStorage.getItem("user_id"),!n&&a&&w.filter(A=>A.type==="admin").some(A=>r(A.permission)),!n&&a&&w.filter(A=>A.type==="employee").some(A=>r(A.permission));const _=n||!a?[]:w.filter(A=>{const M=r(A.permission);return A.type===y&&M}),E=n||!a?[]:v.filter(A=>{const M=r(A.permission);return y==="admin"&&M}),T=n||!a?[]:j.filter(A=>y==="admin"&&r(A.permission)),D=n||!a?[]:S.filter(A=>y==="employee"&&r(A.permission));return s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsxs("div",{className:"w-64 bg-sidebar text-white flex-shrink-0 relative flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-600",children:s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:"/eziileave-logo.png",alt:"EziiLeave",className:"h-8 w-auto"})})}),s.jsxs("nav",{className:"mt-6 overflow-y-auto flex-1 pb-20",children:[s.jsx("div",{className:"px-4 mb-6",children:s.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uu,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-medium",children:"Home"})]}),s.jsx("div",{className:"ml-7 mt-2 text-sm text-gray-300",children:"Leave"})]})}),s.jsxs("div",{className:"space-y-1 px-4",children:[_.map(A=>{const M=A.icon,U=i===A.href;return s.jsx(zh,{href:A.href,children:s.jsxs("a",{className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${U?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s.jsx(M,{className:"w-5 h-5"}),s.jsx("span",{children:A.name})]})},A.name)}),p==="admin"&&E.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg text-gray-300 hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>l(!o),children:[s.jsx(Ri,{className:"w-5 h-5"}),s.jsx("span",{children:"Configurations"}),s.jsx(Nd,{className:`w-4 h-4 ml-auto transition-transform ${o?"rotate-180":""}`})]}),o&&s.jsx("div",{className:"ml-8 space-y-1",children:E.map(A=>{const M=i===A.href;return s.jsx(zh,{href:A.href,children:s.jsx("a",{className:`flex items-center space-x-3 p-2 rounded-lg transition-colors cursor-pointer ${M?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s.jsx("span",{className:"text-sm",children:A.name})})},A.name)})})]}),y==="admin"&&T.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg text-gray-300 hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>u(!c),children:[s.jsx(Ma,{className:"w-5 h-5"}),s.jsx("span",{children:"Reports"}),s.jsx(Nd,{className:`w-4 h-4 ml-auto transition-transform ${c?"rotate-180":""}`})]}),c&&s.jsx("div",{className:"ml-8 space-y-1",children:T.map(A=>{const M=i===A.href;return s.jsx(zh,{href:A.href,children:s.jsx("div",{className:`flex items-center space-x-3 p-2 rounded-lg transition-colors cursor-pointer ${M?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s.jsx("span",{className:"text-sm",children:A.name})})},A.name)})})]}),y==="employee"&&D.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg text-gray-300 hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>u(!c),children:[s.jsx(Ma,{className:"w-5 h-5"}),s.jsx("span",{children:"Reports"}),s.jsx(Nd,{className:`w-4 h-4 ml-auto transition-transform ${c?"rotate-180":""}`})]}),c&&s.jsx("div",{className:"ml-8 space-y-1",children:D.map(A=>{const M=i===A.href;return s.jsx(zh,{href:A.href,children:s.jsx("div",{className:`flex items-center space-x-3 p-2 rounded-lg transition-colors cursor-pointer ${M?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s.jsx("span",{className:"text-sm",children:A.name})})},A.name)})})]})]})]}),p==="admin"&&s.jsx("div",{className:"mt-auto p-4",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-600 rounded-md",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:y==="admin"?"Admin View":"Employee View"}),s.jsx("button",{onClick:x,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y==="admin"?"bg-blue-500":"bg-gray-400"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y==="admin"?"translate-x-6":"translate-x-1"}`})})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-lg font-medium text-gray-800",children:i==="/"?"Leave Management":i==="/setup"?"Leave Management / Setup":((O=_.find(A=>A.href===i))==null?void 0:O.name)||"Leave Management"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rz,{className:"w-5 h-5"})}),p==="admin"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"View:"}),s.jsx("button",{onClick:x,className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:y==="admin"?"Admin":"Employee"})]}),s.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("span",{className:"text-sm text-gray-700",children:m}),s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:g})})]})]})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e})]})]})}var Xp=e=>e.type==="checkbox",kc=e=>e instanceof Date,Na=e=>e==null;const e3=e=>typeof e=="object";var sn=e=>!Na(e)&&!Array.isArray(e)&&e3(e)&&!kc(e),t3=e=>sn(e)&&e.target?Xp(e.target)?e.target.checked:e.target.value:e,VG=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,r3=(e,t)=>e.has(VG(t)),WG=e=>{const t=e.constructor&&e.constructor.prototype;return sn(t)&&t.hasOwnProperty("isPrototypeOf")},e2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(e2&&(e instanceof Blob||n))&&(r||sn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!WG(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=jn(e[a]));else return e;return t}var xv=e=>/^\w*$/.test(e),nn=e=>e===void 0,t2=e=>Array.isArray(e)?e.filter(Boolean):[],r2=e=>t2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(e,t,r)=>{if(!t||!sn(e))return r;const n=(xv(t)?[t]:r2(t)).reduce((a,i)=>Na(a)?a:a[i],e);return nn(n)||n===e?nn(e[t])?r:e[t]:n},ts=e=>typeof e=="boolean",wr=(e,t,r)=>{let n=-1;const a=xv(t)?[t]:r2(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=sn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const mx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ni={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ao={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},n2=de.createContext(null);n2.displayName="HookFormContext";const yv=()=>de.useContext(n2),HG=e=>{const{children:t,...r}=e;return de.createElement(n2.Provider,{value:r},t)};var n3=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ni.all&&(t._proxyFormState[o]=!n||ni.all),r&&(r[o]=!0),e[o]}});return a};const a2=typeof window<"u"?de.useLayoutEffect:de.useEffect;function zG(e){const t=yv(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=de.useState(r._formState),c=de.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return a2(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),de.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),de.useMemo(()=>n3(o,r,c.current,!1),[o,r])}var $i=e=>typeof e=="string",a3=(e,t,r,n,a)=>$i(e)?(n&&t.watch.add(e),nt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),nt(r,i))):(n&&(t.watchAll=!0),r),Lj=e=>Na(e)||!e3(e);function po(e,t,r=new WeakSet){if(Lj(e)||Lj(t))return e===t;if(kc(e)&&kc(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(kc(o)&&kc(l)||sn(o)&&sn(l)||Array.isArray(o)&&Array.isArray(l)?!po(o,l,r):o!==l)return!1}}return!0}function qG(e){const t=yv(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=de.useRef(a),u=de.useRef(l),d=de.useRef(void 0);u.current=l;const f=de.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=de.useState(u.current?u.current(f):f);return a2(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!i){const p=a3(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const y=u.current(p);po(y,d.current)||(m(y),d.current=y)}else m(p)}}}),[r,i,n,o]),de.useEffect(()=>r._removeUnmounted()),h}function GG(e){const t=yv(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=r3(a._names.array,r),c=de.useMemo(()=>nt(a._formValues,r,nt(a._defaultValues,r,o)),[a,r,o]),u=qG({control:a,name:r,defaultValue:c,exact:!0}),d=zG({control:a,name:r,exact:!0}),f=de.useRef(e),h=de.useRef(a.register(r,{...e.rules,value:u,...ts(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=de.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!nt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!nt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!nt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!nt(d.validatingFields,r)},error:{enumerable:!0,get:()=>nt(d.errors,r)}}),[d,r]),g=de.useCallback(x=>h.current.onChange({target:{value:t3(x),name:r},type:mx.CHANGE}),[r]),p=de.useCallback(()=>h.current.onBlur({target:{value:nt(a._formValues,r),name:r},type:mx.BLUR}),[r,a._formValues]),y=de.useCallback(x=>{const w=nt(a._fields,r);w&&x&&(w._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:v=>x.setCustomValidity(v),reportValidity:()=>x.reportValidity()})},[a._fields,r]),b=de.useMemo(()=>({name:r,value:u,...ts(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:y}),[r,n,d.disabled,g,p,y,u]);return de.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...ts(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(v,j)=>{const S=nt(a._fields,v);S&&S._f&&(S._f.mount=j)};if(w(r,!0),x){const v=jn(nt(a._options.defaultValues,r));wr(a._defaultValues,r,v),nn(nt(a._formValues,r))&&wr(a._formValues,r,v)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):w(r,!1)}},[r,a,l,i]),de.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),de.useMemo(()=>({field:b,formState:d,fieldState:m}),[b,d,m])}const KG=e=>e.render(GG(e));var s3=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},om=e=>Array.isArray(e)?e:[e],nC=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Ra=e=>sn(e)&&!Object.keys(e).length,s2=e=>e.type==="file",ai=e=>typeof e=="function",px=e=>{if(!e2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},i3=e=>e.type==="select-multiple",i2=e=>e.type==="radio",YG=e=>i2(e)||Xp(e),yw=e=>px(e)&&e.isConnected;function XG(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=nn(e)?n++:e[t[n++]];return e}function QG(e){for(const t in e)if(e.hasOwnProperty(t)&&!nn(e[t]))return!1;return!0}function cn(e,t){const r=Array.isArray(t)?t:xv(t)?[t]:r2(t),n=r.length===1?e:XG(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(sn(n)&&Ra(n)||Array.isArray(n)&&QG(n))&&cn(e,r.slice(0,-1)),e}var o3=e=>{for(const t in e)if(ai(e[t]))return!0;return!1};function gx(e,t={}){const r=Array.isArray(e);if(sn(e)||r)for(const n in e)Array.isArray(e[n])||sn(e[n])&&!o3(e[n])?(t[n]=Array.isArray(e[n])?[]:{},gx(e[n],t[n])):Na(e[n])||(t[n]=!0);return t}function l3(e,t,r){const n=Array.isArray(e);if(sn(e)||n)for(const a in e)Array.isArray(e[a])||sn(e[a])&&!o3(e[a])?nn(t)||Lj(r[a])?r[a]=Array.isArray(e[a])?gx(e[a],[]):{...gx(e[a])}:l3(e[a],Na(t)?{}:t[a],r[a]):r[a]=!po(e[a],t[a]);return r}var Eh=(e,t)=>l3(e,t,gx(t));const aC={value:!1,isValid:!1},sC={value:!0,isValid:!0};var c3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nn(e[0].attributes.value)?nn(e[0].value)||e[0].value===""?sC:{value:e[0].value,isValid:!0}:sC:aC}return aC},u3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>nn(e)?e:t?e===""?NaN:e&&+e:r&&$i(e)?new Date(e):n?n(e):e;const iC={isValid:!1,value:null};var d3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,iC):iC;function oC(e){const t=e.ref;return s2(t)?t.files:i2(t)?d3(e.refs).value:i3(t)?[...t.selectedOptions].map(({value:r})=>r):Xp(t)?c3(e.refs).value:u3(nn(t.value)?e.ref.value:t.value,e)}var JG=(e,t,r,n)=>{const a={};for(const i of e){const o=nt(t,i);o&&wr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},xx=e=>e instanceof RegExp,Th=e=>nn(e)?e:xx(e)?e.source:sn(e)?xx(e.value)?e.value.source:e.value:e,lC=e=>({isOnSubmit:!e||e===ni.onSubmit,isOnBlur:e===ni.onBlur,isOnChange:e===ni.onChange,isOnAll:e===ni.all,isOnTouch:e===ni.onTouched});const cC="AsyncFunction";var ZG=e=>!!e&&!!e.validate&&!!(ai(e.validate)&&e.validate.constructor.name===cC||sn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===cC)),eK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),uC=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const lm=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=nt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(lm(l,t))break}else if(sn(l)&&lm(l,t))break}}};function dC(e,t,r){const n=nt(e,r);if(n||xv(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=nt(t,i),l=nt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var tK=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Ra(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ni.all))},rK=(e,t,r)=>!e||!t||e===t||om(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),nK=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,aK=(e,t)=>!t2(nt(e,t)).length&&cn(e,t),sK=(e,t,r)=>{const n=om(nt(e,r));return wr(n,"root",t[r]),wr(e,r,n),e},Pg=e=>$i(e);function fC(e,t,r="validate"){if(Pg(e)||Array.isArray(e)&&e.every(Pg)||ts(e)&&!e)return{type:r,message:Pg(e)?e:"",ref:t}}var Vu=e=>sn(e)&&!xx(e)?e:{value:e,message:""},hC=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:y,mount:b}=e._f,x=nt(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,v=A=>{a&&w.reportValidity&&(w.setCustomValidity(ts(A)?"":A||""),w.reportValidity())},j={},S=i2(o),_=Xp(o),E=S||_,T=(y||s2(o))&&nn(o.value)&&nn(x)||px(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,D=s3.bind(null,p,n,j),O=(A,M,U,B=ao.maxLength,I=ao.minLength)=>{const P=A?M:U;j[p]={type:A?B:I,message:P,ref:o,...D(A?B:I,P)}};if(i?!Array.isArray(x)||!x.length:c&&(!E&&(T||Na(x))||ts(x)&&!x||_&&!c3(l).isValid||S&&!d3(l).isValid)){const{value:A,message:M}=Pg(c)?{value:!!c,message:c}:Vu(c);if(A&&(j[p]={type:ao.required,message:M,ref:w,...D(ao.required,M)},!n))return v(M),j}if(!T&&(!Na(f)||!Na(h))){let A,M;const U=Vu(h),B=Vu(f);if(!Na(x)&&!isNaN(x)){const I=o.valueAsNumber||x&&+x;Na(U.value)||(A=I>U.value),Na(B.value)||(M=I<B.value)}else{const I=o.valueAsDate||new Date(x),P=R=>new Date(new Date().toDateString()+" "+R),C=o.type=="time",F=o.type=="week";$i(U.value)&&x&&(A=C?P(x)>P(U.value):F?x>U.value:I>new Date(U.value)),$i(B.value)&&x&&(M=C?P(x)<P(B.value):F?x<B.value:I<new Date(B.value))}if((A||M)&&(O(!!A,U.message,B.message,ao.max,ao.min),!n))return v(j[p].message),j}if((u||d)&&!T&&($i(x)||i&&Array.isArray(x))){const A=Vu(u),M=Vu(d),U=!Na(A.value)&&x.length>+A.value,B=!Na(M.value)&&x.length<+M.value;if((U||B)&&(O(U,A.message,M.message),!n))return v(j[p].message),j}if(m&&!T&&$i(x)){const{value:A,message:M}=Vu(m);if(xx(A)&&!x.match(A)&&(j[p]={type:ao.pattern,message:M,ref:o,...D(ao.pattern,M)},!n))return v(M),j}if(g){if(ai(g)){const A=await g(x,r),M=fC(A,w);if(M&&(j[p]={...M,...D(ao.validate,M.message)},!n))return v(M.message),j}else if(sn(g)){let A={};for(const M in g){if(!Ra(A)&&!n)break;const U=fC(await g[M](x,r),w,M);U&&(A={...U,...D(M,U.message)},v(U.message),n&&(j[p]=A))}if(!Ra(A)&&(j[p]={ref:w,...A},!n))return j}}return v(!0),j};const iK={mode:ni.onSubmit,reValidateMode:ni.onChange,shouldFocusError:!0};function oK(e={}){let t={...iK,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ai(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=sn(t.defaultValues)||sn(t.values)?jn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:jn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:nC(),state:nC()},m=t.criteriaMode===ni.all,g=z=>J=>{clearTimeout(u),u=setTimeout(z,J)},p=async z=>{if(!t.disabled&&(d.isValid||f.isValid||z)){const J=t.resolver?Ra((await _()).errors):await T(n,!0);J!==r.isValid&&h.state.next({isValid:J})}},y=(z,J)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((z||Array.from(l.mount)).forEach(pe=>{pe&&(J?wr(r.validatingFields,pe,J):cn(r.validatingFields,pe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ra(r.validatingFields)}))},b=(z,J=[],pe,ae,ye=!0,ve=!0)=>{if(ae&&pe&&!t.disabled){if(o.action=!0,ve&&Array.isArray(nt(n,z))){const Re=pe(nt(n,z),ae.argA,ae.argB);ye&&wr(n,z,Re)}if(ve&&Array.isArray(nt(r.errors,z))){const Re=pe(nt(r.errors,z),ae.argA,ae.argB);ye&&wr(r.errors,z,Re),aK(r.errors,z)}if((d.touchedFields||f.touchedFields)&&ve&&Array.isArray(nt(r.touchedFields,z))){const Re=pe(nt(r.touchedFields,z),ae.argA,ae.argB);ye&&wr(r.touchedFields,z,Re)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Eh(a,i)),h.state.next({name:z,isDirty:O(z,J),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wr(i,z,J)},x=(z,J)=>{wr(r.errors,z,J),h.state.next({errors:r.errors})},w=z=>{r.errors=z,h.state.next({errors:r.errors,isValid:!1})},v=(z,J,pe,ae)=>{const ye=nt(n,z);if(ye){const ve=nt(i,z,nn(pe)?nt(a,z):pe);nn(ve)||ae&&ae.defaultChecked||J?wr(i,z,J?ve:oC(ye._f)):U(z,ve),o.mount&&p()}},j=(z,J,pe,ae,ye)=>{let ve=!1,Re=!1;const Ue={name:z};if(!t.disabled){if(!pe||ae){(d.isDirty||f.isDirty)&&(Re=r.isDirty,r.isDirty=Ue.isDirty=O(),ve=Re!==Ue.isDirty);const Ge=po(nt(a,z),J);Re=!!nt(r.dirtyFields,z),Ge?cn(r.dirtyFields,z):wr(r.dirtyFields,z,!0),Ue.dirtyFields=r.dirtyFields,ve=ve||(d.dirtyFields||f.dirtyFields)&&Re!==!Ge}if(pe){const Ge=nt(r.touchedFields,z);Ge||(wr(r.touchedFields,z,pe),Ue.touchedFields=r.touchedFields,ve=ve||(d.touchedFields||f.touchedFields)&&Ge!==pe)}ve&&ye&&h.state.next(Ue)}return ve?Ue:{}},S=(z,J,pe,ae)=>{const ye=nt(r.errors,z),ve=(d.isValid||f.isValid)&&ts(J)&&r.isValid!==J;if(t.delayError&&pe?(c=g(()=>x(z,pe)),c(t.delayError)):(clearTimeout(u),c=null,pe?wr(r.errors,z,pe):cn(r.errors,z)),(pe?!po(ye,pe):ye)||!Ra(ae)||ve){const Re={...ae,...ve&&ts(J)?{isValid:J}:{},errors:r.errors,name:z};r={...r,...Re},h.state.next(Re)}},_=async z=>{y(z,!0);const J=await t.resolver(i,t.context,JG(z||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(z),J},E=async z=>{const{errors:J}=await _(z);if(z)for(const pe of z){const ae=nt(J,pe);ae?wr(r.errors,pe,ae):cn(r.errors,pe)}else r.errors=J;return J},T=async(z,J,pe={valid:!0})=>{for(const ae in z){const ye=z[ae];if(ye){const{_f:ve,...Re}=ye;if(ve){const Ue=l.array.has(ve.name),Ge=ye._f&&ZG(ye._f);Ge&&d.validatingFields&&y([ae],!0);const vt=await hC(ye,l.disabled,i,m,t.shouldUseNativeValidation&&!J,Ue);if(Ge&&d.validatingFields&&y([ae]),vt[ve.name]&&(pe.valid=!1,J))break;!J&&(nt(vt,ve.name)?Ue?sK(r.errors,vt,ve.name):wr(r.errors,ve.name,vt[ve.name]):cn(r.errors,ve.name))}!Ra(Re)&&await T(Re,J,pe)}}return pe.valid},D=()=>{for(const z of l.unMount){const J=nt(n,z);J&&(J._f.refs?J._f.refs.every(pe=>!yw(pe)):!yw(J._f.ref))&&ue(z)}l.unMount=new Set},O=(z,J)=>!t.disabled&&(z&&J&&wr(i,z,J),!po(R(),a)),A=(z,J,pe)=>a3(z,l,{...o.mount?i:nn(J)?a:$i(z)?{[z]:J}:J},pe,J),M=z=>t2(nt(o.mount?i:a,z,t.shouldUnregister?nt(a,z,[]):[])),U=(z,J,pe={})=>{const ae=nt(n,z);let ye=J;if(ae){const ve=ae._f;ve&&(!ve.disabled&&wr(i,z,u3(J,ve)),ye=px(ve.ref)&&Na(J)?"":J,i3(ve.ref)?[...ve.ref.options].forEach(Re=>Re.selected=ye.includes(Re.value)):ve.refs?Xp(ve.ref)?ve.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(ye)?Re.checked=!!ye.find(Ue=>Ue===Re.value):Re.checked=ye===Re.value||!!ye)}):ve.refs.forEach(Re=>Re.checked=Re.value===ye):s2(ve.ref)?ve.ref.value="":(ve.ref.value=ye,ve.ref.type||h.state.next({name:z,values:jn(i)})))}(pe.shouldDirty||pe.shouldTouch)&&j(z,ye,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&F(z)},B=(z,J,pe)=>{for(const ae in J){if(!J.hasOwnProperty(ae))return;const ye=J[ae],ve=z+"."+ae,Re=nt(n,ve);(l.array.has(z)||sn(ye)||Re&&!Re._f)&&!kc(ye)?B(ve,ye,pe):U(ve,ye,pe)}},I=(z,J,pe={})=>{const ae=nt(n,z),ye=l.array.has(z),ve=jn(J);wr(i,z,ve),ye?(h.array.next({name:z,values:jn(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&pe.shouldDirty&&h.state.next({name:z,dirtyFields:Eh(a,i),isDirty:O(z,ve)})):ae&&!ae._f&&!Na(ve)?B(z,ve,pe):U(z,ve,pe),uC(z,l)&&h.state.next({...r,name:z}),h.state.next({name:o.mount?z:void 0,values:jn(i)})},P=async z=>{o.mount=!0;const J=z.target;let pe=J.name,ae=!0;const ye=nt(n,pe),ve=Ge=>{ae=Number.isNaN(Ge)||kc(Ge)&&isNaN(Ge.getTime())||po(Ge,nt(i,pe,Ge))},Re=lC(t.mode),Ue=lC(t.reValidateMode);if(ye){let Ge,vt;const $e=J.type?oC(ye._f):t3(z),ot=z.type===mx.BLUR||z.type===mx.FOCUS_OUT,Vt=!eK(ye._f)&&!t.resolver&&!nt(r.errors,pe)&&!ye._f.deps||nK(ot,nt(r.touchedFields,pe),r.isSubmitted,Ue,Re),lt=uC(pe,l,ot);wr(i,pe,$e),ot?(!J||!J.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(z),c&&c(0)):ye._f.onChange&&ye._f.onChange(z);const qt=j(pe,$e,ot),et=!Ra(qt)||lt;if(!ot&&h.state.next({name:pe,type:z.type,values:jn(i)}),Vt)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ot&&p():ot||p()),et&&h.state.next({name:pe,...lt?{}:qt});if(!ot&&lt&&h.state.next({...r}),t.resolver){const{errors:Pt}=await _([pe]);if(ve($e),ae){const Cr=dC(r.errors,n,pe),Hn=dC(Pt,n,Cr.name||pe);Ge=Hn.error,pe=Hn.name,vt=Ra(Pt)}}else y([pe],!0),Ge=(await hC(ye,l.disabled,i,m,t.shouldUseNativeValidation))[pe],y([pe]),ve($e),ae&&(Ge?vt=!1:(d.isValid||f.isValid)&&(vt=await T(n,!0)));ae&&(ye._f.deps&&F(ye._f.deps),S(pe,vt,Ge,qt))}},C=(z,J)=>{if(nt(r.errors,J)&&z.focus)return z.focus(),1},F=async(z,J={})=>{let pe,ae;const ye=om(z);if(t.resolver){const ve=await E(nn(z)?z:ye);pe=Ra(ve),ae=z?!ye.some(Re=>nt(ve,Re)):pe}else z?(ae=(await Promise.all(ye.map(async ve=>{const Re=nt(n,ve);return await T(Re&&Re._f?{[ve]:Re}:Re)}))).every(Boolean),!(!ae&&!r.isValid)&&p()):ae=pe=await T(n);return h.state.next({...!$i(z)||(d.isValid||f.isValid)&&pe!==r.isValid?{}:{name:z},...t.resolver||!z?{isValid:pe}:{},errors:r.errors}),J.shouldFocus&&!ae&&lm(n,C,z?ye:l.mount),ae},R=z=>{const J={...o.mount?i:a};return nn(z)?J:$i(z)?nt(J,z):z.map(pe=>nt(J,pe))},se=(z,J)=>({invalid:!!nt((J||r).errors,z),isDirty:!!nt((J||r).dirtyFields,z),error:nt((J||r).errors,z),isValidating:!!nt(r.validatingFields,z),isTouched:!!nt((J||r).touchedFields,z)}),L=z=>{z&&om(z).forEach(J=>cn(r.errors,J)),h.state.next({errors:z?r.errors:{}})},q=(z,J,pe)=>{const ae=(nt(n,z,{_f:{}})._f||{}).ref,ye=nt(r.errors,z)||{},{ref:ve,message:Re,type:Ue,...Ge}=ye;wr(r.errors,z,{...Ge,...J,ref:ae}),h.state.next({name:z,errors:r.errors,isValid:!1}),pe&&pe.shouldFocus&&ae&&ae.focus&&ae.focus()},H=(z,J)=>ai(z)?h.state.subscribe({next:pe=>"values"in pe&&z(A(void 0,J),pe)}):A(z,J,!0),K=z=>h.state.subscribe({next:J=>{rK(z.name,J.name,z.exact)&&tK(J,z.formState||d,W,z.reRenderRoot)&&z.callback({values:{...i},...r,...J,defaultValues:a})}}).unsubscribe,ce=z=>(o.mount=!0,f={...f,...z.formState},K({...z,formState:f})),ue=(z,J={})=>{for(const pe of z?om(z):l.mount)l.mount.delete(pe),l.array.delete(pe),J.keepValue||(cn(n,pe),cn(i,pe)),!J.keepError&&cn(r.errors,pe),!J.keepDirty&&cn(r.dirtyFields,pe),!J.keepTouched&&cn(r.touchedFields,pe),!J.keepIsValidating&&cn(r.validatingFields,pe),!t.shouldUnregister&&!J.keepDefaultValue&&cn(a,pe);h.state.next({values:jn(i)}),h.state.next({...r,...J.keepDirty?{isDirty:O()}:{}}),!J.keepIsValid&&p()},ge=({disabled:z,name:J})=>{(ts(z)&&o.mount||z||l.disabled.has(J))&&(z?l.disabled.add(J):l.disabled.delete(J))},le=(z,J={})=>{let pe=nt(n,z);const ae=ts(J.disabled)||ts(t.disabled);return wr(n,z,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:z}},name:z,mount:!0,...J}}),l.mount.add(z),pe?ge({disabled:ts(J.disabled)?J.disabled:t.disabled,name:z}):v(z,!0,J.value),{...ae?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:Th(J.min),max:Th(J.max),minLength:Th(J.minLength),maxLength:Th(J.maxLength),pattern:Th(J.pattern)}:{},name:z,onChange:P,onBlur:P,ref:ye=>{if(ye){le(z,J),pe=nt(n,z);const ve=nn(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Re=YG(ve),Ue=pe._f.refs||[];if(Re?Ue.find(Ge=>Ge===ve):ve===pe._f.ref)return;wr(n,z,{_f:{...pe._f,...Re?{refs:[...Ue.filter(yw),ve,...Array.isArray(nt(a,z))?[{}]:[]],ref:{type:ve.type,name:z}}:{ref:ve}}}),v(z,!1,void 0,ve)}else pe=nt(n,z,{}),pe._f&&(pe._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(r3(l.array,z)&&o.action)&&l.unMount.add(z)}}},X=()=>t.shouldFocusError&&lm(n,C,l.mount),xe=z=>{ts(z)&&(h.state.next({disabled:z}),lm(n,(J,pe)=>{const ae=nt(n,pe);ae&&(J.disabled=ae._f.disabled||z,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(ye=>{ye.disabled=ae._f.disabled||z}))},0,!1))},he=(z,J)=>async pe=>{let ae;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let ye=jn(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:Re}=await _();r.errors=ve,ye=jn(Re)}else await T(n);if(l.disabled.size)for(const ve of l.disabled)cn(ye,ve);if(cn(r.errors,"root"),Ra(r.errors)){h.state.next({errors:{}});try{await z(ye,pe)}catch(ve){ae=ve}}else J&&await J({...r.errors},pe),X(),setTimeout(X);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ra(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},Me=(z,J={})=>{nt(n,z)&&(nn(J.defaultValue)?I(z,jn(nt(a,z))):(I(z,J.defaultValue),wr(a,z,jn(J.defaultValue))),J.keepTouched||cn(r.touchedFields,z),J.keepDirty||(cn(r.dirtyFields,z),r.isDirty=J.defaultValue?O(z,jn(nt(a,z))):O()),J.keepError||(cn(r.errors,z),d.isValid&&p()),h.state.next({...r}))},Pe=(z,J={})=>{const pe=z?jn(z):a,ae=jn(pe),ye=Ra(z),ve=ye?a:ae;if(J.keepDefaultValues||(a=pe),!J.keepValues){if(J.keepDirtyValues){const Re=new Set([...l.mount,...Object.keys(Eh(a,i))]);for(const Ue of Array.from(Re))nt(r.dirtyFields,Ue)?wr(ve,Ue,nt(i,Ue)):I(Ue,nt(ve,Ue))}else{if(e2&&nn(z))for(const Re of l.mount){const Ue=nt(n,Re);if(Ue&&Ue._f){const Ge=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(px(Ge)){const vt=Ge.closest("form");if(vt){vt.reset();break}}}}if(J.keepFieldsRef)for(const Re of l.mount)I(Re,nt(ve,Re));else n={}}i=t.shouldUnregister?J.keepDefaultValues?jn(a):{}:jn(ve),h.array.next({values:{...ve}}),h.state.next({values:{...ve}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:J.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:J.keepDirty?r.isDirty:!!(J.keepDefaultValues&&!po(z,a)),isSubmitted:J.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:J.keepDirtyValues?J.keepDefaultValues&&i?Eh(a,i):r.dirtyFields:J.keepDefaultValues&&z?Eh(a,z):J.keepDirty?r.dirtyFields:{},touchedFields:J.keepTouched?r.touchedFields:{},errors:J.keepErrors?r.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Be=(z,J)=>Pe(ai(z)?z(i):z,J),Ie=(z,J={})=>{const pe=nt(n,z),ae=pe&&pe._f;if(ae){const ye=ae.refs?ae.refs[0]:ae.ref;ye.focus&&(ye.focus(),J.shouldSelect&&ai(ye.select)&&ye.select())}},W=z=>{r={...r,...z}},we={control:{register:le,unregister:ue,getFieldState:se,handleSubmit:he,setError:q,_subscribe:K,_runSchema:_,_focusError:X,_getWatch:A,_getDirty:O,_setValid:p,_setFieldArray:b,_setDisabledField:ge,_setErrors:w,_getFieldArray:M,_reset:Pe,_resetDefaultValues:()=>ai(t.defaultValues)&&t.defaultValues().then(z=>{Be(z,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:xe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(z){o=z},get _defaultValues(){return a},get _names(){return l},set _names(z){l=z},get _formState(){return r},get _options(){return t},set _options(z){t={...t,...z}}},subscribe:ce,trigger:F,register:le,handleSubmit:he,watch:H,setValue:I,getValues:R,reset:Be,resetField:Me,clearErrors:L,unregister:ue,setError:q,setFocus:Ie,getFieldState:se};return{...we,formControl:we}}function us(e={}){const t=de.useRef(void 0),r=de.useRef(void 0),[n,a]=de.useState({isDirty:!1,isValidating:!1,isLoading:ai(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ai(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ai(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=oK(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,a2(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),de.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),de.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),de.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),de.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),de.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),de.useEffect(()=>{e.values&&!po(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),de.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=n3(n,i),t.current}const mC=(e,t,r)=>{if(e&&"reportValidity"in e){const n=nt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},f3=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?mC(n.ref,r,e):n.refs&&n.refs.forEach(a=>mC(a,r,e))}},lK=(e,t)=>{t.shouldUseNativeValidation&&f3(e,t);const r={};for(const n in e){const a=nt(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(cK(t.names||Object.keys(e),n)){const o=Object.assign({},nt(r,n));wr(o,"root",i),wr(r,n,o)}else wr(r,n,i)}return r},cK=(e,t)=>e.some(r=>r.startsWith(t+"."));var uK=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=s3(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Is=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&f3({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:lK(uK(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},dr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(dr||(dr={}));var pC;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(pC||(pC={}));const wt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ol=e=>{switch(typeof e){case"undefined":return wt.undefined;case"string":return wt.string;case"number":return Number.isNaN(e)?wt.nan:wt.number;case"boolean":return wt.boolean;case"function":return wt.function;case"bigint":return wt.bigint;case"symbol":return wt.symbol;case"object":return Array.isArray(e)?wt.array:e===null?wt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?wt.promise:typeof Map<"u"&&e instanceof Map?wt.map:typeof Set<"u"&&e instanceof Set?wt.set:typeof Date<"u"&&e instanceof Date?wt.date:wt.object;default:return wt.unknown}},ze=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $o extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof $o))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}$o.create=e=>new $o(e);const $j=(e,t)=>{let r;switch(e.code){case ze.invalid_type:e.received===wt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ze.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dr.jsonStringifyReplacer)}`;break;case ze.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(e.keys,", ")}`;break;case ze.invalid_union:r="Invalid input";break;case ze.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(e.options)}`;break;case ze.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(e.options)}, received '${e.received}'`;break;case ze.invalid_arguments:r="Invalid function arguments";break;case ze.invalid_return_type:r="Invalid function return type";break;case ze.invalid_date:r="Invalid date";break;case ze.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ze.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ze.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ze.custom:r="Invalid input";break;case ze.invalid_intersection_types:r="Intersection results could not be merged";break;case ze.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ze.not_finite:r="Number must be finite";break;default:r=t.defaultError,dr.assertNever(e)}return{message:r}};let dK=$j;function fK(){return dK}const hK=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ut(e,t){const r=fK(),n=hK({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$j?void 0:$j].filter(a=>!!a)});e.common.issues.push(n)}class ps{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ht;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ps.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ht;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ht=Object.freeze({status:"aborted"}),Gh=e=>({status:"dirty",value:e}),Us=e=>({status:"valid",value:e}),gC=e=>e.status==="aborted",xC=e=>e.status==="dirty",lf=e=>e.status==="valid",yx=e=>typeof Promise<"u"&&e instanceof Promise;var St;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(St||(St={}));class Ql{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yC=(e,t)=>{if(lf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $o(e.common.issues);return this._error=r,this._error}}};function Jt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class lr{get description(){return this._def.description}_getType(t){return ol(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ol(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ps,ctx:{common:t.parent.common,data:t.data,parsedType:ol(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(yx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ol(t)},a=this._parseSync({data:t,path:n.path,parent:n});return yC(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ol(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return lf(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>lf(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ol(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(yx(a)?a:Promise.resolve(a));return yC(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ze.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new df({schema:this,typeName:zt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $l.create(this,this._def)}nullable(){return ff.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zi.create(this)}promise(){return bx.create(this,this._def)}or(t){return vx.create([this,t],this._def)}and(t){return wx.create(this,t,this._def)}transform(t){return new df({...Jt(this._def),schema:this,typeName:zt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Vj({...Jt(this._def),innerType:this,defaultValue:r,typeName:zt.ZodDefault})}brand(){return new MK({typeName:zt.ZodBranded,type:this,...Jt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Wj({...Jt(this._def),innerType:this,catchValue:r,typeName:zt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return o2.create(this,t)}readonly(){return Hj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mK=/^c[^\s-]{8,}$/i,pK=/^[0-9a-z]+$/,gK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yK=/^[a-z0-9_-]{21}$/i,vK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vw;const SK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_K=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,AK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,h3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CK=new RegExp(`^${h3}$`);function m3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function DK(e){return new RegExp(`^${m3(e)}$`)}function kK(e){let t=`${h3}T${m3(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function OK(e,t){return!!((t==="v4"||!t)&&SK.test(e)||(t==="v6"||!t)&&_K.test(e))}function PK(e,t){if(!vK.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function IK(e,t){return!!((t==="v4"||!t)&&NK.test(e)||(t==="v6"||!t)&&EK.test(e))}class Nl extends lr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==wt.string){const i=this._getOrReturnCtx(t);return ut(i,{code:ze.invalid_type,expected:wt.string,received:i.parsedType}),Ht}const n=new ps;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ut(a,{code:ze.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ut(a,{code:ze.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")bK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"email",code:ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")vw||(vw=new RegExp(jK,"u")),vw.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"emoji",code:ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"uuid",code:ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")yK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"nanoid",code:ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")mK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid",code:ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")pK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid2",code:ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")gK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ulid",code:ze.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ut(a,{validation:"url",code:ze.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"regex",code:ze.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?kK(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?CK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?DK(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?wK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"duration",code:ze.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?OK(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ip",code:ze.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?PK(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"jwt",code:ze.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?IK(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cidr",code:ze.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?TK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64",code:ze.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?AK.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64url",code:ze.invalid_string,message:i.message}),n.dirty()):dr.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ze.invalid_string,...St.errToObj(n)})}_addCheck(t){return new Nl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...St.errToObj(t)})}url(t){return this._addCheck({kind:"url",...St.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...St.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...St.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...St.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...St.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...St.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...St.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...St.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...St.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...St.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...St.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...St.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...St.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...St.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...St.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...St.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...St.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...St.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...St.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...St.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...St.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...St.errToObj(r)})}nonempty(t){return this.min(1,St.errToObj(t))}trim(){return new Nl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nl.create=e=>new Nl({checks:[],typeName:zt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Jt(e)});function RK(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class cf extends lr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==wt.number){const i=this._getOrReturnCtx(t);return ut(i,{code:ze.invalid_type,expected:wt.number,received:i.parsedType}),Ht}let n;const a=new ps;for(const i of this._def.checks)i.kind==="int"?dr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?RK(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.not_finite,message:i.message}),a.dirty()):dr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,St.toString(r))}gt(t,r){return this.setLimit("min",t,!1,St.toString(r))}lte(t,r){return this.setLimit("max",t,!0,St.toString(r))}lt(t,r){return this.setLimit("max",t,!1,St.toString(r))}setLimit(t,r,n,a){return new cf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:St.toString(a)}]})}_addCheck(t){return new cf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:St.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:St.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:St.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:St.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:St.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:St.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:St.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:St.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:St.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}cf.create=e=>new cf({checks:[],typeName:zt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});class $m extends lr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==wt.bigint)return this._getInvalidInput(t);let n;const a=new ps;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ut(n,{code:ze.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):dr.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ut(r,{code:ze.invalid_type,expected:wt.bigint,received:r.parsedType}),Ht}gte(t,r){return this.setLimit("min",t,!0,St.toString(r))}gt(t,r){return this.setLimit("min",t,!1,St.toString(r))}lte(t,r){return this.setLimit("max",t,!0,St.toString(r))}lt(t,r){return this.setLimit("max",t,!1,St.toString(r))}setLimit(t,r,n,a){return new $m({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:St.toString(a)}]})}_addCheck(t){return new $m({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:St.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:St.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:St.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:St.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:St.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}$m.create=e=>new $m({checks:[],typeName:zt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Jt(e)});class Bj extends lr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==wt.boolean){const n=this._getOrReturnCtx(t);return ut(n,{code:ze.invalid_type,expected:wt.boolean,received:n.parsedType}),Ht}return Us(t.data)}}Bj.create=e=>new Bj({typeName:zt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});class Bm extends lr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==wt.date){const i=this._getOrReturnCtx(t);return ut(i,{code:ze.invalid_type,expected:wt.date,received:i.parsedType}),Ht}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ut(i,{code:ze.invalid_date}),Ht}const n=new ps;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:ze.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):dr.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Bm({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:St.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:St.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Bm.create=e=>new Bm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:zt.ZodDate,...Jt(e)});class vC extends lr{_parse(t){if(this._getType(t)!==wt.symbol){const n=this._getOrReturnCtx(t);return ut(n,{code:ze.invalid_type,expected:wt.symbol,received:n.parsedType}),Ht}return Us(t.data)}}vC.create=e=>new vC({typeName:zt.ZodSymbol,...Jt(e)});class wC extends lr{_parse(t){if(this._getType(t)!==wt.undefined){const n=this._getOrReturnCtx(t);return ut(n,{code:ze.invalid_type,expected:wt.undefined,received:n.parsedType}),Ht}return Us(t.data)}}wC.create=e=>new wC({typeName:zt.ZodUndefined,...Jt(e)});class bC extends lr{_parse(t){if(this._getType(t)!==wt.null){const n=this._getOrReturnCtx(t);return ut(n,{code:ze.invalid_type,expected:wt.null,received:n.parsedType}),Ht}return Us(t.data)}}bC.create=e=>new bC({typeName:zt.ZodNull,...Jt(e)});class jC extends lr{constructor(){super(...arguments),this._any=!0}_parse(t){return Us(t.data)}}jC.create=e=>new jC({typeName:zt.ZodAny,...Jt(e)});class SC extends lr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Us(t.data)}}SC.create=e=>new SC({typeName:zt.ZodUnknown,...Jt(e)});class Jl extends lr{_parse(t){const r=this._getOrReturnCtx(t);return ut(r,{code:ze.invalid_type,expected:wt.never,received:r.parsedType}),Ht}}Jl.create=e=>new Jl({typeName:zt.ZodNever,...Jt(e)});class NC extends lr{_parse(t){if(this._getType(t)!==wt.undefined){const n=this._getOrReturnCtx(t);return ut(n,{code:ze.invalid_type,expected:wt.void,received:n.parsedType}),Ht}return Us(t.data)}}NC.create=e=>new NC({typeName:zt.ZodVoid,...Jt(e)});class zi extends lr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==wt.array)return ut(r,{code:ze.invalid_type,expected:wt.array,received:r.parsedType}),Ht;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ut(r,{code:o?ze.too_big:ze.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ut(r,{code:ze.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ut(r,{code:ze.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ql(r,o,r.path,l)))).then(o=>ps.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Ql(r,o,r.path,l)));return ps.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new zi({...this._def,minLength:{value:t,message:St.toString(r)}})}max(t,r){return new zi({...this._def,maxLength:{value:t,message:St.toString(r)}})}length(t,r){return new zi({...this._def,exactLength:{value:t,message:St.toString(r)}})}nonempty(t){return this.min(1,t)}}zi.create=(e,t)=>new zi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:zt.ZodArray,...Jt(t)});function ed(e){if(e instanceof dn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=$l.create(ed(n))}return new dn({...e._def,shape:()=>t})}else return e instanceof zi?new zi({...e._def,type:ed(e.element)}):e instanceof $l?$l.create(ed(e.unwrap())):e instanceof ff?ff.create(ed(e.unwrap())):e instanceof ou?ou.create(e.items.map(t=>ed(t))):e}class dn extends lr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==wt.object){const u=this._getOrReturnCtx(t);return ut(u,{code:ze.invalid_type,expected:wt.object,received:u.parsedType}),Ht}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Jl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ql(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Jl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(ut(a,{code:ze.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ql(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ps.mergeObjectSync(n,u)):ps.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return St.errToObj,new dn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:St.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new dn({...this._def,unknownKeys:"strip"})}passthrough(){return new dn({...this._def,unknownKeys:"passthrough"})}extend(t){return new dn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new dn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:zt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new dn({...this._def,catchall:t})}pick(t){const r={};for(const n of dr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new dn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of dr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new dn({...this._def,shape:()=>r})}deepPartial(){return ed(this)}partial(t){const r={};for(const n of dr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new dn({...this._def,shape:()=>r})}required(t){const r={};for(const n of dr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof $l;)i=i._def.innerType;r[n]=i}return new dn({...this._def,shape:()=>r})}keyof(){return p3(dr.objectKeys(this.shape))}}dn.create=(e,t)=>new dn({shape:()=>e,unknownKeys:"strip",catchall:Jl.create(),typeName:zt.ZodObject,...Jt(t)});dn.strictCreate=(e,t)=>new dn({shape:()=>e,unknownKeys:"strict",catchall:Jl.create(),typeName:zt.ZodObject,...Jt(t)});dn.lazycreate=(e,t)=>new dn({shape:e,unknownKeys:"strip",catchall:Jl.create(),typeName:zt.ZodObject,...Jt(t)});class vx extends lr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new $o(l.ctx.common.issues));return ut(r,{code:ze.invalid_union,unionErrors:o}),Ht}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new $o(c));return ut(r,{code:ze.invalid_union,unionErrors:l}),Ht}}get options(){return this._def.options}}vx.create=(e,t)=>new vx({options:e,typeName:zt.ZodUnion,...Jt(t)});function Uj(e,t){const r=ol(e),n=ol(t);if(e===t)return{valid:!0,data:e};if(r===wt.object&&n===wt.object){const a=dr.objectKeys(t),i=dr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Uj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===wt.array&&n===wt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Uj(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===wt.date&&n===wt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class wx extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(gC(i)||gC(o))return Ht;const l=Uj(i.value,o.value);return l.valid?((xC(i)||xC(o))&&r.dirty(),{status:r.value,value:l.data}):(ut(n,{code:ze.invalid_intersection_types}),Ht)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}wx.create=(e,t,r)=>new wx({left:e,right:t,typeName:zt.ZodIntersection,...Jt(r)});class ou extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.array)return ut(n,{code:ze.invalid_type,expected:wt.array,received:n.parsedType}),Ht;if(n.data.length<this._def.items.length)return ut(n,{code:ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ht;!this._def.rest&&n.data.length>this._def.items.length&&(ut(n,{code:ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ql(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ps.mergeArray(r,o)):ps.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ou({...this._def,rest:t})}}ou.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ou({items:e,typeName:zt.ZodTuple,rest:null,...Jt(t)})};class _C extends lr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.map)return ut(n,{code:ze.invalid_type,expected:wt.map,received:n.parsedType}),Ht;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ql(n,l,n.path,[u,"key"])),value:i._parse(new Ql(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ht;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ht;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}_C.create=(e,t,r)=>new _C({valueType:t,keyType:e,typeName:zt.ZodMap,...Jt(r)});class Um extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.set)return ut(n,{code:ze.invalid_type,expected:wt.set,received:n.parsedType}),Ht;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ut(n,{code:ze.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ut(n,{code:ze.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ht;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Ql(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Um({...this._def,minSize:{value:t,message:St.toString(r)}})}max(t,r){return new Um({...this._def,maxSize:{value:t,message:St.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Um.create=(e,t)=>new Um({valueType:e,minSize:null,maxSize:null,typeName:zt.ZodSet,...Jt(t)});class EC extends lr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}EC.create=(e,t)=>new EC({getter:e,typeName:zt.ZodLazy,...Jt(t)});class TC extends lr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ut(r,{received:r.data,code:ze.invalid_literal,expected:this._def.value}),Ht}return{status:"valid",value:t.data}}get value(){return this._def.value}}TC.create=(e,t)=>new TC({value:e,typeName:zt.ZodLiteral,...Jt(t)});function p3(e,t){return new uf({values:e,typeName:zt.ZodEnum,...Jt(t)})}class uf extends lr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ut(r,{expected:dr.joinValues(n),received:r.parsedType,code:ze.invalid_type}),Ht}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ut(r,{received:r.data,code:ze.invalid_enum_value,options:n}),Ht}return Us(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return uf.create(t,{...this._def,...r})}exclude(t,r=this._def){return uf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}uf.create=p3;class AC extends lr{_parse(t){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==wt.string&&n.parsedType!==wt.number){const a=dr.objectValues(r);return ut(n,{expected:dr.joinValues(a),received:n.parsedType,code:ze.invalid_type}),Ht}if(this._cache||(this._cache=new Set(dr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=dr.objectValues(r);return ut(n,{received:n.data,code:ze.invalid_enum_value,options:a}),Ht}return Us(t.data)}get enum(){return this._def.values}}AC.create=(e,t)=>new AC({values:e,typeName:zt.ZodNativeEnum,...Jt(t)});class bx extends lr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.promise&&r.common.async===!1)return ut(r,{code:ze.invalid_type,expected:wt.promise,received:r.parsedType}),Ht;const n=r.parsedType===wt.promise?r.data:Promise.resolve(r.data);return Us(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}bx.create=(e,t)=>new bx({type:e,typeName:zt.ZodPromise,...Jt(t)});class df extends lr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ut(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ht;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ht:c.status==="dirty"||r.value==="dirty"?Gh(c.value):c});{if(r.value==="aborted")return Ht;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ht:l.status==="dirty"||r.value==="dirty"?Gh(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ht:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ht:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!lf(o))return Ht;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>lf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ht);dr.assertNever(a)}}df.create=(e,t,r)=>new df({schema:e,typeName:zt.ZodEffects,effect:t,...Jt(r)});df.createWithPreprocess=(e,t,r)=>new df({schema:t,effect:{type:"preprocess",transform:e},typeName:zt.ZodEffects,...Jt(r)});class $l extends lr{_parse(t){return this._getType(t)===wt.undefined?Us(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$l.create=(e,t)=>new $l({innerType:e,typeName:zt.ZodOptional,...Jt(t)});class ff extends lr{_parse(t){return this._getType(t)===wt.null?Us(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ff.create=(e,t)=>new ff({innerType:e,typeName:zt.ZodNullable,...Jt(t)});class Vj extends lr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===wt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Vj.create=(e,t)=>new Vj({innerType:e,typeName:zt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Jt(t)});class Wj extends lr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return yx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $o(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $o(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Wj.create=(e,t)=>new Wj({innerType:e,typeName:zt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Jt(t)});class CC extends lr{_parse(t){if(this._getType(t)!==wt.nan){const n=this._getOrReturnCtx(t);return ut(n,{code:ze.invalid_type,expected:wt.nan,received:n.parsedType}),Ht}return{status:"valid",value:t.data}}}CC.create=e=>new CC({typeName:zt.ZodNaN,...Jt(e)});class MK extends lr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class o2 extends lr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ht:i.status==="dirty"?(r.dirty(),Gh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ht:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new o2({in:t,out:r,typeName:zt.ZodPipeline})}}class Hj extends lr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(lf(a)&&(a.value=Object.freeze(a.value)),a);return yx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Hj.create=(e,t)=>new Hj({innerType:e,typeName:zt.ZodReadonly,...Jt(t)});var zt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(zt||(zt={}));const rr=Nl.create,er=cf.create,cr=Bj.create,Zl=Bm.create;Jl.create;const is=zi.create,sa=dn.create;vx.create;wx.create;ou.create;const Dn=uf.create;bx.create;$l.create;ff.create;var FK="Label",g3=N.forwardRef((e,t)=>s.jsx(It.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));g3.displayName=FK;var x3=g3;const LK=zp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),it=N.forwardRef(({className:e,...t},r)=>s.jsx(x3,{ref:r,className:rt(LK(),e),...t}));it.displayName=x3.displayName;const li=HG,y3=N.createContext({}),Qe=({...e})=>s.jsx(y3.Provider,{value:{name:e.name},children:s.jsx(KG,{...e})}),vv=()=>{const e=N.useContext(y3),t=N.useContext(v3),{getFieldState:r,formState:n}=yv(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},v3=N.createContext({}),Ke=N.forwardRef(({className:e,...t},r)=>{const n=N.useId();return s.jsx(v3.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:rt("space-y-2",e),...t})})});Ke.displayName="FormItem";const mt=N.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=vv();return s.jsx(it,{ref:r,className:rt(n&&"text-destructive",e),htmlFor:a,...t})});mt.displayName="FormLabel";const at=N.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=vv();return s.jsx(kM,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});at.displayName="FormControl";const $K=N.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=vv();return s.jsx("p",{ref:r,id:n,className:rt("text-sm text-muted-foreground",e),...t})});$K.displayName="FormDescription";const yt=N.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=vv(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:rt("text-sm font-medium text-destructive",e),...r,children:o}):null});yt.displayName="FormMessage";function ar(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function gs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function da(e,t){const r=ar(e);return isNaN(t)?gs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function vi(e,t){const r=ar(e);if(isNaN(t))return gs(e,NaN);if(!t)return r;const n=r.getDate(),a=gs(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const l2=6048e5,BK=864e5;let UK={};function Qp(){return UK}function Xi(e,t){var l,c,u,d;const r=Qp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ar(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function lu(e){return Xi(e,{weekStartsOn:1})}function w3(e){const t=ar(e),r=t.getFullYear(),n=gs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=lu(n),i=gs(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=lu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function hf(e){const t=ar(e);return t.setHours(0,0,0,0),t}function jx(e){const t=ar(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ci(e,t){const r=hf(e),n=hf(t),a=+r-jx(r),i=+n-jx(n);return Math.round((a-i)/BK)}function VK(e){const t=w3(e),r=gs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),lu(r)}function zj(e,t){const r=t*7;return da(e,r)}function WK(e,t){return vi(e,t*12)}function HK(e){let t;return e.forEach(function(r){const n=ar(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function zK(e){let t;return e.forEach(r=>{const n=ar(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function $a(e,t){const r=hf(e),n=hf(t);return+r==+n}function c2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qK(e){if(!c2(e)&&typeof e!="number")return!1;const t=ar(e);return!isNaN(Number(t))}function Vm(e,t){const r=ar(e),n=ar(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function GK(e,t,r){const n=Xi(e,r),a=Xi(t,r),i=+n-jx(n),o=+a-jx(a);return Math.round((i-o)/l2)}function W0(e,t){const r=ar(e),n=ar(t),a=DC(r,n),i=Math.abs(ci(r,n));r.setDate(r.getDate()-a*i);const o=+(DC(r,n)===-a),l=a*(i-o);return l===0?0:l}function DC(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function u2(e){const t=ar(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ha(e){const t=ar(e);return t.setDate(1),t.setHours(0,0,0,0),t}function b3(e){const t=ar(e),r=gs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function d2(e,t){var l,c,u,d;const r=Qp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ar(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function j3(e){return d2(e,{weekStartsOn:1})}const KK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YK=(e,t,r)=>{let n;const a=KK[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ww(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const XK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZK={date:ww({formats:XK,defaultWidth:"full"}),time:ww({formats:QK,defaultWidth:"full"}),dateTime:ww({formats:JK,defaultWidth:"full"})},eY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tY=(e,t,r,n)=>eY[e];function Ah(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const rY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lY=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cY={ordinalNumber:lY,era:Ah({values:rY,defaultWidth:"wide"}),quarter:Ah({values:nY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ah({values:aY,defaultWidth:"wide"}),day:Ah({values:sY,defaultWidth:"wide"}),dayPeriod:Ah({values:iY,defaultWidth:"wide",formattingValues:oY,defaultFormattingWidth:"wide"})};function Ch(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?dY(l,f=>f.test(o)):uY(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function uY(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function dY(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function fY(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const hY=/^(\d+)(th|st|nd|rd)?/i,mY=/\d+/i,pY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gY={any:[/^b/i,/^(a|c)/i]},xY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yY={any:[/1/i,/2/i,/3/i,/4/i]},vY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_Y={ordinalNumber:fY({matchPattern:hY,parsePattern:mY,valueCallback:e=>parseInt(e,10)}),era:Ch({matchPatterns:pY,defaultMatchWidth:"wide",parsePatterns:gY,defaultParseWidth:"any"}),quarter:Ch({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:yY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ch({matchPatterns:vY,defaultMatchWidth:"wide",parsePatterns:wY,defaultParseWidth:"any"}),day:Ch({matchPatterns:bY,defaultMatchWidth:"wide",parsePatterns:jY,defaultParseWidth:"any"}),dayPeriod:Ch({matchPatterns:SY,defaultMatchWidth:"any",parsePatterns:NY,defaultParseWidth:"any"})},S3={code:"en-US",formatDistance:YK,formatLong:ZK,formatRelative:tY,localize:cY,match:_Y,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EY(e){const t=ar(e);return ci(t,b3(t))+1}function N3(e){const t=ar(e),r=+lu(t)-+VK(t);return Math.round(r/l2)+1}function _3(e,t){var d,f,h,m;const r=ar(e),n=r.getFullYear(),a=Qp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=gs(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Xi(o,t),c=gs(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Xi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function TY(e,t){var l,c,u,d;const r=Qp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=_3(e,t),i=gs(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Xi(i,t)}function E3(e,t){const r=ar(e),n=+Xi(r,t)-+TY(r,t);return Math.round(n/l2)+1}function jr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const tl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return jr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):jr(r+1,2)},d(e,t){return jr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return jr(e.getHours()%12||12,t.length)},H(e,t){return jr(e.getHours(),t.length)},m(e,t){return jr(e.getMinutes(),t.length)},s(e,t){return jr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return jr(a,t.length)}},Wu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kC={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return tl.y(e,t)},Y:function(e,t,r,n){const a=_3(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return jr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):jr(i,t.length)},R:function(e,t){const r=w3(e);return jr(r,t.length)},u:function(e,t){const r=e.getFullYear();return jr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return jr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return jr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return tl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return jr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=E3(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):jr(a,t.length)},I:function(e,t,r){const n=N3(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):jr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):tl.d(e,t)},D:function(e,t,r){const n=EY(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):jr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return jr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return jr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return jr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Wu.noon:n===0?a=Wu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Wu.evening:n>=12?a=Wu.afternoon:n>=4?a=Wu.morning:a=Wu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return tl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):tl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):jr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):jr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):tl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):tl.s(e,t)},S:function(e,t){return tl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return PC(n);case"XXXX":case"XX":return Sc(n);case"XXXXX":case"XXX":default:return Sc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return PC(n);case"xxxx":case"xx":return Sc(n);case"xxxxx":case"xxx":default:return Sc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+OC(n,":");case"OOOO":default:return"GMT"+Sc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+OC(n,":");case"zzzz":default:return"GMT"+Sc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return jr(n,t.length)},T:function(e,t,r){const n=e.getTime();return jr(n,t.length)}};function OC(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+jr(i,2)}function PC(e,t){return e%60===0?(e>0?"-":"+")+jr(Math.abs(e)/60,2):Sc(e,t)}function Sc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=jr(Math.trunc(n/60),2),i=jr(n%60,2);return r+a+t+i}const IC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},T3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AY=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return IC(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",IC(n,t)).replace("{{time}}",T3(a,t))},CY={p:T3,P:AY},DY=/^D+$/,kY=/^Y+$/,OY=["D","DD","YY","YYYY"];function PY(e){return DY.test(e)}function IY(e){return kY.test(e)}function RY(e,t,r){const n=MY(e,t,r);if(console.warn(n),OY.includes(e))throw new RangeError(n)}function MY(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$Y=/^'([^]*?)'?$/,BY=/''/g,UY=/[a-zA-Z]/;function ft(e,t,r){var d,f,h,m,g,p,y,b;const n=Qp(),a=(r==null?void 0:r.locale)??n.locale??S3,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,l=ar(e);if(!qK(l))throw new RangeError("Invalid time value");let c=t.match(LY).map(x=>{const w=x[0];if(w==="p"||w==="P"){const v=CY[w];return v(x,a.formatLong)}return x}).join("").match(FY).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:VY(x)};if(kC[w])return{isToken:!0,value:x};if(w.match(UY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&IY(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&PY(w))&&RY(w,t,String(e));const v=kC[w[0]];return v(l,w,a.localize,u)}).join("")}function VY(e){const t=e.match($Y);return t?t[1].replace(BY,"'"):e}function WY(e){const t=ar(e),r=t.getFullYear(),n=t.getMonth(),a=gs(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function HY(e){return Math.trunc(+ar(e)/1e3)}function zY(e){const t=ar(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function qY(e,t){return GK(zY(e),Ha(e),t)+1}function qj(e,t){const r=ar(e),n=ar(t);return r.getTime()>n.getTime()}function Sx(e,t){const r=ar(e),n=ar(t);return+r<+n}function f2(e,t){const r=ar(e),n=ar(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function GY(e,t){const r=ar(e),n=ar(t);return r.getFullYear()===n.getFullYear()}function bw(e,t){return da(e,-t)}function jw(e,t){const r=ar(e),n=r.getFullYear(),a=r.getDate(),i=gs(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=WY(i);return r.setMonth(t,Math.min(a,o)),r}function RC(e,t){const r=ar(e);return isNaN(+r)?gs(e,NaN):(r.setFullYear(t),r)}var Ut=function(){return Ut=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ut.apply(this,arguments)};function KY(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function A3(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Jp(e){return e.mode==="multiple"}function Zp(e){return e.mode==="range"}function wv(e){return e.mode==="single"}var YY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function XY(e,t){return ft(e,"LLLL y",t)}function QY(e,t){return ft(e,"d",t)}function JY(e,t){return ft(e,"LLLL",t)}function ZY(e){return"".concat(e)}function eX(e,t){return ft(e,"cccccc",t)}function tX(e,t){return ft(e,"yyyy",t)}var rX=Object.freeze({__proto__:null,formatCaption:XY,formatDay:QY,formatMonthCaption:JY,formatWeekNumber:ZY,formatWeekdayName:eX,formatYearCaption:tX}),nX=function(e,t,r){return ft(e,"do MMMM (EEEE)",r)},aX=function(){return"Month: "},sX=function(){return"Go to next month"},iX=function(){return"Go to previous month"},oX=function(e,t){return ft(e,"cccc",t)},lX=function(e){return"Week n. ".concat(e)},cX=function(){return"Year: "},uX=Object.freeze({__proto__:null,labelDay:nX,labelMonthDropdown:aX,labelNext:sX,labelPrevious:iX,labelWeekNumber:lX,labelWeekday:oX,labelYearDropdown:cX});function dX(){var e="buttons",t=YY,r=S3,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:rX,labels:uX,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function fX(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ha(n):t&&(i=new Date(t,0,1)),a?o=u2(a):r&&(o=new Date(r,11,31)),{fromDate:i?hf(i):void 0,toDate:o?hf(o):void 0}}var C3=N.createContext(void 0);function hX(e){var t,r=e.initialProps,n=dX(),a=fX(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(wv(r)||Jp(r)||Zp(r))&&(c=r.onSelect);var u=Ut(Ut(Ut({},n),r),{captionLayout:l,classNames:Ut(Ut({},n.classNames),r.classNames),components:Ut({},r.components),formatters:Ut(Ut({},n.formatters),r.formatters),fromDate:i,labels:Ut(Ut({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ut(Ut({},n.modifiers),r.modifiers),modifiersClassNames:Ut(Ut({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ut(Ut({},n.styles),r.styles),toDate:o});return s.jsx(C3.Provider,{value:u,children:e.children})}function Fr(){var e=N.useContext(C3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function D3(e){var t=Fr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function mX(e){return s.jsx("svg",Ut({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function k3(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Fr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:mX;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function pX(e){var t,r=Fr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(GY(n,a))for(var h=Ha(n),m=n.getMonth();m<=a.getMonth();m++)f.push(jw(h,m));else for(var h=Ha(new Date),m=0;m<=11;m++)f.push(jw(h,m));var g=function(y){var b=Number(y.target.value),x=jw(Ha(e.displayMonth),b);e.onChange(x)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:k3;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(y){return s.jsx("option",{value:y.getMonth(),children:l(y,{locale:o})},y.getMonth())})})}function gX(e){var t,r=e.displayMonth,n=Fr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)h.push(RC(b3(new Date),p));var y=function(x){var w=RC(Ha(r),Number(x.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:k3;return s.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function xX(e,t){var r=N.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function yX(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Vm(i,a)<0){var u=-1*(c-1);a=vi(i,u)}return o&&Vm(a,o)<0&&(a=o),Ha(a)}function vX(){var e=Fr(),t=yX(e),r=xX(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ha(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function wX(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ha(e),i=Ha(vi(a,n)),o=Vm(i,a),l=[],c=0;c<o;c++){var u=vi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function bX(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ha(e);if(!r)return vi(l,o);var c=Vm(r,e);if(!(c<i))return vi(l,o)}}function jX(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ha(e);if(!r)return vi(l,-o);var c=Vm(l,r);if(!(c<=0))return vi(l,-o)}}var O3=N.createContext(void 0);function SX(e){var t=Fr(),r=vX(),n=r[0],a=r[1],i=wX(n,t),o=bX(n,t),l=jX(n,t),c=function(f){return i.some(function(h){return f2(f,h)})},u=function(f,h){c(f)||(h&&Sx(f,h)?a(vi(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(O3.Provider,{value:d,children:e.children})}function e0(){var e=N.useContext(O3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function MC(e){var t,r=Fr(),n=r.classNames,a=r.styles,i=r.components,o=e0().goToMonth,l=function(d){o(vi(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:D3,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(pX,{onChange:l,displayMonth:e.displayMonth}),s.jsx(gX,{onChange:l,displayMonth:e.displayMonth})]})}function NX(e){return s.jsx("svg",Ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _X(e){return s.jsx("svg",Ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Nx=N.forwardRef(function(e,t){var r=Fr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Ut(Ut({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Ut({},e,{ref:t,type:"button",className:o,style:l}))});function EX(e){var t,r,n=Fr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:_X,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:NX;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Nx,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Nx,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})})]})}function FC(e){var t=Fr().numberOfMonths,r=e0(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return f2(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(EX,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function TX(e){var t,r=Fr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:D3,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(MC,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(MC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(FC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(FC,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function AX(e){var t=Fr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function CX(e,t,r){for(var n=r?lu(new Date):Xi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=da(n,i);a.push(o)}return a}function DX(){var e=Fr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=CX(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function kX(){var e,t=Fr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:DX;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function OX(e){var t=Fr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var h2=N.createContext(void 0);function PX(e){if(!Jp(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(h2.Provider,{value:t,children:e.children})}return s.jsx(IX,{initialProps:e.initialProps,children:e.children})}function IX(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var y=n?A3([],n):[];if(d.selected){var b=y.findIndex(function(x){return $a(u,x)});y.splice(b,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return $a(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(h2.Provider,{value:c,children:r})}function m2(){var e=N.useContext(h2);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function RX(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?$a(a,e)&&$a(n,e)?void 0:$a(a,e)?{from:a,to:void 0}:$a(n,e)?void 0:qj(n,e)?{from:e,to:a}:{from:n,to:e}:a?qj(e,a)?{from:a,to:e}:{from:e,to:a}:n?Sx(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var p2=N.createContext(void 0);function MX(e){if(!Zp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(p2.Provider,{value:t,children:e.children})}return s.jsx(FX,{initialProps:e.initialProps,children:e.children})}function FX(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var y,b;(y=t.onDayClick)===null||y===void 0||y.call(t,m,g,p);var x=RX(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],$a(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:bw(i,l-1),before:da(i,l-1)}),i&&o&&d.disabled.push({after:i,before:da(i,l-1)}),!i&&o&&d.disabled.push({after:bw(o,l-1),before:da(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:da(i,-c+1)}),d.disabled.push({after:da(i,c-1)})),i&&o){var f=ci(o,i)+1,h=c-f;d.disabled.push({before:bw(i,h)}),d.disabled.push({after:da(o,h)})}!i&&o&&(d.disabled.push({before:da(o,-c+1)}),d.disabled.push({after:da(o,c-1)}))}return s.jsx(p2.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function g2(){var e=N.useContext(p2);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ig(e){return Array.isArray(e)?A3([],e):e!==void 0?[e]:[]}function LX(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Ig(a)}),t}var wi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(wi||(wi={}));var $X=wi.Selected,so=wi.Disabled,BX=wi.Hidden,UX=wi.Today,Sw=wi.RangeEnd,Nw=wi.RangeMiddle,_w=wi.RangeStart,VX=wi.Outside;function WX(e,t,r){var n,a=(n={},n[$X]=Ig(e.selected),n[so]=Ig(e.disabled),n[BX]=Ig(e.hidden),n[UX]=[e.today],n[Sw]=[],n[Nw]=[],n[_w]=[],n[VX]=[],n);return e.fromDate&&a[so].push({before:e.fromDate}),e.toDate&&a[so].push({after:e.toDate}),Jp(e)?a[so]=a[so].concat(t.modifiers[so]):Zp(e)&&(a[so]=a[so].concat(r.modifiers[so]),a[_w]=r.modifiers[_w],a[Nw]=r.modifiers[Nw],a[Sw]=r.modifiers[Sw]),a}var P3=N.createContext(void 0);function HX(e){var t=Fr(),r=m2(),n=g2(),a=WX(t,r,n),i=LX(t.modifiers),o=Ut(Ut({},a),i);return s.jsx(P3.Provider,{value:o,children:e.children})}function I3(){var e=N.useContext(P3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function zX(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qX(e){return!!(e&&typeof e=="object"&&"from"in e)}function GX(e){return!!(e&&typeof e=="object"&&"after"in e)}function KX(e){return!!(e&&typeof e=="object"&&"before"in e)}function YX(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function XX(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ci(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ci(e,n)>=0&&ci(a,e)>=0;return o}return a?$a(a,e):n?$a(n,e):!1}function QX(e){return c2(e)}function JX(e){return Array.isArray(e)&&e.every(c2)}function ZX(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(QX(r))return $a(e,r);if(JX(r))return r.includes(e);if(qX(r))return XX(e,r);if(YX(r))return r.dayOfWeek.includes(e.getDay());if(zX(r)){var n=ci(r.before,e),a=ci(r.after,e),i=n>0,o=a<0,l=qj(r.before,r.after);return l?o&&i:i||o}return GX(r)?ci(e,r.after)>0:KX(r)?ci(r.before,e)>0:typeof r=="function"?r(e):!1})}function x2(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return ZX(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!f2(e,r)&&(a.outside=!0),a}function eQ(e,t){for(var r=Ha(e[0]),n=u2(e[e.length-1]),a,i,o=r;o<=n;){var l=x2(o,t),c=!l.disabled&&!l.hidden;if(!c){o=da(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=da(o,1)}return i||a}var tQ=365;function R3(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:da,week:zj,month:vi,year:WK,startOfWeek:function(y){return a.ISOWeek?lu(y):Xi(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return a.ISOWeek?j3(y):d2(y,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=HK([u,m]):n==="after"&&d&&(m=zK([d,m]));var g=!0;if(i){var p=x2(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>tQ?l.lastFocused:R3(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Ut(Ut({},l),{count:l.count+1})})}var M3=N.createContext(void 0);function rQ(e){var t=e0(),r=I3(),n=N.useState(),a=n[0],i=n[1],o=N.useState(),l=o[0],c=o[1],u=eQ(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(y){i(y)},m=Fr(),g=function(y,b){if(a){var x=R3(a,{moveBy:y,direction:b,context:m,modifiers:r});$a(a,x)||(t.goToDate(x,a),h(x))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(M3.Provider,{value:p,children:e.children})}function y2(){var e=N.useContext(M3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function nQ(e,t){var r=I3(),n=x2(e,r,t);return n}var v2=N.createContext(void 0);function aQ(e){if(!wv(e.initialProps)){var t={selected:void 0};return s.jsx(v2.Provider,{value:t,children:e.children})}return s.jsx(sQ,{initialProps:e.initialProps,children:e.children})}function sQ(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(v2.Provider,{value:a,children:r})}function F3(){var e=N.useContext(v2);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function iQ(e,t){var r=Fr(),n=F3(),a=m2(),i=g2(),o=y2(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,y=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,w=function(P){var C,F,R,se;wv(r)?(C=n.onDayClick)===null||C===void 0||C.call(n,e,t,P):Jp(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,P):Zp(r)?(R=i.onDayClick)===null||R===void 0||R.call(i,e,t,P):(se=r.onDayClick)===null||se===void 0||se.call(r,e,t,P)},v=function(P){var C;h(e),(C=r.onDayFocus)===null||C===void 0||C.call(r,e,t,P)},j=function(P){var C;f(),(C=r.onDayBlur)===null||C===void 0||C.call(r,e,t,P)},S=function(P){var C;(C=r.onDayMouseEnter)===null||C===void 0||C.call(r,e,t,P)},_=function(P){var C;(C=r.onDayMouseLeave)===null||C===void 0||C.call(r,e,t,P)},E=function(P){var C;(C=r.onDayPointerEnter)===null||C===void 0||C.call(r,e,t,P)},T=function(P){var C;(C=r.onDayPointerLeave)===null||C===void 0||C.call(r,e,t,P)},D=function(P){var C;(C=r.onDayTouchCancel)===null||C===void 0||C.call(r,e,t,P)},O=function(P){var C;(C=r.onDayTouchEnd)===null||C===void 0||C.call(r,e,t,P)},A=function(P){var C;(C=r.onDayTouchMove)===null||C===void 0||C.call(r,e,t,P)},M=function(P){var C;(C=r.onDayTouchStart)===null||C===void 0||C.call(r,e,t,P)},U=function(P){var C;(C=r.onDayKeyUp)===null||C===void 0||C.call(r,e,t,P)},B=function(P){var C;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),u();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),d();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():m();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?y():g();break;case"Home":P.preventDefault(),P.stopPropagation(),b();break;case"End":P.preventDefault(),P.stopPropagation(),x();break}(C=r.onDayKeyDown)===null||C===void 0||C.call(r,e,t,P)},I={onClick:w,onFocus:v,onBlur:j,onKeyDown:B,onKeyUp:U,onMouseEnter:S,onMouseLeave:_,onPointerEnter:E,onPointerLeave:T,onTouchCancel:D,onTouchEnd:O,onTouchMove:A,onTouchStart:M};return I}function oQ(){var e=Fr(),t=F3(),r=m2(),n=g2(),a=wv(e)?t.selected:Jp(e)?r.selected:Zp(e)?n.selected:void 0;return a}function lQ(e){return Object.values(wi).includes(e)}function cQ(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(lQ(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function uQ(e,t){var r=Ut({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ut(Ut({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function dQ(e,t,r){var n,a,i,o=Fr(),l=y2(),c=nQ(e,t),u=iQ(e,c),d=oQ(),f=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var S;c.outside||l.focusedDay&&f&&$a(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var h=cQ(o,c).join(" "),m=uQ(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:OX,y=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:y,role:"gridcell"},x=l.focusTarget&&$a(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&$a(l.focusedDay,e),v=Ut(Ut(Ut({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),j={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:v,divProps:b};return j}function fQ(e){var t=N.useRef(null),r=dQ(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Nx,Ut({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ut({},r.divProps))}function hQ(e){var t=e.number,r=e.dates,n=Fr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(Nx,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function mQ(e){var t,r,n=Fr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:fQ,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:hQ,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},HY(f))})]})}function LC(e,t,r){for(var n=r!=null&&r.ISOWeek?j3(t):d2(t,r),a=r!=null&&r.ISOWeek?lu(e):Xi(e,r),i=ci(n,a),o=[],l=0;l<=i;l++)o.push(da(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?N3(d):E3(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function pQ(e,t){var r=LC(Ha(e),u2(e),t);if(t!=null&&t.useFixedWeeks){var n=qY(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=zj(i,6-n),l=LC(zj(i,1),o,t);r.push.apply(r,l)}}return r}function gQ(e){var t,r,n,a=Fr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=pQ(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:kX,y=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:mQ,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:AX;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(x){return s.jsx(y,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function xQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var yQ=xQ()?N.useLayoutEffect:N.useEffect,Ew=!1,vQ=0;function $C(){return"react-day-picker-".concat(++vQ)}function wQ(e){var t,r=e??(Ew?$C():null),n=N.useState(r),a=n[0],i=n[1];return yQ(function(){a===null&&i($C())},[]),N.useEffect(function(){Ew===!1&&(Ew=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function bQ(e){var t,r,n=Fr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=e0().displayMonths,u=wQ(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Ut(Ut({},h),o.caption_start)),g&&(f.push(i.caption_end),h=Ut(Ut({},h),o.caption_end)),p&&(f.push(i.caption_between),h=Ut(Ut({},h),o.caption_between));var y=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:TX;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(gQ,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function jQ(e){var t=Fr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function SQ(e){var t,r,n=e.initialProps,a=Fr(),i=y2(),o=e0(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Ut(Ut({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var y;return Ut(Ut({},g),(y={},y[p]=n[p],y))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:jQ;return s.jsx("div",Ut({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx(bQ,{displayIndex:p,displayMonth:g},p)})})}))}function NQ(e){var t=e.children,r=KY(e,["children"]);return s.jsx(hX,{initialProps:r,children:s.jsx(SX,{children:s.jsx(aQ,{initialProps:r,children:s.jsx(PX,{initialProps:r,children:s.jsx(MX,{initialProps:r,children:s.jsx(HX,{children:s.jsx(rQ,{children:t})})})})})})})}function _Q(e){return s.jsx(NQ,Ut({},e,{children:s.jsx(SQ,{initialProps:e})}))}function yo({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(_Q,{showOutsideDays:r,className:rt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:rt(Fj({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:rt(Fj({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(Hf,{className:rt("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(No,{className:rt("h-4 w-4",a),...i})},...n})}yo.displayName="Calendar";var Tw=0;function w2(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??BC()),document.body.insertAdjacentElement("beforeend",e[1]??BC()),Tw++,()=>{Tw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tw--}},[])}function BC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Aw="focusScope.autoFocusOnMount",Cw="focusScope.autoFocusOnUnmount",UC={bubbles:!1,cancelable:!0},EQ="FocusScope",bv=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=N.useState(null),u=ms(a),d=ms(i),f=N.useRef(null),h=nr(t,p=>c(p)),m=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const v=w.target;l.contains(v)?f.current=v:al(f.current,{select:!0})},y=function(w){if(m.paused||!l)return;const v=w.relatedTarget;v!==null&&(l.contains(v)||al(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&al(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),x.disconnect()}}},[n,l,m.paused]),N.useEffect(()=>{if(l){WC.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(Aw,UC);l.addEventListener(Aw,u),l.dispatchEvent(b),b.defaultPrevented||(TQ(OQ(L3(l)),{select:!0}),document.activeElement===p&&al(l))}return()=>{l.removeEventListener(Aw,u),setTimeout(()=>{const b=new CustomEvent(Cw,UC);l.addEventListener(Cw,d),l.dispatchEvent(b),b.defaultPrevented||al(p??document.body,{select:!0}),l.removeEventListener(Cw,d),WC.remove(m)},0)}}},[l,u,d,m]);const g=N.useCallback(p=>{if(!r&&!n||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(y&&b){const x=p.currentTarget,[w,v]=AQ(x);w&&v?!p.shiftKey&&b===v?(p.preventDefault(),r&&al(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&al(v,{select:!0})):b===x&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(It.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});bv.displayName=EQ;function TQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(al(n,{select:t}),document.activeElement!==r)return}function AQ(e){const t=L3(e),r=VC(t,e),n=VC(t.reverse(),e);return[r,n]}function L3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function VC(e,t){for(const r of e)if(!CQ(r,{upTo:t}))return r}function CQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function DQ(e){return e instanceof HTMLInputElement&&"select"in e}function al(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&DQ(e)&&t&&e.select()}}var WC=kQ();function kQ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=HC(e,t),e.unshift(t)},remove(t){var r;e=HC(e,t),(r=e[0])==null||r.resume()}}}function HC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function OQ(e){return e.filter(t=>t.tagName!=="A")}var PQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hu=new WeakMap,H0=new WeakMap,z0={},Dw=0,$3=function(e){return e&&(e.host||$3(e.parentNode))},IQ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},RQ=function(e,t,r,n){var a=IQ(t,Array.isArray(e)?e:[e]);z0[r]||(z0[r]=new WeakMap);var i=z0[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Hu.get(h)||0)+1,y=(i.get(h)||0)+1;Hu.set(h,p),i.set(h,y),o.push(h),p===1&&g&&H0.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Dw++,function(){o.forEach(function(f){var h=Hu.get(f)-1,m=i.get(f)-1;Hu.set(f,h),i.set(f,m),h||(H0.has(f)||f.removeAttribute(n),H0.delete(f)),m||f.removeAttribute(r)}),Dw--,Dw||(Hu=new WeakMap,Hu=new WeakMap,H0=new WeakMap,z0={})}},b2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=PQ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),RQ(n,a,r,"aria-hidden")):function(){return null}},Fi=function(){return Fi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fi.apply(this,arguments)};function B3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function MQ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Rg="right-scroll-bar-position",Mg="width-before-scroll-bar",FQ="with-scroll-bars-hidden",LQ="--removed-body-scroll-bar-size";function kw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $Q(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var BQ=typeof window<"u"?N.useLayoutEffect:N.useEffect,zC=new WeakMap;function UQ(e,t){var r=$Q(null,function(n){return e.forEach(function(a){return kw(a,n)})});return BQ(function(){var n=zC.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||kw(l,null)}),i.forEach(function(l){a.has(l)||kw(l,o)})}zC.set(r,e)},[e]),r}function VQ(e){return e}function WQ(e,t){t===void 0&&(t=VQ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function HQ(e){e===void 0&&(e={});var t=WQ(null);return t.options=Fi({async:!0,ssr:!1},e),t}var U3=function(e){var t=e.sideCar,r=B3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Fi({},r))};U3.isSideCarExport=!0;function zQ(e,t){return e.useMedium(t),U3}var V3=HQ(),Ow=function(){},jv=N.forwardRef(function(e,t){var r=N.useRef(null),n=N.useState({onScrollCapture:Ow,onWheelCapture:Ow,onTouchMoveCapture:Ow}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,y=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,w=e.gapMode,v=B3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=UQ([r,t]),_=Fi(Fi({},v),a);return N.createElement(N.Fragment,null,d&&N.createElement(j,{sideCar:V3,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?N.cloneElement(N.Children.only(l),Fi(Fi({},_),{ref:S})):N.createElement(x,Fi({},_,{className:c,ref:S}),l))});jv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jv.classNames={fullWidth:Mg,zeroRight:Rg};var qQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qQ();return t&&e.setAttribute("nonce",t),e}function KQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XQ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=GQ())&&(KQ(t,r),YQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QQ=function(){var e=XQ();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},W3=function(){var e=QQ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},JQ={left:0,top:0,right:0,gap:0},Pw=function(e){return parseInt(e||"",10)||0},ZQ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Pw(r),Pw(n),Pw(a)]},eJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JQ;var t=ZQ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},tJ=W3(),Td="data-scroll-locked",rJ=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(FQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Td,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rg," .").concat(Rg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Mg," .").concat(Mg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Td,`] {
    `).concat(LQ,": ").concat(l,`px;
  }
`)},qC=function(){var e=parseInt(document.body.getAttribute(Td)||"0",10);return isFinite(e)?e:0},nJ=function(){N.useEffect(function(){return document.body.setAttribute(Td,(qC()+1).toString()),function(){var e=qC()-1;e<=0?document.body.removeAttribute(Td):document.body.setAttribute(Td,e.toString())}},[])},aJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;nJ();var i=N.useMemo(function(){return eJ(a)},[a]);return N.createElement(tJ,{styles:rJ(i,!t,a,r?"":"!important")})},Gj=!1;if(typeof window<"u")try{var q0=Object.defineProperty({},"passive",{get:function(){return Gj=!0,!0}});window.addEventListener("test",q0,q0),window.removeEventListener("test",q0,q0)}catch{Gj=!1}var zu=Gj?{passive:!1}:!1,sJ=function(e){return e.tagName==="TEXTAREA"},H3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!sJ(e)&&r[t]==="visible")},iJ=function(e){return H3(e,"overflowY")},oJ=function(e){return H3(e,"overflowX")},GC=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=z3(e,n);if(a){var i=q3(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},z3=function(e,t){return e==="v"?iJ(t):oJ(t)},q3=function(e,t){return e==="v"?lJ(t):cJ(t)},uJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},dJ=function(e,t,r,n,a){var i=uJ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=q3(e,l),g=m[0],p=m[1],y=m[2],b=p-y-i*g;(g||b)&&z3(e,l)&&(f+=b,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},G0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},KC=function(e){return[e.deltaX,e.deltaY]},YC=function(e){return e&&"current"in e?e.current:e},fJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mJ=0,qu=[];function pJ(e){var t=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(mJ++)[0],i=N.useState(W3)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=MQ([e.lockRef.current],(e.shards||[]).map(YC),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=G0(p),x=r.current,w="deltaX"in p?p.deltaX:x[0]-b[0],v="deltaY"in p?p.deltaY:x[1]-b[1],j,S=p.target,_=Math.abs(w)>Math.abs(v)?"h":"v";if("touches"in p&&_==="h"&&S.type==="range")return!1;var E=GC(_,S);if(!E)return!0;if(E?j=_:(j=_==="v"?"h":"v",E=GC(_,S)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||v)&&(n.current=j),!j)return!0;var T=n.current||j;return dJ(T,y,p,T==="h"?w:v)},[]),c=N.useCallback(function(p){var y=p;if(!(!qu.length||qu[qu.length-1]!==i)){var b="deltaY"in y?KC(y):G0(y),x=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&fJ(j.delta,b)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(YC).filter(Boolean).filter(function(j){return j.contains(y.target)}),v=w.length>0?l(y,w[0]):!o.current.noIsolation;v&&y.cancelable&&y.preventDefault()}}},[]),u=N.useCallback(function(p,y,b,x){var w={name:p,delta:y,target:b,should:x,shadowParent:gJ(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(v){return v!==w})},1)},[]),d=N.useCallback(function(p){r.current=G0(p),n.current=void 0},[]),f=N.useCallback(function(p){u(p.type,KC(p),p.target,l(p,e.lockRef.current))},[]),h=N.useCallback(function(p){u(p.type,G0(p),p.target,l(p,e.lockRef.current))},[]);N.useEffect(function(){return qu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zu),document.addEventListener("touchmove",c,zu),document.addEventListener("touchstart",d,zu),function(){qu=qu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,zu),document.removeEventListener("touchmove",c,zu),document.removeEventListener("touchstart",d,zu)}},[]);var m=e.removeScrollBar,g=e.inert;return N.createElement(N.Fragment,null,g?N.createElement(i,{styles:hJ(a)}):null,m?N.createElement(aJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xJ=zQ(V3,pJ);var Sv=N.forwardRef(function(e,t){return N.createElement(jv,Fi({},e,{ref:t,sideCar:xJ}))});Sv.classNames=jv.classNames;var Nv="Popover",[G3,UPe]=Ka(Nv,[Yf]),t0=Yf(),[yJ,lc]=G3(Nv),K3=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=t0(t),c=N.useRef(null),[u,d]=N.useState(!1),[f,h]=Ki({prop:n,defaultProp:a??!1,onChange:i,caller:Nv});return s.jsx(HF,{...l,children:s.jsx(yJ,{scope:t,contentId:_o(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:r})})};K3.displayName=Nv;var Y3="PopoverAnchor",vJ=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lc(Y3,r),i=t0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return N.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(mv,{...i,...n,ref:t})});vJ.displayName=Y3;var X3="PopoverTrigger",Q3=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lc(X3,r),i=t0(r),o=nr(t,a.triggerRef),l=s.jsx(It.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rL(a.open),...n,ref:o,onClick:jt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(mv,{asChild:!0,...i,children:l})});Q3.displayName=X3;var j2="PopoverPortal",[wJ,bJ]=G3(j2,{forceMount:void 0}),J3=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=lc(j2,t);return s.jsx(wJ,{scope:t,forceMount:r,children:s.jsx(bi,{present:r||i.open,children:s.jsx(Wp,{asChild:!0,container:a,children:n})})})};J3.displayName=j2;var mf="PopoverContent",Z3=N.forwardRef((e,t)=>{const r=bJ(mf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=lc(mf,e.__scopePopover);return s.jsx(bi,{present:n||i.open,children:i.modal?s.jsx(SJ,{...a,ref:t}):s.jsx(NJ,{...a,ref:t})})});Z3.displayName=mf;var jJ=su("PopoverContent.RemoveScroll"),SJ=N.forwardRef((e,t)=>{const r=lc(mf,e.__scopePopover),n=N.useRef(null),a=nr(t,n),i=N.useRef(!1);return N.useEffect(()=>{const o=n.current;if(o)return b2(o)},[]),s.jsx(Sv,{as:jJ,allowPinchZoom:!0,children:s.jsx(eL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:jt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:jt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),NJ=N.forwardRef((e,t)=>{const r=lc(mf,e.__scopePopover),n=N.useRef(!1),a=N.useRef(!1);return s.jsx(eL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),eL=N.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=lc(mf,r),m=t0(r);return w2(),s.jsx(bv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(Q_,{"data-state":rL(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tL="PopoverClose",_J=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=lc(tL,r);return s.jsx(It.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,()=>a.onOpenChange(!1))})});_J.displayName=tL;var EJ="PopoverArrow",TJ=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=t0(r);return s.jsx(J_,{...a,...n,ref:t})});TJ.displayName=EJ;function rL(e){return e?"open":"closed"}var AJ=K3,CJ=Q3,DJ=J3,nL=Z3;const _l=AJ,El=CJ,vo=N.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(DJ,{children:s.jsx(nL,{ref:a,align:t,sideOffset:r,className:rt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));vo.displayName=nL.displayName;const kJ=sa({effectiveDate:Zl({required_error:"Please select an effective date"})});function OJ({onNext:e,onPrevious:t,isLast:r,isLoading:n,company:a}){const{toast:i}=qr();function o(){const h=localStorage.getItem("leave_year");if(!h)return{startDate:null,endDate:null};const m=h.split("-");if(m.length!==3)return{startDate:null,endDate:null};const g=m[0],p=m[1],y=m[2].split(" ")[0],b=m[2].split(" ")[1],x={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11},w=new Date(parseInt(p),x[g],1),v=new Date(parseInt(b),x[y]+1,0);return{startDate:w,endDate:v}}const{startDate:l,endDate:c}=o(),u=us({resolver:Is(kJ),defaultValues:{effectiveDate:a!=null&&a.effectiveDate?new Date(a.effectiveDate):new Date}}),d=Bt({mutationFn:async h=>{if(l&&c&&(h.effectiveDate<l||h.effectiveDate>c))throw new Error(`Effective date must be between ${ft(l,"MMMM d, yyyy")} and ${ft(c,"MMMM d, yyyy")} based on your leave year`);const m={effectiveDate:h.effectiveDate.toISOString(),setupStatus:"in_progress",name:(a==null?void 0:a.name)||"Company",workingDaysPerWeek:5,industry:"technology",leaveYearStart:"January 1st"};let g;a!=null&&a.id?g=await Tt("PATCH",`/api/company/${a.id}`,m):g=await Tt("POST","/api/company",m);try{const y=await(await Tt("GET","/api/roles")).json();if(!y||y.length===0){console.log("No existing roles found, creating default roles...");const b=[{name:"Admin",description:"",permissions:{employeeOverview:{view:!0,modify:!0},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!0},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},adminOverview:{view:!0,modify:!0},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!0},workflows:{view:!0,modify:!0},roles:{view:!0,modify:!0},importLeaveData:{view:!0,modify:!0},adminLeaveTypes:{view:!0,modify:!0},adminCompOff:{view:!0,modify:!0},adminPTO:{view:!0,modify:!0},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}}},{name:"Reporting Manager",description:"",permissions:{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},adminOverview:{view:!0,modify:!1},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}}},{name:"Employee",description:"",permissions:{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}];for(const x of b)await Tt("POST","/api/roles",x);console.log("Default roles created successfully")}else console.log("Existing roles found, skipping default role creation")}catch(p){console.error("Error creating default roles:",p)}return g},onSuccess:()=>{console.log("Effective date and default roles setup completed successfully"),qe.invalidateQueries({queryKey:["/api/company"]}),qe.invalidateQueries({queryKey:["/api/roles"]}),i({title:"Success",description:"Module enabled successfully with default roles created."}),setTimeout(()=>{console.log("About to call onNext() after timeout"),e()},100)},onError:h=>{console.error("Effective date error:",h),i({title:"Error",description:"Failed to save effective date. Please try again.",variant:"destructive"})}}),f=h=>{d.mutate(h)};return s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(Ee,{children:[s.jsxs(_t,{children:[s.jsx(Et,{children:"Set Effective Date"}),s.jsx(of,{children:"Choose when your leave management system should become effective. This date will be used as the starting point for all leave calculations."})]}),s.jsx(De,{children:s.jsx(li,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-6",children:[s.jsx(Qe,{control:u.control,name:"effectiveDate",render:({field:h})=>s.jsxs(Ke,{className:"flex flex-col",children:[s.jsx(mt,{children:"Effective Date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsx(at,{children:s.jsxs(ne,{variant:"outline",className:rt("w-full pl-3 text-left font-normal",!h.value&&"text-muted-foreground"),children:[h.value?ft(h.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Pr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(vo,{className:"w-auto p-0",align:"start",children:s.jsx(yo,{mode:"single",selected:h.value,onSelect:h.onChange,disabled:m=>l&&c?m<l||m>c:m<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yt,{}),l&&c&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Please select a date between ",ft(l,"MMMM d, yyyy")," and ",ft(c,"MMMM d, yyyy")," based on your leave year (",localStorage.getItem("leave_year"),")."]})]})}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:t,disabled:d.isPending,children:"Previous"}),s.jsx(ne,{type:"submit",disabled:d.isPending||n,children:d.isPending?"Saving...":r?"Complete Setup":"Next"})]})]})})})]})})}const XC=e=>({stethoscope:lv,smile:qp,umbrella:cv,baby:sv,heart:ov,users:Vn,user:nf,calendar:Pr,briefcase:sF,clock:ea,star:dF,gift:cF})[e]||Pr,pt=N.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));pt.displayName="Input";const Tn=N.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Tn.displayName="Textarea";function _v(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ev="Checkbox",[PJ,VPe]=Ka(Ev),[IJ,S2]=PJ(Ev);function RJ(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Ki({prop:r,defaultProp:a??!1,onChange:c,caller:Ev}),[g,p]=N.useState(null),[y,b]=N.useState(null),x=N.useRef(!1),w=g?!!o||!!g.closest("form"):!0,v={checked:h,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Bl(a)?!1:a,isFormControl:w,bubbleInput:y,setBubbleInput:b};return s.jsx(IJ,{scope:t,...v,children:MJ(f)?f(v):n})}var aL="CheckboxTrigger",sL=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=S2(aL,e),p=nr(a,d),y=N.useRef(c);return N.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const x=()=>f(y.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[i,f]),s.jsx(It.button,{type:"button",role:"checkbox","aria-checked":Bl(c)?"mixed":c,"aria-required":u,"data-state":uL(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:jt(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:jt(r,b=>{f(x=>Bl(x)?!0:!x),g&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});sL.displayName=aL;var N2=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(RJ,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(sL,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(cL,{__scopeCheckbox:r})]})})});N2.displayName=Ev;var iL="CheckboxIndicator",oL=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=S2(iL,r);return s.jsx(bi,{present:n||Bl(i.checked)||i.checked===!0,children:s.jsx(It.span,{"data-state":uL(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});oL.displayName=iL;var lL="CheckboxBubbleInput",cL=N.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=S2(lL,e),g=nr(r,m),p=_v(i),y=hv(n);N.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,S=!a.current;if(p!==i&&j){const _=new Event("click",{bubbles:S});x.indeterminate=Bl(i),j.call(x,Bl(i)?!1:i),x.dispatchEvent(_)}},[h,p,i,a]);const b=N.useRef(Bl(i)?!1:i);return s.jsx(It.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});cL.displayName=lL;function MJ(e){return typeof e=="function"}function Bl(e){return e==="indeterminate"}function uL(e){return Bl(e)?"indeterminate":e?"checked":"unchecked"}const Ft=N.forwardRef(({className:e,...t},r)=>s.jsx(N2,{ref:r,className:rt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(oL,{className:rt("flex items-center justify-center text-current"),children:s.jsx($_,{className:"h-4 w-4"})})}));Ft.displayName=N2.displayName;function QC(e,[t,r]){return Math.min(r,Math.max(t,e))}var FJ=N.createContext(void 0);function Tv(e){const t=N.useContext(FJ);return e||t||"ltr"}var LJ=[" ","Enter","ArrowUp","ArrowDown"],$J=[" ","Enter"],cu="Select",[Av,Cv,BJ]=I_(cu),[Qf,WPe]=Ka(cu,[BJ,Yf]),Dv=Yf(),[UJ,cc]=Qf(cu),[VJ,WJ]=Qf(cu),dL=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Dv(t),[y,b]=N.useState(null),[x,w]=N.useState(null),[v,j]=N.useState(!1),S=Tv(u),[_,E]=Ki({prop:n,defaultProp:a??!1,onChange:i,caller:cu}),[T,D]=Ki({prop:o,defaultProp:l,onChange:c,caller:cu}),O=N.useRef(null),A=y?g||!!y.closest("form"):!0,[M,U]=N.useState(new Set),B=Array.from(M).map(I=>I.props.value).join(";");return s.jsx(HF,{...p,children:s.jsxs(UJ,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:v,onValueNodeHasChildrenChange:j,contentId:_o(),value:T,onValueChange:D,open:_,onOpenChange:E,dir:S,triggerPointerDownPosRef:O,disabled:h,children:[s.jsx(Av.Provider,{scope:t,children:s.jsx(VJ,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(I=>{U(P=>new Set(P).add(I))},[]),onNativeOptionRemove:N.useCallback(I=>{U(P=>{const C=new Set(P);return C.delete(I),C})},[]),children:r})}),A?s.jsxs(RL,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:I=>D(I.target.value),disabled:h,form:g,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},B):null]})})};dL.displayName=cu;var fL="SelectTrigger",hL=N.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Dv(r),o=cc(fL,r),l=o.disabled||n,c=nr(t,o.onTriggerChange),u=Cv(r),d=N.useRef("touch"),[f,h,m]=FL(p=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),x=LL(y,p,b);x!==void 0&&o.onValueChange(x.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(mv,{asChild:!0,...i,children:s.jsx(It.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ML(o.value)?"":void 0,...a,ref:c,onClick:jt(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:jt(a.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:jt(a.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&LJ.includes(p.key)&&(g(),p.preventDefault())})})})});hL.displayName=fL;var mL="SelectValue",pL=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=cc(mL,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=nr(t,c.onValueNodeChange);return xn(()=>{u(d)},[u,d]),s.jsx(It.span,{...l,ref:f,style:{pointerEvents:"none"},children:ML(c.value)?s.jsx(s.Fragment,{children:o}):i})});pL.displayName=mL;var HJ="SelectIcon",gL=N.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(It.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});gL.displayName=HJ;var zJ="SelectPortal",xL=e=>s.jsx(Wp,{asChild:!0,...e});xL.displayName=zJ;var uu="SelectContent",yL=N.forwardRef((e,t)=>{const r=cc(uu,e.__scopeSelect),[n,a]=N.useState();if(xn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ju.createPortal(s.jsx(vL,{scope:e.__scopeSelect,children:s.jsx(Av.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(wL,{...e,ref:t})});yL.displayName=uu;var Ys=10,[vL,uc]=Qf(uu),qJ="SelectContentImpl",GJ=su("SelectContent.RemoveScroll"),wL=N.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...b}=e,x=cc(uu,r),[w,v]=N.useState(null),[j,S]=N.useState(null),_=nr(t,ue=>v(ue)),[E,T]=N.useState(null),[D,O]=N.useState(null),A=Cv(r),[M,U]=N.useState(!1),B=N.useRef(!1);N.useEffect(()=>{if(w)return b2(w)},[w]),w2();const I=N.useCallback(ue=>{const[ge,...le]=A().map(he=>he.ref.current),[X]=le.slice(-1),xe=document.activeElement;for(const he of ue)if(he===xe||(he==null||he.scrollIntoView({block:"nearest"}),he===ge&&j&&(j.scrollTop=0),he===X&&j&&(j.scrollTop=j.scrollHeight),he==null||he.focus(),document.activeElement!==xe))return},[A,j]),P=N.useCallback(()=>I([E,w]),[I,E,w]);N.useEffect(()=>{M&&P()},[M,P]);const{onOpenChange:C,triggerPointerDownPosRef:F}=x;N.useEffect(()=>{if(w){let ue={x:0,y:0};const ge=X=>{var xe,he;ue={x:Math.abs(Math.round(X.pageX)-(((xe=F.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(X.pageY)-(((he=F.current)==null?void 0:he.y)??0))}},le=X=>{ue.x<=10&&ue.y<=10?X.preventDefault():w.contains(X.target)||C(!1),document.removeEventListener("pointermove",ge),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",le,{capture:!0})}}},[w,C,F]),N.useEffect(()=>{const ue=()=>C(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[C]);const[R,se]=FL(ue=>{const ge=A().filter(xe=>!xe.disabled),le=ge.find(xe=>xe.ref.current===document.activeElement),X=LL(ge,ue,le);X&&setTimeout(()=>X.ref.current.focus())}),L=N.useCallback((ue,ge,le)=>{const X=!B.current&&!le;(x.value!==void 0&&x.value===ge||X)&&(T(ue),X&&(B.current=!0))},[x.value]),q=N.useCallback(()=>w==null?void 0:w.focus(),[w]),H=N.useCallback((ue,ge,le)=>{const X=!B.current&&!le;(x.value!==void 0&&x.value===ge||X)&&O(ue)},[x.value]),K=n==="popper"?Kj:bL,ce=K===Kj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return s.jsx(vL,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:L,selectedItem:E,onItemLeave:q,itemTextRefCallback:H,focusSelectedItem:P,selectedItemText:D,position:n,isPositioned:M,searchRef:R,children:s.jsx(Sv,{as:GJ,allowPinchZoom:!0,children:s.jsx(bv,{asChild:!0,trapped:x.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:jt(a,ue=>{var ge;(ge=x.trigger)==null||ge.focus({preventScroll:!0}),ue.preventDefault()}),children:s.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(K,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ue=>ue.preventDefault(),...b,...ce,onPlaced:()=>U(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:jt(b.onKeyDown,ue=>{const ge=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ge&&ue.key.length===1&&se(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let X=A().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const xe=ue.target,he=X.indexOf(xe);X=X.slice(he+1)}setTimeout(()=>I(X)),ue.preventDefault()}})})})})})})});wL.displayName=qJ;var KJ="SelectItemAlignedPosition",bL=N.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=cc(uu,r),o=uc(uu,r),[l,c]=N.useState(null),[u,d]=N.useState(null),f=nr(t,_=>d(_)),h=Cv(r),m=N.useRef(!1),g=N.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:b,focusSelectedItem:x}=o,w=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&y&&b){const _=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),D=b.getBoundingClientRect();if(i.dir!=="rtl"){const xe=D.left-E.left,he=T.left-xe,Me=_.left-he,Pe=_.width+Me,Be=Math.max(Pe,E.width),Ie=window.innerWidth-Ys,W=QC(he,[Ys,Math.max(Ys,Ie-Be)]);l.style.minWidth=Pe+"px",l.style.left=W+"px"}else{const xe=E.right-D.right,he=window.innerWidth-T.right-xe,Me=window.innerWidth-_.right-he,Pe=_.width+Me,Be=Math.max(Pe,E.width),Ie=window.innerWidth-Ys,W=QC(he,[Ys,Math.max(Ys,Ie-Be)]);l.style.minWidth=Pe+"px",l.style.right=W+"px"}const O=h(),A=window.innerHeight-Ys*2,M=p.scrollHeight,U=window.getComputedStyle(u),B=parseInt(U.borderTopWidth,10),I=parseInt(U.paddingTop,10),P=parseInt(U.borderBottomWidth,10),C=parseInt(U.paddingBottom,10),F=B+I+M+C+P,R=Math.min(y.offsetHeight*5,F),se=window.getComputedStyle(p),L=parseInt(se.paddingTop,10),q=parseInt(se.paddingBottom,10),H=_.top+_.height/2-Ys,K=A-H,ce=y.offsetHeight/2,ue=y.offsetTop+ce,ge=B+I+ue,le=F-ge;if(ge<=H){const xe=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const he=u.clientHeight-p.offsetTop-p.offsetHeight,Me=Math.max(K,ce+(xe?q:0)+he+P),Pe=ge+Me;l.style.height=Pe+"px"}else{const xe=O.length>0&&y===O[0].ref.current;l.style.top="0px";const Me=Math.max(H,B+p.offsetTop+(xe?L:0)+ce)+le;l.style.height=Me+"px",p.scrollTop=ge-H+p.offsetTop}l.style.margin=`${Ys}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,y,b,i.dir,n]);xn(()=>w(),[w]);const[v,j]=N.useState();xn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=N.useCallback(_=>{_&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return s.jsx(XJ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:v},children:s.jsx(It.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});bL.displayName=KJ;var YJ="SelectPopperPosition",Kj=N.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ys,...i}=e,o=Dv(r);return s.jsx(Q_,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kj.displayName=YJ;var[XJ,_2]=Qf(uu,{}),Yj="SelectViewport",jL=N.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=uc(Yj,r),o=_2(Yj,r),l=nr(t,i.onViewportChange),c=N.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Av.Slot,{scope:r,children:s.jsx(It.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:jt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Ys*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(p,y);if(b<g){const x=b+m,w=Math.min(g,x),v=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=v>0?v:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});jL.displayName=Yj;var SL="SelectGroup",[QJ,JJ]=Qf(SL),ZJ=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_o();return s.jsx(QJ,{scope:r,id:a,children:s.jsx(It.div,{role:"group","aria-labelledby":a,...n,ref:t})})});ZJ.displayName=SL;var NL="SelectLabel",_L=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=JJ(NL,r);return s.jsx(It.div,{id:a.id,...n,ref:t})});_L.displayName=NL;var _x="SelectItem",[eZ,EL]=Qf(_x),TL=N.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=cc(_x,r),c=uc(_x,r),u=l.value===n,[d,f]=N.useState(i??""),[h,m]=N.useState(!1),g=nr(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),p=_o(),y=N.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(eZ,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:N.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Av.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(It.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:jt(o.onFocus,()=>m(!0)),onBlur:jt(o.onBlur,()=>m(!1)),onClick:jt(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:jt(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:jt(o.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:jt(o.onPointerMove,x=>{var w;y.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:jt(o.onKeyDown,x=>{var v;((v=c.searchRef)==null?void 0:v.current)!==""&&x.key===" "||($J.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});TL.displayName=_x;var Kh="SelectItemText",AL=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=cc(Kh,r),l=uc(Kh,r),c=EL(Kh,r),u=WJ(Kh,r),[d,f]=N.useState(null),h=nr(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=N.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return xn(()=>(p(g),()=>y(g)),[p,y,g]),s.jsxs(s.Fragment,{children:[s.jsx(It.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ju.createPortal(i.children,o.valueNode):null]})});AL.displayName=Kh;var CL="SelectItemIndicator",DL=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return EL(CL,r).isSelected?s.jsx(It.span,{"aria-hidden":!0,...n,ref:t}):null});DL.displayName=CL;var Xj="SelectScrollUpButton",kL=N.forwardRef((e,t)=>{const r=uc(Xj,e.__scopeSelect),n=_2(Xj,e.__scopeSelect),[a,i]=N.useState(!1),o=nr(t,n.onScrollButtonChange);return xn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(PL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kL.displayName=Xj;var Qj="SelectScrollDownButton",OL=N.forwardRef((e,t)=>{const r=uc(Qj,e.__scopeSelect),n=_2(Qj,e.__scopeSelect),[a,i]=N.useState(!1),o=nr(t,n.onScrollButtonChange);return xn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(PL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});OL.displayName=Qj;var PL=N.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=uc("SelectScrollButton",r),o=N.useRef(null),l=Cv(r),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),xn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(It.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:jt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:jt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:jt(a.onPointerLeave,()=>{c()})})}),tZ="SelectSeparator",IL=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(It.div,{"aria-hidden":!0,...n,ref:t})});IL.displayName=tZ;var Jj="SelectArrow",rZ=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Dv(r),i=cc(Jj,r),o=uc(Jj,r);return i.open&&o.position==="popper"?s.jsx(J_,{...a,...n,ref:t}):null});rZ.displayName=Jj;var nZ="SelectBubbleInput",RL=N.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=N.useRef(null),i=nr(n,a),o=_v(t);return N.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(It.select,{...r,style:{...FM,...r.style},ref:i,defaultValue:t})});RL.displayName=nZ;function ML(e){return e===""||e===void 0}function FL(e){const t=ms(e),r=N.useRef(""),n=N.useRef(0),a=N.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function LL(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=aZ(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function aZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sZ=dL,$L=hL,iZ=pL,oZ=gL,lZ=xL,BL=yL,cZ=jL,UL=_L,VL=TL,uZ=AL,dZ=DL,WL=kL,HL=OL,zL=IL;const Dt=sZ,kt=iZ,At=N.forwardRef(({className:e,children:t,...r},n)=>s.jsxs($L,{ref:n,className:rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(oZ,{asChild:!0,children:s.jsx(Nd,{className:"h-4 w-4 opacity-50"})})]}));At.displayName=$L.displayName;const qL=N.forwardRef(({className:e,...t},r)=>s.jsx(WL,{ref:r,className:rt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(iF,{className:"h-4 w-4"})}));qL.displayName=WL.displayName;const GL=N.forwardRef(({className:e,...t},r)=>s.jsx(HL,{ref:r,className:rt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Nd,{className:"h-4 w-4"})}));GL.displayName=HL.displayName;const Ct=N.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(lZ,{children:s.jsxs(BL,{ref:a,className:rt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(qL,{}),s.jsx(cZ,{className:rt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(GL,{})]})}));Ct.displayName=BL.displayName;const fZ=N.forwardRef(({className:e,...t},r)=>s.jsx(UL,{ref:r,className:rt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fZ.displayName=UL.displayName;const _e=N.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(VL,{ref:n,className:rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dZ,{children:s.jsx($_,{className:"h-4 w-4"})})}),s.jsx(uZ,{children:t})]}));_e.displayName=VL.displayName;const hZ=N.forwardRef(({className:e,...t},r)=>s.jsx(zL,{ref:r,className:rt("-mx-1 my-1 h-px bg-muted",e),...t}));hZ.displayName=zL.displayName;var kv="Switch",[mZ,HPe]=Ka(kv),[pZ,gZ]=mZ(kv),KL=N.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=N.useState(null),g=nr(t,w=>m(w)),p=N.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,x]=Ki({prop:a,defaultProp:i??!1,onChange:u,caller:kv});return s.jsxs(pZ,{scope:r,checked:b,disabled:l,children:[s.jsx(It.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":JL(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:jt(e.onClick,w=>{x(v=>!v),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&s.jsx(QL,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});KL.displayName=kv;var YL="SwitchThumb",XL=N.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=gZ(YL,r);return s.jsx(It.span,{"data-state":JL(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});XL.displayName=YL;var xZ="SwitchBubbleInput",QL=N.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=N.useRef(null),l=nr(o,i),c=_v(r),u=hv(t);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});QL.displayName=xZ;function JL(e){return e?"checked":"unchecked"}var ZL=KL,yZ=XL;const si=N.forwardRef(({className:e,...t},r)=>s.jsx(ZL,{className:rt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(yZ,{className:rt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));si.displayName=ZL.displayName;var Iw="rovingFocusGroup.onEntryFocus",vZ={bubbles:!1,cancelable:!0},r0="RovingFocusGroup",[Zj,e6,wZ]=I_(r0),[bZ,Ov]=Ka(r0,[wZ]),[jZ,SZ]=bZ(r0),t6=N.forwardRef((e,t)=>s.jsx(Zj.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Zj.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(NZ,{...e,ref:t})})}));t6.displayName=r0;var NZ=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=N.useRef(null),m=nr(t,h),g=Tv(i),[p,y]=Ki({prop:o,defaultProp:l??null,onChange:c,caller:r0}),[b,x]=N.useState(!1),w=ms(u),v=e6(r),j=N.useRef(!1),[S,_]=N.useState(0);return N.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Iw,w),()=>E.removeEventListener(Iw,w)},[w]),s.jsx(jZ,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:N.useCallback(E=>y(E),[y]),onItemShiftTab:N.useCallback(()=>x(!0),[]),onFocusableItemAdd:N.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:N.useCallback(()=>_(E=>E-1),[]),children:s.jsx(It.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:jt(e.onMouseDown,()=>{j.current=!0}),onFocus:jt(e.onFocus,E=>{const T=!j.current;if(E.target===E.currentTarget&&T&&!b){const D=new CustomEvent(Iw,vZ);if(E.currentTarget.dispatchEvent(D),!D.defaultPrevented){const O=v().filter(I=>I.focusable),A=O.find(I=>I.active),M=O.find(I=>I.id===p),B=[A,M,...O].filter(Boolean).map(I=>I.ref.current);a6(B,d)}}j.current=!1}),onBlur:jt(e.onBlur,()=>x(!1))})})}),r6="RovingFocusGroupItem",n6=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=_o(),u=i||c,d=SZ(r6,r),f=d.currentTabStopId===u,h=e6(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return N.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(Zj.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(It.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:jt(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:jt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:jt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=TZ(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(v=>v.focusable).map(v=>v.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const v=w.indexOf(y.currentTarget);w=d.loop?AZ(w,v+1):w.slice(v+1)}setTimeout(()=>a6(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});n6.displayName=r6;var _Z={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EZ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TZ(e,t,r){const n=EZ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return _Z[n]}function a6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function AZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var s6=t6,i6=n6,Pv="Tabs",[CZ,zPe]=Ka(Pv,[Ov]),o6=Ov(),[DZ,E2]=CZ(Pv),l6=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Tv(l),[f,h]=Ki({prop:n,onChange:a,defaultProp:i??"",caller:Pv});return s.jsx(DZ,{scope:r,baseId:_o(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(It.div,{dir:d,"data-orientation":o,...u,ref:t})})});l6.displayName=Pv;var c6="TabsList",u6=N.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=E2(c6,r),o=o6(r);return s.jsx(s6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(It.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});u6.displayName=c6;var d6="TabsTrigger",f6=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=E2(d6,r),l=o6(r),c=p6(o.baseId,n),u=g6(o.baseId,n),d=n===o.value;return s.jsx(i6,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(It.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:jt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:jt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:jt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});f6.displayName=d6;var h6="TabsContent",m6=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=E2(h6,r),c=p6(l.baseId,n),u=g6(l.baseId,n),d=n===l.value,f=N.useRef(d);return N.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(bi,{present:a||d,children:({present:h})=>s.jsx(It.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});m6.displayName=h6;function p6(e,t){return`${e}-trigger-${t}`}function g6(e,t){return`${e}-content-${t}`}var kZ=l6,x6=u6,y6=f6,v6=m6;const T2=kZ,Iv=N.forwardRef(({className:e,...t},r)=>s.jsx(x6,{ref:r,className:rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Iv.displayName=x6.displayName;const Ul=N.forwardRef(({className:e,...t},r)=>s.jsx(y6,{ref:r,className:rt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ul.displayName=y6.displayName;const Vl=N.forwardRef(({className:e,...t},r)=>s.jsx(v6,{ref:r,className:rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vl.displayName=v6.displayName;const OZ="modulepreload",PZ=function(e){return"/"+e},JC={},A2=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=PZ(c),c in JC)return;JC[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":OZ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ZC=async()=>{const{fetchEmployeeData:e,transformEmployeeData:t}=await A2(async()=>{const{fetchEmployeeData:r,transformEmployeeData:n}=await Promise.resolve().then(()=>ZF);return{fetchEmployeeData:r,transformEmployeeData:n}},void 0);try{return(await e()).map(t)}catch(r){throw console.error("Failed to fetch employees from external API:",r),r}};function n0({onClose:e,onAssign:t,preSelectedEmployees:r=[],applicableGenders:n=[]}){const[a,i]=N.useState(""),[o,l]=N.useState([]),[c,u]=N.useState(1),[d,f]=N.useState([]),[h,m]=N.useState(!0),[g,p]=N.useState(null),y=10;N.useEffect(()=>{(async()=>{try{m(!0),console.log("[EmployeeAssignment] Starting to load employees from external API...");const D=localStorage.getItem("jwt_token");if(console.log("[EmployeeAssignment] JWT token available:",!!D),!D){console.error("[EmployeeAssignment] No JWT token found in localStorage"),console.log("[EmployeeAssignment] To use external employee data, please:"),console.log("1. Obtain a JWT token from your system administrator"),console.log("2. Visit /id/{your-jwt-token} to authenticate"),console.log("3. Return to the setup wizard to assign employees");return}const O=await ZC();console.log("[EmployeeAssignment] Loaded employees:",O.length),f(O),p(null)}catch(D){console.error("[EmployeeAssignment] Error loading employees:",D),D instanceof Error&&D.message.includes("JWT token")?p("Authentication required. Please obtain a JWT token and visit /id/{your-jwt-token} to authenticate."):p("Failed to load employee data. Please try again or contact your administrator."),f([])}finally{m(!1)}})()},[]),N.useEffect(()=>{if(r&&r.length>0&&d.length>0){const T=r.map(D=>d.find(O=>O.user_id===D.user_id)).filter(Boolean);l(T)}},[r,d]);const b=d.filter(T=>{if(!T)return!1;if(n.length>0){const O=(T.gender||"").toLowerCase();if(!n.some(M=>M.toLowerCase()===O))return!1}const D=a.toLowerCase();return(T.user_name||"").toLowerCase().includes(D)||(T.employee_number||"").toLowerCase().includes(D)||(T.email||"").toLowerCase().includes(D)}),x=Math.ceil(b.length/y),w=(c-1)*y,v=b.slice(w,w+y),j=T=>{l(D=>D.find(A=>A.user_id===T.user_id)?D.filter(A=>A.user_id!==T.user_id):[...D,T])},S=()=>{o.length===b.length?l([]):l(b)},_=()=>{console.log("EmployeeAssignment - handleAssign called with:",o),console.log("Number of selected employees:",o.length),t(o)},E=T=>o.some(D=>D.user_id===T.user_id);return h?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6",children:s.jsx("div",{className:"text-center",children:"Loading employees..."})})}):g?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-red-600 mb-4",children:[s.jsx(cs,{className:"h-12 w-12 mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Unable to Load Employees"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:g}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx(ne,{variant:"outline",onClick:e,children:"Cancel"}),s.jsx(ne,{onClick:()=>{p(null),m(!0),(async()=>{try{const D=await ZC();f(D),p(null)}catch(D){D instanceof Error&&D.message.includes("JWT token")?p("Authentication required. Please obtain a JWT token and visit /id/{your-jwt-token} to authenticate."):p("Failed to load employee data. Please try again or contact your administrator."),f([])}finally{m(!1)}})()},children:"Retry"})]})]})})}):s.jsxs("div",{className:"w-full flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b bg-white",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pt,{placeholder:"Search employees...",value:a,onChange:T=>i(T.target.value),className:"flex-1"}),s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(iv,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),s.jsx("div",{className:"flex-1 overflow-auto min-h-[250px] max-h-[350px]",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 text-left",children:s.jsx("input",{type:"checkbox",checked:o.length===b.length&&b.length>0,onChange:S,className:"rounded border-gray-300"})}),s.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-700",children:"Employee ID"}),s.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-700",children:"Name"}),s.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-700",children:"Email"}),s.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-700",children:"Designation"}),s.jsx("th",{className:"p-4 text-left text-sm font-medium text-gray-700",children:"Department"})]})}),s.jsx("tbody",{children:v.map(T=>s.jsxs("tr",{className:`border-b hover:bg-gray-50 transition-colors ${E(T)?"bg-blue-50":""}`,children:[s.jsx("td",{className:"p-4",children:s.jsx("input",{type:"checkbox",checked:E(T),onChange:()=>j(T),className:"rounded border-gray-300"})}),s.jsx("td",{className:"p-4 text-sm text-gray-900 font-medium",children:T.employee_number}),s.jsx("td",{className:"p-4 text-sm text-gray-900 font-medium",children:T.user_name}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:T.email}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:T.designation}),s.jsx("td",{className:"p-4 text-sm text-gray-600",children:T.workerType})]},T.user_id))})]})}),s.jsxs("div",{className:"p-3 border-t bg-gray-50 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:["Showing ",w+1,"-",Math.min(w+y,b.length)," of"," ",b.length," employees"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>u(T=>Math.max(1,T-1)),disabled:c===1,children:s.jsx(Hf,{className:"h-3 w-3"})}),s.jsxs("span",{className:"text-xs px-2",children:[c,"/",x]}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>u(T=>Math.min(x,T+1)),disabled:c===x,children:s.jsx(No,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"p-4 border-t bg-white flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:[o.length," employee",o.length!==1?"s":""," selected"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ne,{variant:"outline",onClick:e,children:"Cancel"}),s.jsxs(ne,{onClick:_,disabled:o.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:["Assign Selected (",o.length,")"]})]})]})]})}let vc=[];const IZ=sa({earnDays:er().min(0,"Earn days must be at least 0"),daysWorked:er().min(0,"Days worked must be at least 0")}),eD=sa({fromDay:er().min(1).max(31),toDay:er().min(1).max(31),earnDays:er().min(0)}),RZ=sa({leaveVariantName:rr().min(1,"Leave variant name is required"),description:rr().min(1,"Description is required"),minimumLeaveUnit:is(Dn(["full_day","half_day"])).min(1,"At least one leave unit must be selected"),leavesGrantedOn:Dn(["calendar_days","compliance"]),paidDaysInYear:er().min(1,"Paid days in a year is required"),complianceGrantDays:er().optional(),complianceForEveryDays:er().optional(),grantLeaves:Dn(["in_advance","after_earning"]),grantFrequency:Dn(["per_month","per_quarter","per_year"]),proRataCalculation:Dn(["full_month","slab_system","rounding_off"]),slabs:is(IZ).optional(),onboardingSlabs:is(eD).optional(),exitSlabs:is(eD).optional(),fractionalLeaves:Dn(["rounded_up","rounded_down","normal_rounding"]).default("normal_rounding"),applicableGenders:is(Dn(["male","female"])).min(1,"At least one gender must be selected"),applicableAfter:er().min(0),applicableAfterType:Dn(["days","probation_end","date_of_joining"]).default("days"),mustBePlannedInAdvance:er().min(0),maxDaysInStretch:er().min(0),minDaysRequired:er().min(0),maxInstances:er().min(0),maxInstancesPeriod:Dn(["month","quarter","year"]),allowLeavesBeforeWeekend:cr(),allowLeavesAfterWeekend:cr(),allowLeavesBeforeHoliday:cr(),allowLeavesAfterHoliday:cr(),allowClubbing:cr(),supportingDocuments:cr(),supportingDocumentsText:rr().optional(),allowDuringNotice:cr(),requiresWorkflow:cr(),leaveBalanceDeduction:Dn(["before_workflow","after_workflow"]),gracePeriod:er().min(0),allowWithdrawalBeforeApproval:cr(),allowWithdrawalAfterApproval:cr(),allowWithdrawalNotAllowed:cr(),negativeLeaveBalance:er().min(0),carryForwardLimit:er().min(0),carryForwardPeriod:Dn(["month","quarter","year"]),encashment:cr(),encashmentCalculation:Dn(["basic_da","ctc","gross_salary"]).optional(),maxEncashmentDays:er().min(-1).optional(),encashmentTiming:Dn(["exit_retirement","annually"]).optional(),allowApplicationsOnBehalf:cr(),showAvailedLeaves:cr(),showBalanceLeaves:cr(),maximumBalance:er().min(0)}).refine(e=>e.encashment?e.encashmentCalculation&&e.maxEncashmentDays!==void 0&&e.maxEncashmentDays!==null:!0,{message:"Calculate encashment using and Max days are required when encashment is enabled",path:["encashmentCalculation"]}).refine(e=>{if(e.proRataCalculation==="slab_system"&&e.slabs&&e.grantFrequency){let t;switch(e.grantFrequency){case"per_month":t=e.paidDaysInYear/12;break;case"per_quarter":t=e.paidDaysInYear/4;break;case"per_year":t=e.paidDaysInYear;break;default:t=e.paidDaysInYear/12}if(e.slabs.reduce((n,a)=>n+a.earnDays,0)>t)return!1}return!0},{message:"Total earned days in slabs cannot exceed allocation based on selected grant frequency",path:["slabs"]}).refine(e=>{const t=e.mustBePlannedInAdvance>0,r=e.gracePeriod>0;return!(t&&r)},{message:"Leave application advance planning and grace period are mutually exclusive - only one can be enabled",path:["mustBePlannedInAdvance"]});function C2({variant:e,leaveType:t,onClose:r}){var b,x,w;const{toast:n}=qr(),[a,i]=N.useState(!1),[o,l]=N.useState([]),c=N.useRef([]),{data:u=[]}=Fe({queryKey:[`/api/employee-assignments/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),[d,f]=N.useState([]);N.useEffect(()=>{(async()=>{try{const S=(await ji()).map(Xf);f(S)}catch(j){console.error("Error loading employees:",j)}})()},[]),N.useEffect(()=>{if(console.log("Loading assigned employees - variant ID:",e==null?void 0:e.id),console.log("Existing assignments:",u),console.log("All employees from external API:",d.length,"employees"),e!=null&&e.id&&Array.isArray(u)&&u.length>0){const v=u.map(S=>S.userId);console.log("Assigned user IDs from database:",v);const j=d.filter(S=>{const _=S.user_id||S.id,E=v.includes(_);return E&&console.log("Found assigned employee:",S.user_name,"with ID:",_),E});console.log("Matched assigned employees:",j.length),l(j),c.current=j}else e!=null&&e.id?(console.log("No assignments found - clearing assigned employees"),l([]),c.current=[]):(console.log("New variant - using pending assignments:",vc.length),l(vc),c.current=vc)},[u,e==null?void 0:e.id,d]);const h=v=>{var j;v==="slab_system"?((!m.getValues("slabs")||((j=m.getValues("slabs"))==null?void 0:j.length)===0)&&m.setValue("slabs",[{earnDays:0,daysWorked:0}]),m.setValue("fractionalLeaves","normal_rounding")):v==="rounding_off"?(m.setValue("slabs",[]),m.getValues("fractionalLeaves")||m.setValue("fractionalLeaves","normal_rounding")):(m.setValue("slabs",[]),m.setValue("fractionalLeaves","normal_rounding"))},m=us({resolver:Is(RZ),defaultValues:{leaveVariantName:(e==null?void 0:e.leaveVariantName)||"",description:(e==null?void 0:e.description)||"",minimumLeaveUnit:e!=null&&e.minimumLeaveUnit?Array.isArray(e.minimumLeaveUnit)?e.minimumLeaveUnit:typeof e.minimumLeaveUnit=="string"?e.minimumLeaveUnit.replace(/^\{/,"").replace(/\}$/,"").replace(/"/g,"").split(",").map(v=>v.trim()).filter(v=>v):["full_day"]:["full_day"],leavesGrantedOn:(e==null?void 0:e.leavesGrantedOn)||"calendar_days",paidDaysInYear:(e==null?void 0:e.paidDaysInYear)||12,complianceGrantDays:(e==null?void 0:e.complianceGrantDays)||1,complianceForEveryDays:(e==null?void 0:e.complianceForEveryDays)||20,grantLeaves:(e==null?void 0:e.grantLeaves)||"in_advance",grantFrequency:(e==null?void 0:e.grantFrequency)||"per_month",proRataCalculation:(e==null?void 0:e.proRataCalculation)||"full_month",slabs:(e==null?void 0:e.slabs)||[],onboardingSlabs:(()=>{const j=((e==null?void 0:e.onboardingSlabs)||[{fromDay:1,toDay:31,earnDays:0}]).filter((S,_,E)=>E.findIndex(T=>T.fromDay===S.fromDay&&T.toDay===S.toDay)===_);return j.length>0?j:[{fromDay:1,toDay:31,earnDays:0}]})(),exitSlabs:(()=>{const j=((e==null?void 0:e.exitSlabs)||[{fromDay:1,toDay:31,earnDays:0}]).filter((S,_,E)=>E.findIndex(T=>T.fromDay===S.fromDay&&T.toDay===S.toDay)===_);return j.length>0?j:[{fromDay:1,toDay:31,earnDays:0}]})(),fractionalLeaves:(e==null?void 0:e.fractionalLeaves)||"normal_rounding",applicableGenders:(e==null?void 0:e.applicableGenders)||["male","female"],applicableAfter:(e==null?void 0:e.applicableAfter)||0,applicableAfterType:(e==null?void 0:e.applicableAfterType)||"days",mustBePlannedInAdvance:(e==null?void 0:e.mustBePlannedInAdvance)||0,maxDaysInStretch:(e==null?void 0:e.maxDaysInStretch)||0,minDaysRequired:(e==null?void 0:e.minDaysRequired)||0,maxInstances:(e==null?void 0:e.maxInstances)||0,maxInstancesPeriod:(e==null?void 0:e.maxInstancesPeriod)||"month",allowLeavesBeforeWeekend:(e==null?void 0:e.allowLeavesBeforeWeekend)??!0,allowLeavesAfterWeekend:(e==null?void 0:e.allowLeavesAfterWeekend)??!0,allowLeavesBeforeHoliday:(e==null?void 0:e.allowLeavesBeforeHoliday)??!0,allowLeavesAfterHoliday:(e==null?void 0:e.allowLeavesAfterHoliday)??!0,allowClubbing:(e==null?void 0:e.allowClubbing)??!0,supportingDocuments:(e==null?void 0:e.supportingDocuments)||!1,supportingDocumentsText:(e==null?void 0:e.supportingDocumentsText)||"",allowDuringNotice:(e==null?void 0:e.allowDuringNotice)??!0,requiresWorkflow:(e==null?void 0:e.requiresWorkflow)??!0,leaveBalanceDeduction:e!=null&&e.leaveBalanceDeductionBefore?"before_workflow":e!=null&&e.leaveBalanceDeductionAfter?"after_workflow":"before_workflow",gracePeriod:(e==null?void 0:e.gracePeriod)||0,allowWithdrawalBeforeApproval:(e==null?void 0:e.allowWithdrawalBeforeApproval)??!0,allowWithdrawalAfterApproval:(e==null?void 0:e.allowWithdrawalAfterApproval)||!1,allowWithdrawalNotAllowed:(e==null?void 0:e.allowWithdrawalNotAllowed)||!1,negativeLeaveBalance:(e==null?void 0:e.negativeLeaveBalance)||0,carryForwardLimit:(e==null?void 0:e.carryForwardLimit)||0,carryForwardPeriod:(e==null?void 0:e.carryForwardPeriod)||"month",encashment:(e==null?void 0:e.encashment)||!1,encashmentCalculation:(e==null?void 0:e.encashmentCalculation)||"basic_da",maxEncashmentDays:(e==null?void 0:e.maxEncashmentDays)===1e3?-1:(e==null?void 0:e.maxEncashmentDays)||0,encashmentTiming:(e==null?void 0:e.encashmentTiming)||"exit_retirement",allowApplicationsOnBehalf:(e==null?void 0:e.allowApplicationsOnBehalf)??!0,showAvailedLeaves:(e==null?void 0:e.showAvailedLeaves)??!1,showBalanceLeaves:(e==null?void 0:e.showBalanceLeaves)??!1,maximumBalance:(e==null?void 0:e.maximumBalance)||0}}),g=Bt({mutationFn:async v=>{console.log("=== MUTATION FUNCTION STARTED ==="),console.log("Mutation data received:",v),console.log("variant?.id:",e==null?void 0:e.id),console.log("Is this an update?",!!(e!=null&&e.id));let j=(e==null?void 0:e.leaveTypeId)||t.id;if(!j){const D=(await(await fetch("/api/leave-types",{headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"},credentials:"include"})).json()).find(O=>O.name===t.name);D?j=D.id:j=(await(await Tt("POST","/api/leave-types",{name:t.name,icon:t.icon,color:t.color,annualAllowance:12,carryForward:!1,isActive:!0})).json()).id}const S={leaveTypeId:j,leaveTypeName:t.name,leaveVariantName:v.leaveVariantName,description:v.description,minimumLeaveUnit:v.minimumLeaveUnit,leavesGrantedOn:v.leavesGrantedOn,paidDaysInYear:v.paidDaysInYear,complianceGrantDays:v.complianceGrantDays,complianceForEveryDays:v.complianceForEveryDays,grantLeaves:v.grantLeaves,grantFrequency:v.grantFrequency,proRataCalculation:v.proRataCalculation,onboardingSlabs:v.onboardingSlabs,exitSlabs:v.exitSlabs,fractionalLeaves:v.fractionalLeaves,applicableGenders:v.applicableGenders,applicableAfter:v.applicableAfter,applicableAfterType:v.applicableAfterType,mustBePlannedInAdvance:v.mustBePlannedInAdvance,maxDaysInStretch:v.maxDaysInStretch,minDaysRequired:v.minDaysRequired,maxInstances:v.maxInstances,maxInstancesPeriod:v.maxInstancesPeriod,allowLeavesBeforeWeekend:v.allowLeavesBeforeWeekend,allowLeavesBeforeHoliday:v.allowLeavesBeforeHoliday,allowClubbing:v.allowClubbing,supportingDocuments:v.supportingDocuments,supportingDocumentsText:v.supportingDocumentsText,allowDuringNotice:v.allowDuringNotice,requiresWorkflow:v.requiresWorkflow,leaveBalanceDeductionBefore:v.leaveBalanceDeduction==="before_workflow",leaveBalanceDeductionAfter:v.leaveBalanceDeduction==="after_workflow",leaveBalanceDeductionNotAllowed:!1,gracePeriod:v.gracePeriod,allowWithdrawalBeforeApproval:v.allowWithdrawalBeforeApproval,allowWithdrawalAfterApproval:v.allowWithdrawalAfterApproval,allowWithdrawalNotAllowed:v.allowWithdrawalNotAllowed,negativeLeaveBalance:v.negativeLeaveBalance,carryForwardLimit:v.carryForwardLimit,carryForwardPeriod:v.carryForwardPeriod,encashment:v.encashment,encashmentCalculation:v.encashmentCalculation,maxEncashmentDays:v.maxEncashmentDays===-1?1e3:v.maxEncashmentDays,encashmentTiming:v.encashmentTiming,allowApplicationsOnBehalf:v.allowApplicationsOnBehalf,showAvailedLeaves:v.showAvailedLeaves,showBalanceLeaves:v.showBalanceLeaves,maximumBalance:v.maximumBalance};console.log("About to make API request..."),console.log("Request type:",e!=null&&e.id?"PATCH":"POST"),console.log("URL:",e!=null&&e.id?`/api/leave-variants/${e.id}`:"/api/leave-variants"),console.log("Variant data being sent:",JSON.stringify(S,null,2));const _=e!=null&&e.id?await Tt("PATCH",`/api/leave-variants/${e.id}`,S):await Tt("POST","/api/leave-variants",S);if(console.log("API request completed successfully"),console.log("Response:",_),e!=null&&e.id)return await _.json();{const E=await _.json(),T=E.id,D=vc.length>0?vc:c.current;if(D.length>0&&T){const O=D.map(A=>({userId:A.user_id||A.id||A.userId,leaveVariantId:T,assignmentType:"leave_variant"})).filter(A=>A.userId);try{await Tt("POST","/api/employee-assignments/bulk",{assignments:O}),vc=[]}catch(A){throw console.error("Failed to create employee assignments:",A),A}}return E}},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-types"]}),qe.invalidateQueries({queryKey:["/api/leave-variants"]}),qe.invalidateQueries({queryKey:["/api/employee-assignments"]}),n({title:"Success",description:`${t.name} variant has been ${e!=null&&e.id?"updated":"created"} successfully.`}),r()},onError:v=>{console.error("Leave config error:",v),n({title:"Error",description:"Failed to configure leave type. Please try again.",variant:"destructive"})}}),p=Bt({mutationFn:async()=>{if(!(e!=null&&e.id))throw new Error("No variant to delete");return await Tt("DELETE",`/api/leave-variants/${e.id}`)},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-types"]}),qe.invalidateQueries({queryKey:["/api/leave-variants"]}),n({title:"Success",description:`${t.name} variant has been deleted successfully.`}),r()},onError:v=>{console.error("Delete variant error:",v),n({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),y=v=>{if(!v.leaveVariantName||v.leaveVariantName.trim()===""){n({title:"Validation Error",description:"Leave Variant Name is required.",variant:"destructive"});return}if(!v.description||v.description.trim()===""){n({title:"Validation Error",description:"Description is required.",variant:"destructive"});return}if(v.supportingDocuments&&(!v.supportingDocumentsText||v.supportingDocumentsText.trim()==="")){n({title:"Validation Error",description:"Supporting documents text is required when supporting documents are enabled.",variant:"destructive"});return}if(Object.keys(m.formState.errors).length>0){console.log("=== FORM VALIDATION ERRORS DETECTED ==="),Object.entries(m.formState.errors).forEach(([j,S])=>{console.log(`Field "${j}" error:`,S)}),console.log("=== END FORM VALIDATION ERRORS ===");return}if(e!=null&&e.id){console.log("BYPASS: This is an update operation, proceeding directly to mutation"),console.log("About to call mutation.mutate with data:",JSON.stringify(v,null,2)),g.mutate(v);return}if(v.proRataCalculation==="slab_system"){const j=v.onboardingSlabs&&v.onboardingSlabs.length>0,S=v.exitSlabs&&v.exitSlabs.length>0;if(!j&&!S){n({title:"Validation Error",description:"Please add at least one slab in either Onboarding or Exits tab when using Slab System.",variant:"destructive"});return}const _=v.leavesGrantedOn==="calendar_days"?31:30;if(j)for(let E=0;E<v.onboardingSlabs.length;E++){const T=v.onboardingSlabs[E];if(!T.fromDay||!T.toDay||T.earnDays===void 0||T.earnDays===null){n({title:"Validation Error",description:`Onboarding Slab ${E+1}: All fields (From Day, To Day, Earn Days) must be filled.`,variant:"destructive"});return}if(T.earnDays<0){n({title:"Validation Error",description:`Onboarding Slab ${E+1}: Earn days cannot be negative.`,variant:"destructive"});return}if(T.fromDay<1||T.fromDay>_){n({title:"Validation Error",description:`Onboarding Slab ${E+1}: From Day must be between 1 and ${_} (based on ${v.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(T.toDay<1||T.toDay>_){n({title:"Validation Error",description:`Onboarding Slab ${E+1}: To Day must be between 1 and ${_} (based on ${v.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(T.fromDay>T.toDay){n({title:"Validation Error",description:`Onboarding Slab ${E+1}: From Day cannot be greater than To Day.`,variant:"destructive"});return}}if(S)for(let E=0;E<v.exitSlabs.length;E++){const T=v.exitSlabs[E];if(!T.fromDay||!T.toDay||T.earnDays===void 0||T.earnDays===null){n({title:"Validation Error",description:`Exit Slab ${E+1}: All fields (From Day, To Day, Earn Days) must be filled.`,variant:"destructive"});return}if(T.earnDays<0){n({title:"Validation Error",description:`Exit Slab ${E+1}: Earn days cannot be negative.`,variant:"destructive"});return}if(T.fromDay<1||T.fromDay>_){n({title:"Validation Error",description:`Exit Slab ${E+1}: From Day must be between 1 and ${_} (based on ${v.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(T.toDay<1||T.toDay>_){n({title:"Validation Error",description:`Exit Slab ${E+1}: To Day must be between 1 and ${_} (based on ${v.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(T.fromDay>T.toDay){n({title:"Validation Error",description:`Exit Slab ${E+1}: From Day cannot be greater than To Day.`,variant:"destructive"});return}}if(v.paidDaysInYear&&v.grantFrequency){let E=0;switch(v.grantFrequency){case"per_month":E=v.paidDaysInYear/12;break;case"per_quarter":E=v.paidDaysInYear/4;break;case"per_half_year":E=v.paidDaysInYear/2;break;case"per_year":E=v.paidDaysInYear;break;default:E=v.paidDaysInYear}if(j)for(let T=0;T<v.onboardingSlabs.length;T++){const D=v.onboardingSlabs[T];if(D.earnDays&&D.earnDays>E){n({title:"Validation Error",description:`Onboarding Slab ${T+1}: Cannot earn ${D.earnDays} days. Maximum allowed per ${v.grantFrequency.replace("per_","")} is ${E.toFixed(2)} days (${v.paidDaysInYear} days ÷ ${v.grantFrequency==="per_month"?"12":v.grantFrequency==="per_quarter"?"4":v.grantFrequency==="per_half_year"?"2":"1"}).`,variant:"destructive"});return}}if(S)for(let T=0;T<v.exitSlabs.length;T++){const D=v.exitSlabs[T];if(D.earnDays&&D.earnDays>E){n({title:"Validation Error",description:`Exit Slab ${T+1}: Cannot earn ${D.earnDays} days. Maximum allowed per ${v.grantFrequency.replace("per_","")} is ${E.toFixed(2)} days (${v.paidDaysInYear} days ÷ ${v.grantFrequency==="per_month"?"12":v.grantFrequency==="per_quarter"?"4":v.grantFrequency==="per_half_year"?"2":"1"}).`,variant:"destructive"});return}}}if(j&&v.onboardingSlabs.length>1)for(let E=0;E<v.onboardingSlabs.length;E++){const T=v.onboardingSlabs[E];for(let D=E+1;D<v.onboardingSlabs.length;D++){const O=v.onboardingSlabs[D];if(T.fromDay&&T.toDay&&O.fromDay&&O.toDay&&T.fromDay<=O.toDay&&T.toDay>=O.fromDay){n({title:"Validation Error",description:`Onboarding Slabs ${E+1} and ${D+1} have overlapping date ranges (${T.fromDay}-${T.toDay} overlaps with ${O.fromDay}-${O.toDay}). Each day can only belong to one slab.`,variant:"destructive"});return}}}if(S&&v.exitSlabs.length>1)for(let E=0;E<v.exitSlabs.length;E++){const T=v.exitSlabs[E];for(let D=E+1;D<v.exitSlabs.length;D++){const O=v.exitSlabs[D];if(T.fromDay&&T.toDay&&O.fromDay&&O.toDay&&T.fromDay<=O.toDay&&T.toDay>=O.fromDay){n({title:"Validation Error",description:`Exit Slabs ${E+1} and ${D+1} have overlapping date ranges (${T.fromDay}-${T.toDay} overlaps with ${O.fromDay}-${O.toDay}). Each day can only belong to one slab.`,variant:"destructive"});return}}}if(j&&v.onboardingSlabs.length>0){const E=new Set;for(const D of v.onboardingSlabs)if(D.fromDay&&D.toDay)for(let O=D.fromDay;O<=D.toDay;O++)E.add(O);const T=[];for(let D=1;D<=31;D++)E.has(D)||T.push(D);if(T.length>0){n({title:"Validation Error",description:`Onboarding slabs must cover all days of the month (1st-31st). Missing coverage for days: ${T.join(", ")}. Please adjust your slab ranges to ensure complete month coverage.`,variant:"destructive"});return}}if(S&&v.exitSlabs.length>0){const E=new Set;for(const D of v.exitSlabs)if(D.fromDay&&D.toDay)for(let O=D.fromDay;O<=D.toDay;O++)E.add(O);const T=[];for(let D=1;D<=31;D++)E.has(D)||T.push(D);if(T.length>0){n({title:"Validation Error",description:`Exit slabs must cover all days of the month (1st-31st). Missing coverage for days: ${T.join(", ")}. Please adjust your slab ranges to ensure complete month coverage.`,variant:"destructive"});return}}}if(v.encashment){if(!v.encashmentCalculation){n({title:"Validation Error",description:"Please select how to calculate en-cashment.",variant:"destructive"});return}if(v.maxEncashmentDays===void 0||v.maxEncashmentDays===null||v.maxEncashmentDays<=0&&v.maxEncashmentDays!==-1){n({title:"Validation Error",description:"Please enter maximum days that can be en-cashed.",variant:"destructive"});return}}console.log("All validations passed, calling mutation.mutate"),g.mutate(v)};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center p-6 border-b",children:[s.jsx(ne,{variant:"ghost",size:"sm",onClick:r,className:"mr-4",children:s.jsx(av,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${t.color}20`},children:s.jsx(qp,{className:"w-4 h-4",style:{color:t.color}})}),s.jsx("h2",{className:"text-xl font-semibold",children:t.name})]})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-180px)]",children:s.jsx(li,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(y),className:"p-8 space-y-8 pb-12",children:[s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Minimum leave unit *"})}),s.jsx(De,{children:s.jsx(Qe,{control:m.control,name:"minimumLeaveUnit",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx("div",{className:"flex space-x-4",children:[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"}].map(j=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:Array.isArray(v.value)?v.value.includes(j.value):v.value===j.value,onCheckedChange:S=>{if(S){const _=Array.isArray(v.value)?v.value:[v.value].filter(Boolean);v.onChange([..._,j.value])}else{const _=Array.isArray(v.value)?v.value:[v.value].filter(Boolean);v.onChange(_.filter(E=>E!==j.value))}}}),s.jsx("span",{children:j.label})]},j.value))}),s.jsx(yt,{})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Qe,{control:m.control,name:"leaveVariantName",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Leave Variant Name *"}),s.jsx(at,{children:s.jsx(pt,{placeholder:"eg. For Factory Employees in Karnataka",...v})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Create tailored leave policies for specific groups of employees using variants"}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:m.control,name:"description",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Description *"}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"eg. It's essential to rest and recover when you are sick. Use your sick leaves accordingly.",className:"min-h-24",...v})}),s.jsx(yt,{})]})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Leave granting"})}),s.jsxs(De,{className:"space-y-6",children:[s.jsx(Qe,{control:m.control,name:"leavesGrantedOn",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Leaves will be granted based on"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{type:"button",variant:v.value==="calendar_days"?"default":"outline",onClick:()=>v.onChange("calendar_days"),className:v.value==="calendar_days"?"bg-green-600":"",children:"Calendar Days"}),s.jsx(ne,{type:"button",variant:v.value==="compliance"?"default":"outline",onClick:()=>v.onChange("compliance"),className:v.value==="compliance"?"bg-green-600":"",children:"Compliance"})]}),s.jsx(yt,{})]})}),m.watch("leavesGrantedOn")==="compliance"&&s.jsx("div",{className:"space-y-4 p-4 bg-green-50 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Qe,{control:m.control,name:"complianceGrantDays",render:({field:v})=>s.jsxs(Ke,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mt,{className:"text-gray-600",children:"Grants"}),s.jsx(at,{children:s.jsx(pt,{type:"number",step:"0.1",min:"0",...v,onChange:j=>{const S=parseFloat(j.target.value)||0;v.onChange(S>=0?S:0)},className:"w-20"})}),s.jsx("span",{className:"text-gray-600",children:"(days)"})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:m.control,name:"complianceForEveryDays",render:({field:v})=>s.jsxs(Ke,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mt,{className:"text-gray-600",children:"For every"}),s.jsx(at,{children:s.jsx(pt,{type:"number",min:"0",...v,onChange:j=>{const S=parseInt(j.target.value)||0;v.onChange(S>=0?S:0)},className:"w-20"})}),s.jsx("span",{className:"text-gray-600",children:"(days) Worked"})]}),s.jsx(yt,{})]})})]})}),m.watch("leavesGrantedOn")!=="compliance"&&s.jsxs(s.Fragment,{children:[s.jsx(Qe,{control:m.control,name:"paidDaysInYear",render:({field:v})=>{const S=(m.watch("minimumLeaveUnit")||[]).includes("half_day");return s.jsxs(Ke,{children:[s.jsx(mt,{children:"Paid days in a year *"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",step:S?"0.5":"1",min:"0",...v,onChange:_=>{let E=parseFloat(_.target.value)||0;S||(E=Math.round(E)),v.onChange(E)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]})}),!S&&s.jsx("p",{className:"text-xs text-gray-500",children:'Only whole numbers allowed. Select "Half Day" in minimum leave unit to allow decimal values.'}),s.jsx(yt,{})]})}}),s.jsx(Qe,{control:m.control,name:"grantLeaves",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Grant Leaves"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{type:"button",variant:v.value==="in_advance"?"default":"outline",onClick:()=>v.onChange("in_advance"),className:v.value==="in_advance"?"bg-green-600":"",children:"In Advance"}),s.jsx(ne,{type:"button",variant:v.value==="after_earning"?"default":"outline",onClick:()=>v.onChange("after_earning"),children:"After Earning"}),s.jsxs(Dt,{value:m.watch("grantFrequency"),onValueChange:j=>m.setValue("grantFrequency",j),children:[s.jsx(At,{className:"w-40",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"per_month",children:"Per Month"}),s.jsx(_e,{value:"per_quarter",children:"Per Quarter"}),s.jsx(_e,{value:"per_half_year",children:"Per Half Year"}),s.jsx(_e,{value:"per_year",children:"Per Year"})]})]})]}),s.jsx(yt,{})]})})]})]})]}),m.watch("leavesGrantedOn")!=="compliance"&&s.jsxs(Ee,{children:[s.jsxs(_t,{children:[s.jsx(Et,{children:"Pro-Rata Calculations"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Adjust how you would like the employees to earn the leaves. This ensures fair allocation of benefits, especially for new hires or employees leaving mid-year."})]}),s.jsxs(De,{children:[s.jsx(Qe,{control:m.control,name:"proRataCalculation",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"full_month",title:"Full Month",description:"Consider the entire month as worked for earned leaves, regardless of actual days worked."},{value:"slab_system",title:"Slab System",description:"Calculate pro-rata benefits by dividing the month into equal periods (e.g., 1st-10th, 11th-20th) and determining the number of days worked within each period."},{value:"rounding_off",title:"Rounding Off",description:"Round fractions of days worked to the nearest half or full day before calculating pro-rata benefits. This can be rounded up or down based on your organization's policy."}].map(j=>s.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-colors ${v.value===j.value?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{v.onChange(j.value),h(j.value)},children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:`w-4 h-4 rounded border-2 mt-1 flex items-center justify-center ${v.value===j.value?"bg-green-600 border-green-600":"border-gray-300"}`,children:v.value===j.value&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:j.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description})]})]})},j.value))}),s.jsx(yt,{})]})}),m.watch("proRataCalculation")==="slab_system"&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-medium mb-4",children:"Set Slabs *"}),((b=m.formState.errors)==null?void 0:b.slabs)&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Slab Configuration Error"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:m.formState.errors.slabs.message})]})]})}),s.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-2",children:"📅 Day-of-Month Based Slabs"}),s.jsx("p",{className:"text-xs",children:"Create slabs based on specific days of the month (1st-31st) that apply every year. For example, employees joining between the 1st-15th earn different amounts than those joining 16th-31st."})]})}),s.jsxs(T2,{defaultValue:"onboarding",className:"w-full",children:[s.jsxs(Iv,{className:"grid w-full grid-cols-2",children:[s.jsx(Ul,{value:"onboarding",children:"Onboarding"}),s.jsx(Ul,{value:"exits",children:"Exits"})]}),s.jsxs(Vl,{value:"onboarding",className:"space-y-4 mt-4",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Configure leave earning slabs for employees joining during the year"}),s.jsxs("div",{className:"space-y-4",children:[(x=m.watch("onboardingSlabs"))==null?void 0:x.map((v,j)=>{var S,_;return s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Onboarding Slab ",j+1]}),m.watch("onboardingSlabs").length>1&&s.jsx(ne,{type:"button",variant:"outline",size:"sm",className:"text-red-600",onClick:()=>{var T;const E=((T=m.getValues("onboardingSlabs"))==null?void 0:T.filter((D,O)=>O!==j))||[];m.setValue("onboardingSlabs",E)},children:"Remove"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"From (Day of Month) *"}),s.jsxs(Dt,{value:((S=v.fromDay)==null?void 0:S.toString())||"",onValueChange:E=>{const T=[...m.getValues("onboardingSlabs")||[]];T[j]={...T[j],fromDay:parseInt(E)},m.setValue("onboardingSlabs",T)},children:[s.jsx(At,{className:`w-20 ${v.fromDay?"":"border-red-300"}`,children:s.jsx(kt,{placeholder:"Day"})}),s.jsx(Ct,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(E,T)=>T+1).map(E=>s.jsxs(_e,{value:E.toString(),children:[E,E===1?"st":E===2?"nd":E===3?"rd":"th"]},E))})]}),!v.fromDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"To (Day of Month) *"}),s.jsxs(Dt,{value:((_=v.toDay)==null?void 0:_.toString())||"",onValueChange:E=>{const T=[...m.getValues("onboardingSlabs")||[]];T[j]={...T[j],toDay:parseInt(E)},m.setValue("onboardingSlabs",T)},children:[s.jsx(At,{className:`w-20 ${v.toDay?"":"border-red-300"}`,children:s.jsx(kt,{placeholder:"Day"})}),s.jsx(Ct,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(E,T)=>T+1).map(E=>s.jsxs(_e,{value:E.toString(),children:[E,E===1?"st":E===2?"nd":E===3?"rd":"th"]},E))})]}),!v.toDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Employee will earn *"}),s.jsx(pt,{type:"number",step:"0.1",min:"0",placeholder:"0",className:`w-20 ${v.earnDays===void 0||v.earnDays===null||v.earnDays<0?"border-red-300":""}`,value:v.earnDays||"",onChange:E=>{const T=[...m.getValues("onboardingSlabs")||[]],D=E.target.value===""?0:parseFloat(E.target.value);T[j]={...T[j],earnDays:D>=0?D:0},m.setValue("onboardingSlabs",T)}}),s.jsx("span",{className:"text-sm",children:"days"}),(v.earnDays===void 0||v.earnDays===null)&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]})]}),v.fromDay&&v.toDay&&v.fromDay>v.toDay&&s.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:"Error: From Day cannot be greater than To Day"}),m.watch("leavesGrantedOn")==="calendar_days"&&v.toDay&&v.toDay>31&&s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded",children:["Warning: Day ",v.toDay," may not exist in all months"]}),(()=>{const E=m.watch("paidDaysInYear"),T=m.watch("grantFrequency");if(E&&T&&v.earnDays){let D=0;switch(T){case"per_month":D=E/12;break;case"per_quarter":D=E/4;break;case"per_half_year":D=E/2;break;case"per_year":D=E;break;default:D=E}if(v.earnDays>D)return s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Cannot earn ",v.earnDays," days. Maximum allowed per ",T.replace("per_","")," is ",D.toFixed(2)," days (",E," ÷ ",T==="per_month"?"12":T==="per_quarter"?"4":T==="per_half_year"?"2":"1",")"]})}return null})(),(m.watch("onboardingSlabs")||[]).filter((D,O)=>O===j||!D.fromDay||!D.toDay||!v.fromDay||!v.toDay?!1:v.fromDay<=D.toDay&&v.toDay>=D.fromDay).length>0?s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Date range ",v.fromDay,"-",v.toDay," overlaps with another slab. Each day can only belong to one slab."]}):null]})]},j)}),(()=>{const v=m.watch("onboardingSlabs")||[];if(v.length>0){const j=new Set;for(const _ of v)if(_.fromDay&&_.toDay)for(let E=_.fromDay;E<=_.toDay;E++)j.add(E);const S=[];for(let _=1;_<=31;_++)j.has(_)||S.push(_);if(S.length>0)return s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[s.jsx("strong",{children:"Month Coverage Warning:"})," Missing coverage for days: ",S.join(", "),". All days from 1st-31st must be covered by slabs to handle employees joining on any day of the month."]})}return null})(),s.jsx(ne,{type:"button",variant:"outline",onClick:()=>{const v=m.getValues("onboardingSlabs")||[],j=new Set;v.forEach(E=>{if(E.fromDay&&E.toDay)for(let T=E.fromDay;T<=E.toDay;T++)j.add(T)});let S=1;for(;S<=31&&j.has(S);)S++;let _=Math.min(S+14,31);for(;_<=31&&j.has(_);)_++;S>31&&(S=1,_=1),m.setValue("onboardingSlabs",[...v,{fromDay:S,toDay:_,earnDays:0}])},children:"+ Add Onboarding Slab"})]})]}),s.jsxs(Vl,{value:"exits",className:"space-y-4 mt-4",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Configure leave earning slabs for employees exiting during the year"}),s.jsxs("div",{className:"space-y-4",children:[(w=m.watch("exitSlabs"))==null?void 0:w.map((v,j)=>{var S,_;return s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Exit Slab ",j+1]}),m.watch("exitSlabs").length>1&&s.jsx(ne,{type:"button",variant:"outline",size:"sm",className:"text-red-600",onClick:()=>{var T;const E=((T=m.getValues("exitSlabs"))==null?void 0:T.filter((D,O)=>O!==j))||[];m.setValue("exitSlabs",E)},children:"Remove"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"From (Day of Month) *"}),s.jsxs(Dt,{value:((S=v.fromDay)==null?void 0:S.toString())||"",onValueChange:E=>{const T=[...m.getValues("exitSlabs")||[]];T[j]={...T[j],fromDay:parseInt(E)},m.setValue("exitSlabs",T)},children:[s.jsx(At,{className:`w-20 ${v.fromDay?"":"border-red-300"}`,children:s.jsx(kt,{placeholder:"Day"})}),s.jsx(Ct,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(E,T)=>T+1).map(E=>s.jsxs(_e,{value:E.toString(),children:[E,E===1?"st":E===2?"nd":E===3?"rd":"th"]},E))})]}),!v.fromDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"To (Day of Month) *"}),s.jsxs(Dt,{value:((_=v.toDay)==null?void 0:_.toString())||"",onValueChange:E=>{const T=[...m.getValues("exitSlabs")||[]];T[j]={...T[j],toDay:parseInt(E)},m.setValue("exitSlabs",T)},children:[s.jsx(At,{className:`w-20 ${v.toDay?"":"border-red-300"}`,children:s.jsx(kt,{placeholder:"Day"})}),s.jsx(Ct,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(E,T)=>T+1).map(E=>s.jsxs(_e,{value:E.toString(),children:[E,E===1?"st":E===2?"nd":E===3?"rd":"th"]},E))})]}),!v.toDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Employee will earn *"}),s.jsx(pt,{type:"number",step:"0.1",min:"0",placeholder:"0",className:`w-20 ${v.earnDays===void 0||v.earnDays===null||v.earnDays<0?"border-red-300":""}`,value:v.earnDays||"",onChange:E=>{const T=[...m.getValues("exitSlabs")||[]],D=E.target.value===""?0:parseFloat(E.target.value);T[j]={...T[j],earnDays:D>=0?D:0},m.setValue("exitSlabs",T)}}),s.jsx("span",{className:"text-sm",children:"days"}),(v.earnDays===void 0||v.earnDays===null)&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]})]}),v.fromDay&&v.toDay&&v.fromDay>v.toDay&&s.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:"Error: From Day cannot be greater than To Day"}),m.watch("leavesGrantedOn")==="calendar_days"&&v.toDay&&v.toDay>31&&s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded",children:["Warning: Day ",v.toDay," may not exist in all months"]}),(()=>{const E=m.watch("paidDaysInYear"),T=m.watch("grantFrequency");if(E&&T&&v.earnDays){let D=0;switch(T){case"per_month":D=E/12;break;case"per_quarter":D=E/4;break;case"per_year":D=E;break;default:D=E}if(v.earnDays>D)return s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Cannot earn ",v.earnDays," days. Maximum allowed per ",T.replace("per_","")," is ",D.toFixed(2)," days (",E," ÷ ",T==="per_month"?"12":T==="per_quarter"?"4":"1",")"]})}return null})(),(m.watch("exitSlabs")||[]).filter((D,O)=>O===j||!D.fromDay||!D.toDay||!v.fromDay||!v.toDay?!1:v.fromDay<=D.toDay&&v.toDay>=D.fromDay).length>0?s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Date range ",v.fromDay,"-",v.toDay," overlaps with another slab. Each day can only belong to one slab."]}):null]})]},j)}),(()=>{const v=m.watch("exitSlabs")||[];if(v.length>0){const j=new Set;for(const _ of v)if(_.fromDay&&_.toDay)for(let E=_.fromDay;E<=_.toDay;E++)j.add(E);const S=[];for(let _=1;_<=31;_++)j.has(_)||S.push(_);if(S.length>0)return s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[s.jsx("strong",{children:"Month Coverage Warning:"})," Missing coverage for days: ",S.join(", "),". All days from 1st-31st must be covered by slabs to handle employees leaving on any day of the month."]})}return null})(),s.jsx(ne,{type:"button",variant:"outline",onClick:()=>{const v=m.getValues("exitSlabs")||[],j=new Set;v.forEach(E=>{if(E.fromDay&&E.toDay)for(let T=E.fromDay;T<=E.toDay;T++)j.add(T)});let S=1;for(;S<=31&&j.has(S);)S++;let _=Math.min(S+14,31);for(;_<=31&&j.has(_);)_++;S>31&&(S=1,_=1),m.setValue("exitSlabs",[...v,{fromDay:S,toDay:_,earnDays:0}])},children:"+ Add Exit Slab"})]})]})]})]}),m.watch("proRataCalculation")==="slab_system"&&!1,m.watch("proRataCalculation")==="rounding_off"&&s.jsx("div",{className:"mt-6",children:s.jsx(Qe,{control:m.control,name:"fractionalLeaves",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Fractional leaves will be *"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{type:"button",variant:v.value==="rounded_up"?"default":"outline",onClick:()=>v.onChange("rounded_up"),className:v.value==="rounded_up"?"bg-green-600":"",children:"Rounded Up"}),s.jsx(ne,{type:"button",variant:v.value==="rounded_down"?"default":"outline",onClick:()=>v.onChange("rounded_down"),className:v.value==="rounded_down"?"bg-green-600":"",children:"Rounded Down"}),s.jsx(ne,{type:"button",variant:v.value==="normal_rounding"?"default":"outline",onClick:()=>v.onChange("normal_rounding"),className:v.value==="normal_rounding"?"bg-green-600":"",children:"Normal Rounding"})]}),s.jsx(yt,{})]})})})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Eligibility Criteria"})}),s.jsxs(De,{className:"space-y-6",children:[s.jsx(Qe,{control:m.control,name:"applicableGenders",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Applicable for the genders *"}),s.jsx("div",{className:"flex space-x-4",children:["male","female"].map(j=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:v.value.includes(j),onCheckedChange:S=>{S?v.onChange([...v.value,j]):v.onChange(v.value.filter(_=>_!==j))}}),s.jsx("span",{className:"capitalize",children:j})]},j))}),s.jsx(yt,{})]})}),s.jsx("div",{className:"space-y-4",children:s.jsx(Qe,{control:m.control,name:"applicableAfterType",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Applicable after"}),s.jsx(at,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"probation_end",name:"applicableAfterType",value:"probation_end",checked:v.value==="probation_end",onChange:()=>{v.onChange("probation_end"),m.setValue("applicableAfter",0)},className:"w-4 h-4"}),s.jsx("label",{htmlFor:"probation_end",className:"text-sm font-medium",children:"Probation period ends"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"date_of_joining",name:"applicableAfterType",value:"date_of_joining",checked:v.value==="date_of_joining",onChange:()=>{v.onChange("date_of_joining"),m.setValue("applicableAfter",0)},className:"w-4 h-4"}),s.jsx("label",{htmlFor:"date_of_joining",className:"text-sm font-medium",children:"On date of joining"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"days",name:"applicableAfterType",value:"days",checked:v.value==="days",onChange:()=>v.onChange("days"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"days",className:"text-sm font-medium",children:"Specified number of days:"}),s.jsx(Qe,{control:m.control,name:"applicableAfter",render:({field:j})=>s.jsxs(Ke,{className:"flex-1",children:[s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",min:"0",...j,onChange:S=>{const _=Number(S.target.value);j.onChange(_>=0?_:0)},className:"w-24",disabled:m.watch("applicableAfterType")!=="days",placeholder:"0"}),s.jsxs("span",{className:"text-gray-500",children:["(days) from date of joining ",m.watch("applicableAfter")===0?"(immediate applicability)":""]})]})}),s.jsx(yt,{})]})})]})]})}),s.jsx(yt,{})]})})}),s.jsx(Qe,{control:m.control,name:"mustBePlannedInAdvance",render:({field:v})=>{const j=m.watch("gracePeriod")>0;return s.jsxs(Ke,{children:[s.jsx(mt,{children:"Must be planned in advance by"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",min:"0",...v,onChange:S=>{const _=Number(S.target.value);v.onChange(_>=0?_:0)},className:"w-24",disabled:j}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]})}),j&&s.jsx("p",{className:"text-xs text-orange-600",children:"Disabled because grace period is enabled. Only one can be active at a time."}),s.jsx(yt,{})]})}}),s.jsx(Qe,{control:m.control,name:"gracePeriod",render:({field:v})=>{const j=m.watch("mustBePlannedInAdvance")>0;return s.jsxs(Ke,{children:[s.jsx(mt,{children:"Grace period for applying *"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",min:"0",...v,onChange:S=>{const _=Number(S.target.value);v.onChange(_>=0?_:0)},className:"w-24",disabled:j}),s.jsx("span",{className:"text-gray-500",children:"(days) if left empty, there is no grace period"})]})}),j&&s.jsx("p",{className:"text-xs text-orange-600",children:"Disabled because advance planning is enabled. Only one can be active at a time."}),s.jsx(yt,{})]})}}),s.jsx(Qe,{control:m.control,name:"maxDaysInStretch",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Max days in a stretch"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",min:"0",...v,onChange:j=>{const S=Number(j.target.value);v.onChange(S>=0?S:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days) if the value is 0, it is understood that there is no limit."})]})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:m.control,name:"minDaysRequired",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Min days required for a leave"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",min:"0",...v,onChange:j=>{const S=Number(j.target.value);v.onChange(S>=0?S:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:m.control,name:"maxInstances",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Max instances"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",min:"0",...v,onChange:j=>{const S=Number(j.target.value);v.onChange(S>=0?S:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(applications) in a"}),s.jsxs(Dt,{value:m.watch("maxInstancesPeriod"),onValueChange:j=>m.setValue("maxInstancesPeriod",j),children:[s.jsx(At,{className:"w-32",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"month",children:"Month"}),s.jsx(_e,{value:"quarter",children:"Quarter"}),s.jsx(_e,{value:"year",children:"Year"})]})]}),s.jsx("span",{className:"text-gray-500",children:"if the value is 0, it is understood that there is no limit."})]})}),s.jsx(yt,{})]})}),[{name:"allowLeavesBeforeWeekend",label:"Leaves immediately before and after a weekend are"},{name:"allowLeavesBeforeHoliday",label:"Leaves immediately before and after a holiday are"},{name:"allowClubbing",label:"Clubbing with other leave types is"}].map(v=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:v.label}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",variant:m.watch(v.name)?"default":"outline",onClick:()=>m.setValue(v.name,!0),className:m.watch(v.name)?"bg-green-600":"",children:"Allowed"}),s.jsx(ne,{type:"button",size:"sm",variant:m.watch(v.name)?"outline":"default",onClick:()=>m.setValue(v.name,!1),className:m.watch(v.name)?"":"bg-red-600",children:"Not Allowed"})]})]},v.name)),s.jsx(Qe,{control:m.control,name:"supportingDocuments",render:({field:v})=>s.jsxs(Ke,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Supporting documents are"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",variant:v.value?"default":"outline",onClick:()=>v.onChange(!0),className:v.value?"bg-green-600":"",children:"Required"}),s.jsx(ne,{type:"button",size:"sm",variant:v.value?"outline":"default",onClick:()=>v.onChange(!1),className:v.value?"":"bg-red-600",children:"Not Required"})]})]}),v.value&&s.jsx(Qe,{control:m.control,name:"supportingDocumentsText",render:({field:j})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(Tn,{placeholder:"Enter the details of the documents to be added. This message will be displayed to your employees while uploading documents.",...j})})})}),s.jsx(yt,{})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"During notice period, leaves are"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",variant:m.watch("allowDuringNotice")?"default":"outline",onClick:()=>m.setValue("allowDuringNotice",!0),className:m.watch("allowDuringNotice")?"bg-green-600":"",children:"Allowed"}),s.jsx(ne,{type:"button",size:"sm",variant:m.watch("allowDuringNotice")?"outline":"default",onClick:()=>m.setValue("allowDuringNotice",!1),className:m.watch("allowDuringNotice")?"":"bg-red-600",children:"Not Allowed"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Does this require a review workflow for approval?"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",variant:m.watch("requiresWorkflow")?"default":"outline",onClick:()=>m.setValue("requiresWorkflow",!0),className:m.watch("requiresWorkflow")?"bg-green-600":"",children:"Workflow"}),s.jsx(ne,{type:"button",size:"sm",variant:m.watch("requiresWorkflow")?"outline":"default",onClick:()=>m.setValue("requiresWorkflow",!1),className:m.watch("requiresWorkflow")?"":"bg-red-600",children:"No Workflow"})]})]}),m.watch("requiresWorkflow")&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Leave balance is deducted"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",variant:m.watch("leaveBalanceDeduction")==="before_workflow"?"default":"outline",onClick:()=>m.setValue("leaveBalanceDeduction","before_workflow"),className:m.watch("leaveBalanceDeduction")==="before_workflow"?"bg-green-600":"",children:"Before the workflow"}),s.jsx(ne,{type:"button",size:"sm",variant:m.watch("leaveBalanceDeduction")==="after_workflow"?"default":"outline",onClick:()=>m.setValue("leaveBalanceDeduction","after_workflow"),className:m.watch("leaveBalanceDeduction")==="after_workflow"?"bg-green-600":"",children:"After the workflow"})]})]}),s.jsx(Qe,{control:m.control,name:"allowWithdrawalBeforeApproval",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Withdrawal of application is allowed *"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:v.value,onCheckedChange:j=>{v.onChange(j),j&&m.setValue("allowWithdrawalNotAllowed",!1)}}),s.jsx("span",{children:"Before approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:m.watch("allowWithdrawalAfterApproval"),onCheckedChange:j=>{m.setValue("allowWithdrawalAfterApproval",!!j),j&&m.setValue("allowWithdrawalNotAllowed",!1)}}),s.jsx("span",{children:"After approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:m.watch("allowWithdrawalNotAllowed"),onCheckedChange:j=>{m.setValue("allowWithdrawalNotAllowed",!!j),j&&(m.setValue("allowWithdrawalBeforeApproval",!1),m.setValue("allowWithdrawalAfterApproval",!1))}}),s.jsx("span",{children:"Not allowed"})]})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:m.control,name:"negativeLeaveBalance",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Negative leave balance"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",...v,onChange:j=>v.onChange(Number(j.target.value)),className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days) if the value is 0, it is understood that negative leave balance is not allowed."})]})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:m.control,name:"carryForwardLimit",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Carry forward"}),s.jsx(at,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",min:"0",...v,onChange:j=>{const S=Number(j.target.value);v.onChange(S>=0?S:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days) to the"}),s.jsxs(Dt,{value:m.watch("carryForwardPeriod"),onValueChange:j=>m.setValue("carryForwardPeriod",j),children:[s.jsx(At,{className:"w-32",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"month",children:"Next Month"}),s.jsx(_e,{value:"quarter",children:"Next Quarter"}),s.jsx(_e,{value:"year",children:"Next Year"})]})]}),s.jsx("span",{className:"text-gray-500",children:"if the value is 0, it is understood that carry forward is not allowed."})]})}),s.jsx(yt,{})]})})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Et,{children:"En-cashment"}),s.jsx(si,{checked:m.watch("encashment"),onCheckedChange:v=>m.setValue("encashment",v)})]})}),m.watch("encashment")&&s.jsxs(De,{className:"space-y-6",children:[s.jsx(Qe,{control:m.control,name:"encashmentCalculation",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Calculate en-cashment using *"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{type:"button",variant:v.value==="basic_da"?"default":"outline",onClick:()=>v.onChange("basic_da"),className:v.value==="basic_da"?"bg-green-600":"",children:"Basic / DA"}),s.jsx(ne,{type:"button",variant:v.value==="ctc"?"default":"outline",onClick:()=>v.onChange("ctc"),className:v.value==="ctc"?"bg-green-600":"",children:"CTC"}),s.jsx(ne,{type:"button",variant:v.value==="gross_salary"?"default":"outline",onClick:()=>v.onChange("gross_salary"),className:v.value==="gross_salary"?"bg-green-600":"",children:"Gross Salary"})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:m.control,name:"maxEncashmentDays",render:({field:v})=>{const j=v.value===-1;return s.jsxs(Ke,{children:[s.jsx(mt,{children:"Max. days that can be en-cashed *"}),s.jsx(at,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"encash-limit",name:"encashmentType",checked:!j,onChange:()=>v.onChange(0)}),s.jsx("label",{htmlFor:"encash-limit",className:"text-sm",children:"Set Limit"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"encash-no-limit",name:"encashmentType",checked:j,onChange:()=>v.onChange(-1)}),s.jsx("label",{htmlFor:"encash-no-limit",className:"text-sm",children:"No Limit"})]})]}),!j&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",value:v.value===-1?0:v.value,onChange:S=>{const _=Number(S.target.value);v.onChange(_>=0?_:0)},className:"w-32",placeholder:"0",min:"0"}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]}),j&&s.jsx("p",{className:"text-sm text-green-600",children:"No limit set - employees can encash any amount"})]})}),s.jsx(yt,{})]})}}),s.jsx(Qe,{control:m.control,name:"encashmentTiming",render:({field:v})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Leaves can be en-cashed at"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{type:"button",variant:v.value==="exit_retirement"?"default":"outline",onClick:()=>v.onChange("exit_retirement"),className:v.value==="exit_retirement"?"bg-green-600":"",children:"Exit/Retirement"}),s.jsx(ne,{type:"button",variant:v.value==="annually"?"default":"outline",onClick:()=>v.onChange("annually"),className:v.value==="annually"?"bg-green-600":"",children:"Annually"})]}),s.jsx(yt,{})]})})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Other Settings"})}),s.jsxs(De,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Allow applications on behalf of others"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",variant:m.watch("allowApplicationsOnBehalf")?"default":"outline",onClick:()=>m.setValue("allowApplicationsOnBehalf",!0),className:m.watch("allowApplicationsOnBehalf")?"bg-green-600 hover:bg-green-700 text-white":"",children:"Allowed"}),s.jsx(ne,{type:"button",size:"sm",variant:m.watch("allowApplicationsOnBehalf")?"outline":"default",onClick:()=>m.setValue("allowApplicationsOnBehalf",!1),className:m.watch("allowApplicationsOnBehalf")?"":"bg-gray-600 hover:bg-gray-700 text-white",children:"Not Allowed"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("span",{className:"text-sm font-medium",children:"Leave data to be shown in Payslips"}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:m.watch("showAvailedLeaves"),onCheckedChange:v=>m.setValue("showAvailedLeaves",!!v)}),s.jsx("span",{children:"Availed leaves"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:m.watch("showBalanceLeaves"),onCheckedChange:v=>m.setValue("showBalanceLeaves",!!v)}),s.jsx("span",{children:"Balance leaves"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Maximum balance"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pt,{type:"number",value:m.watch("maximumBalance"),onChange:v=>m.setValue("maximumBalance",Number(v.target.value)),className:"w-20 text-center",placeholder:"0"}),s.jsx("span",{className:"text-gray-500 text-sm",children:"(days) if the value is 0, it is understood that there is no limit."})]})]})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Et,{children:"Assign to Employees"}),s.jsxs(ne,{variant:"outline",type:"button",onClick:()=>i(!0),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Assign Employees"]})]})}),o.length>0&&s.jsx(De,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[o.length," employee",o.length>1?"s":""," assigned"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.slice(0,3).map((v,j)=>s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-blue-600",children:(v.name||v.user_name||`Employee ${v.user_id}`).charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-xs text-gray-700",children:v.name||v.user_name||`Employee ${v.user_id}`})]},v.user_id)),o.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",o.length-3," more"]})]})]})})]})]})})}),s.jsxs("div",{className:"flex justify-between p-8 mt-4 border-t bg-gray-50 sticky bottom-0",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{variant:"outline",onClick:r,type:"button",className:"px-6 py-3 min-h-[44px]",children:"Discard"}),(e==null?void 0:e.id)&&s.jsx(ne,{variant:"destructive",onClick:()=>p.mutate(),disabled:p.isPending,type:"button",className:"px-6 py-3 min-h-[44px]",children:p.isPending?"Deleting...":"Delete Variant"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(ne,{type:"button",disabled:g.isPending,className:"bg-green-600 hover:bg-green-700 px-8 py-3 min-h-[44px]",onClick:()=>{const v=m.getValues();y(v)},children:g.isPending?e!=null&&e.id?"Updating...":"Creating...":e!=null&&e.id?"Update Leave Variant":"Create Leave Variant"})})]})]}),a&&s.jsx(n0,{onClose:()=>i(!1),preSelectedEmployees:o,applicableGenders:m.watch("applicableGenders"),onAssign:async v=>{try{if(!(e!=null&&e.id)){vc=[...v],l(v),c.current=[...v],i(!1),n({title:"Success",description:`${v.length} employee${v.length>1?"s":""} will be assigned when variant is created.`});return}const j=v.map(S=>({userId:S.user_id,leaveVariantId:e.id,assignmentType:"leave_variant"}));await Tt("POST","/api/employee-assignments/bulk",{assignments:j}),l(v),qe.invalidateQueries({queryKey:[`/api/employee-assignments/${e.id}`]}),n({title:"Success",description:`${v.length} employee${v.length>1?"s":""} assigned successfully.`})}catch{n({title:"Error",description:"Failed to save employee assignments.",variant:"destructive"})}}})]})}const MZ=sa({name:rr().min(1,"Leave type name is required"),description:rr().optional(),icon:rr().min(1,"Icon is required"),color:rr().min(1,"Color is required"),isActive:cr().default(!0)}),Rw=[{value:"stethoscope",label:"Medical",icon:lv},{value:"smile",label:"General",icon:qp},{value:"umbrella",label:"Casual",icon:cv},{value:"baby",label:"Family",icon:sv},{value:"heart",label:"Personal",icon:ov},{value:"users",label:"Team",icon:Vn},{value:"user",label:"Individual",icon:nf},{value:"calendar",label:"Scheduled",icon:Pr},{value:"briefcase",label:"Professional",icon:sF},{value:"clock",label:"Time-off",icon:ea},{value:"star",label:"Special",icon:dF},{value:"gift",label:"Benefit",icon:cF}],tD=[{value:"#f59e0b",label:"Orange",color:"#f59e0b"},{value:"#3b82f6",label:"Blue",color:"#3b82f6"},{value:"#10b981",label:"Green",color:"#10b981"},{value:"#ec4899",label:"Pink",color:"#ec4899"},{value:"#8b5cf6",label:"Purple",color:"#8b5cf6"},{value:"#6366f1",label:"Indigo",color:"#6366f1"},{value:"#ef4444",label:"Red",color:"#ef4444"},{value:"#06b6d4",label:"Cyan",color:"#06b6d4"},{value:"#84cc16",label:"Lime",color:"#84cc16"},{value:"#f97316",label:"Orange-Red",color:"#f97316"}];function FZ({onClose:e}){const{toast:t}=qr(),[r,n]=N.useState(""),[a,i]=N.useState(""),{data:o}=Fe({queryKey:["/api/leave-types"]}),l=["Sick Leave","Earned Leave","Casual Leave","Maternity Leave","Paternity Leave","Marriage Leave","Study Leave","Religious Leave","Community Service","Bereavement Leave","Emergency Leave"],c=us({resolver:Is(MZ),defaultValues:{name:"",description:"",icon:"",color:"",isActive:!0}}),u=Bt({mutationFn:async h=>{const m=h.name.trim();if([...Array.isArray(o)?o.map(y=>y.name.toLowerCase()):[],...l.map(y=>y.toLowerCase())].includes(m.toLowerCase()))throw new Error(`A leave type with the name "${m}" already exists. Please choose a different name.`);return Tt("POST","/api/leave-types",{...h,name:m,annualAllowance:12,carryForward:!1})},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-types"]}),qe.invalidateQueries({queryKey:["/api/leave-variants"]}),qe.refetchQueries({queryKey:["/api/leave-types"]}),t({title:"Success",description:"Custom leave type created successfully."}),e()},onError:h=>{console.error("Create custom leave type error:",h);const m=h instanceof Error?h.message:"Failed to create custom leave type. Please try again.";t({title:"Error",description:m,variant:"destructive"})}}),d=h=>{u.mutate(h)},f=h=>{const m=Rw.find(g=>g.value===h);return(m==null?void 0:m.icon)||Pr};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(Ee,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[s.jsx(Et,{children:"Create Custom Leave Type"}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:e,children:s.jsx(cs,{className:"w-4 h-4"})})]}),s.jsx(De,{children:s.jsx(li,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:[s.jsx(Qe,{control:c.control,name:"name",render:({field:h})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Leave Type Name *"}),s.jsx(at,{children:s.jsx(pt,{placeholder:"Enter leave type name",...h})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:c.control,name:"description",render:({field:h})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Description"}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"Enter description (optional)",...h,rows:3})}),s.jsx(yt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Qe,{control:c.control,name:"icon",render:({field:h})=>{var m;return s.jsxs(Ke,{children:[s.jsx(mt,{children:"Icon *"}),s.jsxs(Dt,{onValueChange:g=>{h.onChange(g),n(g)},defaultValue:h.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select an icon",children:h.value&&s.jsxs("div",{className:"flex items-center",children:[(()=>{const g=f(h.value);return s.jsx(g,{className:"w-4 h-4 mr-2"})})(),(m=Rw.find(g=>g.value===h.value))==null?void 0:m.label]})})})}),s.jsx(Ct,{children:Rw.map(g=>{const p=g.icon;return s.jsx(_e,{value:g.value,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(p,{className:"w-4 h-4 mr-2"}),g.label]})},g.value)})})]}),s.jsx(yt,{})]})}}),s.jsx(Qe,{control:c.control,name:"color",render:({field:h})=>{var m;return s.jsxs(Ke,{children:[s.jsx(mt,{children:"Color *"}),s.jsxs(Dt,{onValueChange:g=>{h.onChange(g),i(g)},defaultValue:h.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select a color",children:h.value&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:h.value}}),(m=tD.find(g=>g.value===h.value))==null?void 0:m.label]})})})}),s.jsx(Ct,{children:tD.map(g=>s.jsx(_e,{value:g.value,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:g.color}}),g.label]})},g.value))})]}),s.jsx(yt,{})]})}})]}),r&&a&&s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Preview"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${a}20`},children:(()=>{const h=f(r);return s.jsx(h,{className:"w-5 h-5",style:{color:a}})})()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:c.watch("name")||"Leave Type Name"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Custom leave type"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:e,disabled:u.isPending,children:"Cancel"}),s.jsx(ne,{type:"submit",disabled:u.isPending,className:"bg-green-600 hover:bg-green-700",children:u.isPending?"Creating...":"Create Leave Type"})]})]})})})]})})}const LZ=e=>({heart:ov,smile:qp,umbrella:cv,baby:sv,users:Vn,user:nf,calendar:Pr,stethoscope:lv})[e]||Pr;function $Z({leaveType:e,onBack:t}){const[r,n]=N.useState(!1),[a,i]=N.useState(null),{toast:o}=qr(),{data:l=[],isLoading:c}=Fe({queryKey:["/api/leave-variants"]}),u=l.filter(g=>g.leaveTypeName===e.name),d=Bt({mutationFn:async g=>await Tt("DELETE",`/api/leave-variants/${g}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-variants"]}),o({title:"Success",description:"Variant deleted successfully."})},onError:g=>{console.error("Delete variant error:",g),o({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),f=()=>{i(null),n(!0)},h=g=>{i(g),n(!0)},m=g=>{confirm("Are you sure you want to delete this variant?")&&d.mutate(g)};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading..."})}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ne,{variant:"outline",onClick:t,className:"p-2",children:s.jsx(av,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${e.color}20`},children:(()=>{const g=LZ(e.icon);return s.jsx(g,{className:"w-6 h-6",style:{color:e.color}})})()}),s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e.name})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Variants"}),u.length===0?s.jsxs(Ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-gray-500 mb-4",children:"No variants created for this leave type"}),s.jsxs(ne,{onClick:f,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]}):s.jsxs("div",{className:"space-y-4",children:[u.map(g=>{var p;return s.jsx(Ee,{className:"border border-gray-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:g.leaveVariantName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[g.leavesGrantedOn==="compliance"?`${g.complianceGrantDays||1} day for every ${g.complianceForEveryDays||20} days worked`:`${g.paidDaysInYear} days`," · Applied to ",((p=g.applicableGenders)==null?void 0:p.join(", "))||"All"," Employees"]}),g.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>m(g.id),disabled:d.isPending,className:"text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Ta,{className:"w-4 h-4"}),"Delete"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>h(g),className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[s.jsx(Nu,{className:"w-4 h-4"}),"Edit"]})]})]})})},g.id)}),s.jsxs(ne,{variant:"outline",onClick:f,className:"w-full border-dashed border-2 h-16 text-green-600 border-green-300 hover:bg-green-50",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]})]}),r&&s.jsx(C2,{variant:a,leaveType:e,onClose:()=>{n(!1),i(null)}})]})}const rD=[{name:"Sick Leave",icon:"stethoscope",color:"#f59e0b",variants:"1 variants",isDefault:!0},{name:"Earned Leave",icon:"smile",color:"#3b82f6",variants:"",isDefault:!0},{name:"Casual Leave",icon:"umbrella",color:"#10b981",variants:"",isDefault:!0},{name:"Maternity Leave",icon:"baby",color:"#ec4899",variants:"",isDefault:!0},{name:"Paternity Leave",icon:"briefcase",color:"#8b5cf6",variants:"",isDefault:!0},{name:"Marriage Leave",icon:"heart",color:"#ef4444",variants:"",isDefault:!0},{name:"Study Leave",icon:"graduation-cap",color:"#06b6d4",variants:"",isDefault:!0},{name:"Religious Leave",icon:"church",color:"#f97316",variants:"",isDefault:!0},{name:"Community Service",icon:"users",color:"#84cc16",variants:"",isDefault:!0},{name:"Bereavement Leave",icon:"user-x",color:"#6b7280",variants:"",isDefault:!0}];function w6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const[a,i]=N.useState(null),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[h,m]=N.useState(!1),[g,p]=N.useState(null),[y,b]=N.useState({}),{toast:x}=qr(),w=oc(),{data:v,isLoading:j}=Fe({queryKey:["/api/leave-types"]}),{data:S,isLoading:_}=Fe({queryKey:["/api/leave-variants"]}),E=Bt({mutationFn:async()=>{const I=rD.map(P=>Tt("POST","/api/leave-types",{name:P.name,icon:P.icon,color:P.color,annualAllowance:12,carryForward:!1,isActive:!0}));await Promise.all(I)},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/leave-types"]}),x({title:"Success",description:"All leave types have been created successfully."}),e()},onError:I=>{console.error("Error creating leave types:",I),x({title:"Error",description:"Failed to create leave types. Please try again.",variant:"destructive"})}}),T=Bt({mutationFn:async I=>{await Tt("DELETE",`/api/leave-types/${I}`,{})},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/leave-types"]}),w.invalidateQueries({queryKey:["/api/leave-variants"]}),x({title:"Success",description:"Leave type has been deleted successfully."})},onError:I=>{console.error("Error deleting leave type:",I),x({title:"Error",description:"Failed to delete leave type. Please try again.",variant:"destructive"})}});if(c&&a)return s.jsx(C2,{leaveType:a,variant:o,onClose:()=>{u(!1),i(null),l(null),w.invalidateQueries({queryKey:["/api/leave-variants"]})}});if(d)return s.jsx(FZ,{onClose:()=>{f(!1),w.invalidateQueries({queryKey:["/api/leave-types"]})}});const D=I=>{const P=Array.isArray(v)?v.find(F=>F.name===I.name):null,C={...I,id:P==null?void 0:P.id};i(C),u(!0)},O=I=>{const P=Array.isArray(v)?v.find(F=>F.name===I.name):null,C={...I,id:P==null?void 0:P.id};p(C),m(!0)},A=I=>{I.id?T.mutate(I.id):x({title:"Cannot Discard",description:"This leave type hasn't been created yet.",variant:"destructive"})},M=I=>!S||!Array.isArray(S)?[]:S.filter(P=>P.leaveTypeName===I)||[],U=()=>{v&&Array.isArray(v)&&v.length>0?e():E.mutate()},B=I=>{b(P=>({...P,[I]:!P[I]}))};return h&&g?s.jsx($Z,{leaveType:g,onBack:()=>{m(!1),p(null)}}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configure Leave Types"}),s.jsxs(ne,{variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>f(!0),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Custom Leave"]})]}),s.jsxs("div",{className:"space-y-3",children:[Array.isArray(v)&&v.map(I=>{const P=XC(I.icon),C=M(I.name),F=y[I.name],R=C.length>0;return s.jsx(Ee,{className:"border border-gray-200 hover:border-gray-300 transition-colors",children:s.jsxs(De,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${I.color}20`},children:s.jsx(P,{className:"w-5 h-5",style:{color:I.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:I.name}),R?s.jsxs("p",{className:"text-sm text-gray-500",children:[C.length," variant",C.length>1?"s":""]}):s.jsx("p",{className:"text-sm text-gray-400",children:"No variants created"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[R?s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>O(I),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"Manage Variants"}):s.jsxs(s.Fragment,{children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>A(I),className:"text-red-600 border-red-300 hover:bg-red-50",disabled:T.isPending,children:s.jsx(Ta,{className:"w-4 h-4"})}),s.jsxs(ne,{size:"sm",onClick:()=>D(I),className:"bg-green-600 hover:bg-green-700 text-white",children:["Create Leave",s.jsx(No,{className:"w-4 h-4 ml-1"})]})]}),R&&s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>B(I.name),className:"text-gray-500 hover:text-gray-700",children:F?s.jsx(iF,{className:"w-4 h-4"}):s.jsx(Nd,{className:"w-4 h-4"})})]})]}),F&&R&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsx("div",{className:"space-y-2",children:C.map(se=>s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:se.leaveVariantName}),s.jsx("p",{className:"text-sm text-gray-500",children:se.leavesGrantedOn==="compliance"?`${se.complianceGrantDays||1} day for every ${se.complianceForEveryDays||20} days worked`:`${se.paidDaysInYear} days`})]})},se.id))})})]})},I.id)}),rD.filter(I=>!Array.isArray(v)||!v.find(P=>P.name===I.name)).map((I,P)=>{const C=I,F=XC(C.icon),R=M(C.name),se=y[C.name],L=R.length>0;return s.jsx(Ee,{className:"border border-gray-200 hover:border-gray-300 transition-colors",children:s.jsxs(De,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${C.color}20`},children:s.jsx(F,{className:"w-5 h-5",style:{color:C.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:C.name}),L?s.jsxs("p",{className:"text-sm text-gray-500",children:[R.length," variant",R.length>1?"s":""]}):s.jsx("p",{className:"text-sm text-gray-400",children:"No variants created"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:L?s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>O(C),className:"text-blue-600 border-blue-300 hover:bg-blue-50 p-2",children:s.jsx(No,{className:"w-4 h-4"})}):s.jsxs(s.Fragment,{children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>A(C),className:"text-red-600 border-red-300 hover:bg-red-50",disabled:T.isPending,children:s.jsx(Ta,{className:"w-4 h-4"})}),s.jsxs(ne,{size:"sm",onClick:()=>D(C),className:"bg-green-600 hover:bg-green-700 text-white",children:["Create Leave",s.jsx(No,{className:"w-4 h-4 ml-1"})]})]})})]}),se&&L&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsx("div",{className:"space-y-2",children:R.map((q,H)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:q.leaveVariantName}),s.jsx("p",{className:"text-sm text-gray-600",children:q.leavesGrantedOn==="compliance"?`${q.complianceGrantDays||1} day for every ${q.complianceForEveryDays||20} days worked`:`${q.paidDaysInYear} days`})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{l(q),i(C),u(!0)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:"Edit"}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>O(C),className:"text-green-600 border-green-300 hover:bg-green-50",children:"Manage"})]})]},H))})})]})},C.id||P)})]}),s.jsxs("div",{className:"flex justify-between mt-8",children:[s.jsx(ne,{variant:"outline",onClick:t,disabled:n,children:"Previous"}),s.jsx(ne,{onClick:U,disabled:n||E.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:E.isPending?"Creating...":r?"Finish Setup":"Next"})]})]})}function b6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const{toast:a}=qr(),[i,o]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState({name:"",description:"",permissions:{employeeOverview:{view:!1,modify:!1},leaveApplications:{view:!1,modify:!1},holidays:{view:!1,modify:!1},compensatoryOff:{view:!1,modify:!1},pto:{view:!1,modify:!1},employeeReports:{view:!1,modify:!1},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminReports:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}),{data:m=[],isLoading:g,error:p,isFetching:y}=Fe({queryKey:["/api/roles"],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0,retry:!1,enabled:!0}),b=Array.isArray(m)?m:[],x=b.filter(P=>P.name.toLowerCase().includes(i.toLowerCase())),w=!g&&b.length===0;N.useEffect(()=>{const P=localStorage.getItem("org_id");console.log("[RolesSetup] Debug state:",{orgId:P,isLoadingRoles:g,isFetching:y,dbRolesLength:m==null?void 0:m.length,displayRolesLength:x.length,showEmptyState:w,rolesData:m==null?void 0:m.map(C=>C.name)})},[g,y,m,x.length,w]);const v=Bt({mutationFn:async P=>u?await Tt("PATCH",`/api/roles/${u.id}`,P):await Tt("POST","/api/roles",P),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/roles"]}),a({title:"Success",description:`Role ${u?"updated":"created"} successfully.`}),c(!1),d(null)},onError:P=>{a({title:"Error",description:`Failed to ${u?"update":"create"} role. Please try again.`,variant:"destructive"})}}),j=Bt({mutationFn:async P=>await Tt("DELETE",`/api/roles/${P}`,{}),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/roles"]}),a({title:"Success",description:"Role deleted successfully."}),c(!1),d(null)},onError:P=>{a({title:"Error",description:"Failed to delete role. Please try again.",variant:"destructive"})}}),S=()=>{d(null),h({name:"",description:"",permissions:{employeeOverview:{view:!1,modify:!1},leaveApplications:{view:!1,modify:!1},holidays:{view:!1,modify:!1},compensatoryOff:{view:!1,modify:!1},pto:{view:!1,modify:!1},employeeReports:{view:!1,modify:!1},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminReports:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}),c(!0)},_=P=>{d(P);let C;try{C=typeof P.permissions=="string"?JSON.parse(P.permissions):P.permissions}catch(F){console.error("Error parsing role permissions:",F),C=f.permissions}h({name:P.name,description:P.description||"",permissions:C}),c(!0)},E=()=>{c(!1),d(null)},T=()=>{if(!f.name||!f.permissions){a({title:"Error",description:"Please provide a role name and permissions",variant:"destructive"});return}const P={name:f.name,description:f.description||"",permissions:f.permissions};v.mutate(P)},D=()=>{u&&j.mutate(u.id)},O=(P,C,F)=>{h(R=>({...R,permissions:{...R.permissions,[P]:{...R.permissions[P],[C]:F}}}))},A=(P,C)=>{h(F=>({...F,permissions:{...F.permissions,allowOnBehalf:{...F.permissions.allowOnBehalf,[P]:C}}}))},M=()=>{const P=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const F={...C.permissions};return P.forEach(R=>{F[R]&&(F[R].view=!0)}),{...C,permissions:F}})},U=()=>{const P=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const F={...C.permissions};return P.forEach(R=>{F[R]&&(F[R].modify=!0)}),{...C,permissions:F}})},B=()=>{const P=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const F={...C.permissions};return P.forEach(R=>{F[R]&&(F[R].view=!1)}),{...C,permissions:F}})},I=()=>{const P=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const F={...C.permissions};return P.forEach(R=>{F[R]&&(F[R].modify=!1)}),{...C,permissions:F}})};return l?s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:u?"Update Role":"Create Role"}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:E,className:"text-gray-400 hover:text-gray-600",children:s.jsx(cs,{className:"w-5 h-5"})})]}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(pt,{value:f.name,onChange:P=>h(C=>({...C,name:P.target.value})),placeholder:"Enter role name",className:"flex-1"}),u&&s.jsx(ne,{variant:"outline",onClick:D,className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:"Delete Role"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),s.jsx(pt,{value:f.description,onChange:P=>h(C=>({...C,description:P.target.value})),placeholder:"Enter role description"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Role Permissions"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:M,className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"Check All View"}),s.jsx(ne,{variant:"outline",size:"sm",onClick:B,className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"Uncheck All View"}),s.jsx(ne,{variant:"outline",size:"sm",onClick:U,className:"text-green-600 border-green-600 hover:bg-green-50",children:"Check All Modify"}),s.jsx(ne,{variant:"outline",size:"sm",onClick:I,className:"text-green-600 border-green-600 hover:bg-green-50",children:"Uncheck All Modify"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Employee Screens"}),s.jsx("div",{className:"space-y-2",children:[{key:"employeeOverview",label:"Employee Overview"},{key:"leaveApplications",label:"Leave Applications"},{key:"holidays",label:"Holidays"},{key:"compensatoryOff",label:"Compensatory Off"},{key:"pto",label:"PTO"},{key:"employeeReports",label:"Employee Reports"}].map(({key:P,label:C})=>{const F=f.permissions[P];return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:(F==null?void 0:F.view)||!1,onCheckedChange:R=>O(P,"view",R)}),s.jsx("span",{className:"text-sm text-gray-600",children:"View"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:(F==null?void 0:F.modify)||!1,onCheckedChange:R=>O(P,"modify",R)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Modify"})]})]})]},P)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Admin Screens"}),s.jsx("div",{className:"space-y-2",children:[{key:"adminOverview",label:"Admin Overview"},{key:"approvals",label:"Approvals"},{key:"employees",label:"Employees"},{key:"workflows",label:"Workflows"},{key:"roles",label:"Roles"},{key:"importLeaveData",label:"Import Leave Data"},{key:"adminReports",label:"Admin Reports"}].map(({key:P,label:C})=>{const F=f.permissions[P];return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:(F==null?void 0:F.view)||!1,onCheckedChange:R=>O(P,"view",R)}),s.jsx("span",{className:"text-sm text-gray-600",children:"View"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:(F==null?void 0:F.modify)||!1,onCheckedChange:R=>O(P,"modify",R)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Modify"})]})]})]},P)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Admin Configuration"}),s.jsx("div",{className:"space-y-2",children:[{key:"adminLeaveTypes",label:"Leave Types Configuration"},{key:"adminCompOff",label:"Comp Off Configuration"},{key:"adminPTO",label:"PTO Configuration"},{key:"adminSettings",label:"General Settings (Black Out Periods & Features)"}].map(({key:P,label:C})=>{const F=f.permissions[P];return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:(F==null?void 0:F.view)||!1,onCheckedChange:R=>O(P,"view",R)}),s.jsx("span",{className:"text-sm text-gray-600",children:"View"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:(F==null?void 0:F.modify)||!1,onCheckedChange:R=>O(P,"modify",R)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Modify"})]})]})]},P)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Allow On Behalf Actions"}),s.jsx("div",{className:"space-y-2",children:[{key:"pto",label:"PTO Applications"},{key:"leave",label:"Leave Applications"},{key:"compOff",label:"Comp Off Applications"}].map(({key:P,label:C})=>{var F;return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:((F=f.permissions.allowOnBehalf)==null?void 0:F[P])||!1,onCheckedChange:R=>A(P,R)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Allow"})]})]},P)})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx(ne,{variant:"outline",onClick:E,children:"Cancel"}),s.jsx(ne,{onClick:T,disabled:v.isPending||j.isPending,children:v.isPending?"Saving...":u?"Update Role":"Create Role"})]})]})})]}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Roles"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(pt,{placeholder:"Search for Roles",value:i,onChange:P=>o(P.target.value),className:"pl-10"})]}),s.jsxs(ne,{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Role"]})]}),g&&s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"Loading roles..."})}),p&&s.jsx(Ee,{children:s.jsx(De,{className:"p-8 text-center",children:s.jsxs("div",{className:"text-red-500 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error loading roles"}),s.jsx("p",{className:"text-sm",children:p.message})]})})}),w&&s.jsx(Ee,{children:s.jsxs(De,{className:"p-8 text-center",children:[s.jsxs("div",{className:"text-gray-500 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No roles created yet"}),s.jsx("p",{children:"Create your first role to get started with permission management."}),s.jsx("p",{className:"text-sm mt-2",children:"Default roles (Admin, Manager, Employee) will be created automatically when you complete the setup."})]}),s.jsxs(ne,{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Custom Role"]})]})}),x.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(P=>s.jsx(Ee,{className:"hover:shadow-md transition-shadow",children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.name}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>_(P),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Nu,{className:"w-4 h-4"})})]}),P.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:P.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Created:"," ",P.createdAt?new Date(P.createdAt).toLocaleDateString():"Unknown"]})]})},P.id))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[s.jsx(ne,{variant:"outline",onClick:t,children:"Previous"}),s.jsx(ne,{onClick:e,disabled:n,children:r?"Finish Setup":"Next"})]})]})}const BZ=zp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kt({className:e,variant:t,...r}){return s.jsx("div",{className:rt(BZ({variant:t}),e),...r})}var Rv="Dialog",[j6,qPe]=Ka(Rv),[UZ,Si]=j6(Rv),S6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=N.useRef(null),c=N.useRef(null),[u,d]=Ki({prop:n,defaultProp:a??!1,onChange:i,caller:Rv});return s.jsx(UZ,{scope:t,triggerRef:l,contentRef:c,contentId:_o(),titleId:_o(),descriptionId:_o(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};S6.displayName=Rv;var N6="DialogTrigger",_6=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Si(N6,r),i=nr(t,a.triggerRef);return s.jsx(It.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":O2(a.open),...n,ref:i,onClick:jt(e.onClick,a.onOpenToggle)})});_6.displayName=N6;var D2="DialogPortal",[VZ,E6]=j6(D2,{forceMount:void 0}),T6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Si(D2,t);return s.jsx(VZ,{scope:t,forceMount:r,children:N.Children.map(n,o=>s.jsx(bi,{present:r||i.open,children:s.jsx(Wp,{asChild:!0,container:a,children:o})}))})};T6.displayName=D2;var Ex="DialogOverlay",A6=N.forwardRef((e,t)=>{const r=E6(Ex,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Si(Ex,e.__scopeDialog);return i.modal?s.jsx(bi,{present:n||i.open,children:s.jsx(HZ,{...a,ref:t})}):null});A6.displayName=Ex;var WZ=su("DialogOverlay.RemoveScroll"),HZ=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Si(Ex,r);return s.jsx(Sv,{as:WZ,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(It.div,{"data-state":O2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),du="DialogContent",C6=N.forwardRef((e,t)=>{const r=E6(du,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Si(du,e.__scopeDialog);return s.jsx(bi,{present:n||i.open,children:i.modal?s.jsx(zZ,{...a,ref:t}):s.jsx(qZ,{...a,ref:t})})});C6.displayName=du;var zZ=N.forwardRef((e,t)=>{const r=Si(du,e.__scopeDialog),n=N.useRef(null),a=nr(t,r.contentRef,n);return N.useEffect(()=>{const i=n.current;if(i)return b2(i)},[]),s.jsx(D6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:jt(e.onFocusOutside,i=>i.preventDefault())})}),qZ=N.forwardRef((e,t)=>{const r=Si(du,e.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return s.jsx(D6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),D6=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Si(du,r),c=N.useRef(null),u=nr(t,c);return w2(),s.jsxs(s.Fragment,{children:[s.jsx(bv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Wf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":O2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(GZ,{titleId:l.titleId}),s.jsx(YZ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),k2="DialogTitle",k6=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Si(k2,r);return s.jsx(It.h2,{id:a.titleId,...n,ref:t})});k6.displayName=k2;var O6="DialogDescription",P6=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Si(O6,r);return s.jsx(It.p,{id:a.descriptionId,...n,ref:t})});P6.displayName=O6;var I6="DialogClose",R6=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Si(I6,r);return s.jsx(It.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,()=>a.onOpenChange(!1))})});R6.displayName=I6;function O2(e){return e?"open":"closed"}var M6="DialogTitleWarning",[GPe,F6]=cH(M6,{contentName:du,titleName:k2,docsSlug:"dialog"}),GZ=({titleId:e})=>{const t=F6(M6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},KZ="DialogDescriptionWarning",YZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F6(KZ).contentName}}.`;return N.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},XZ=S6,QZ=_6,JZ=T6,L6=A6,$6=C6,B6=k6,U6=P6,ZZ=R6;const Rn=XZ,pf=QZ,eee=JZ,V6=N.forwardRef(({className:e,...t},r)=>s.jsx(L6,{ref:r,className:rt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));V6.displayName=L6.displayName;const Mn=N.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(eee,{children:[s.jsx(V6,{}),s.jsxs($6,{ref:n,className:rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(ZZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(cs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mn.displayName=$6.displayName;const Fn=({className:e,...t})=>s.jsx("div",{className:rt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fn.displayName="DialogHeader";const Tx=({className:e,...t})=>s.jsx("div",{className:rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tx.displayName="DialogFooter";const Ln=N.forwardRef(({className:e,...t},r)=>s.jsx(B6,{ref:r,className:rt("text-lg font-semibold leading-none tracking-tight",e),...t}));Ln.displayName=B6.displayName;const tee=N.forwardRef(({className:e,...t},r)=>s.jsx(U6,{ref:r,className:rt("text-sm text-muted-foreground",e),...t}));tee.displayName=U6.displayName;const ree=sa({name:rr().min(1,"Workflow name is required"),effectiveDate:rr().min(1,"Effective date is required"),process:rr().min(1,"Process is required"),subProcesses:is(rr()).min(1,"At least one sub-process is required"),reviewSteps:is(sa({title:rr(),roleIds:is(er()),autoApproval:cr()})).optional()});function nee({open:e,onOpenChange:t,onAssign:r,selectedRoleIds:n}){const[a,i]=N.useState(n),[o,l]=N.useState(""),{data:c=[]}=Fe({queryKey:["/api/roles"]}),u=c.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())),d=()=>{r(a),t(!1)},f=h=>{i(m=>m.includes(h)?m.filter(g=>g!==h):[...m,h])};return s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsxs(Mn,{className:"max-w-md",children:[s.jsx(Fn,{children:s.jsx(Ln,{children:"Assign Roles"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(pt,{placeholder:"Search roles...",value:o,onChange:h=>l(h.target.value),className:"pl-10"})]}),u.length===0?s.jsx("div",{className:"text-center text-gray-500 py-6",children:"No roles available. Please create roles first."}):s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.map(h=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:`role-${h.id}`,checked:a.includes(h.id),onCheckedChange:()=>f(h.id)}),s.jsx(it,{htmlFor:`role-${h.id}`,className:"flex-1 cursor-pointer",children:h.name})]},h.id))}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(ne,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ne,{onClick:d,children:"Assign Roles"})]})]})]})})}function aee({onNext:e,onPrevious:t,onComplete:r,isLast:n,isLoading:a}){var P;const{toast:i}=qr(),[o,l]=N.useState(!1),[c,u]=N.useState([]),[d,f]=N.useState(!1),[h,m]=N.useState(null),[g,p]=N.useState(null),y=us({resolver:Is(ree),defaultValues:{name:"",effectiveDate:"",process:"",subProcesses:[],reviewSteps:[]}}),{data:b=[]}=Fe({queryKey:["/api/workflows"]}),{data:x=[]}=Fe({queryKey:["/api/roles"]}),{data:w}=Fe({queryKey:["/api/company"]});N.useEffect(()=>{if(g&&o){console.log("Editing workflow data:",g);const C={name:g.name||"",effectiveDate:g.effectiveDate?new Date(g.effectiveDate).toISOString().split("T")[0]:"",process:g.process||"application",subProcesses:g.subProcesses?Array.isArray(g.subProcesses)?g.subProcesses:[g.subProcess||"apply-leave"]:["apply-leave"]};if(console.log("Form values being set:",C),y.reset(C),g.steps&&Array.isArray(g.steps)){const F=g.steps.map((R,se)=>({id:R.id||Date.now().toString()+se,title:R.title||"",roleIds:R.roleIds||[],autoApproval:R.autoApproval||!1,days:R.days||0,hours:R.hours||0}));u(F)}else u([])}},[g,o,y]);const v=Bt({mutationFn:async C=>{const F=localStorage.getItem("org_id")||"60";return Tt("POST","/api/workflows",{...C,orgId:parseInt(F)})},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/workflows"]}),i({title:"Success",description:"Workflow created successfully"}),l(!1),y.reset(),u([])},onError:C=>{i({title:"Error",description:C.message||"Failed to create workflow",variant:"destructive"})}}),j=Bt({mutationFn:async({id:C,data:F})=>Tt("PATCH",`/api/workflows/${C}`,F),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/workflows"]}),l(!1),p(null),y.reset(),u([]),i({title:"Success",description:"Workflow updated successfully"})},onError:C=>{i({title:"Error",description:C.message||"Failed to update workflow",variant:"destructive"})}}),S=Bt({mutationFn:async C=>Tt("DELETE",`/api/workflows/${C}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/workflows"]}),i({title:"Success",description:"Workflow deleted successfully"})},onError:C=>{i({title:"Error",description:C.message||"Failed to delete workflow",variant:"destructive"})}}),_=()=>{const C={id:Date.now().toString(),title:"",roleIds:[],autoApproval:!1,days:0,hours:0};u(F=>[...F,C])},E=C=>{u(F=>F.filter(R=>R.id!==C))},T=(C,F)=>{u(R=>R.map(se=>se.id===C?{...se,...F}:se))},D=C=>{if(h!==null){const F=c[h];T(F.id,{roleIds:C})}},O=C=>{var F;console.log("[openAssignRolesDialog] Opening for step:",C),console.log("[openAssignRolesDialog] Current reviewSteps:",c),console.log("[openAssignRolesDialog] Step roleIds:",(F=c[C])==null?void 0:F.roleIds),m(C),f(!0)},A=C=>{if(w!=null&&w.effectiveDate&&C.effectiveDate){const R=new Date(w.effectiveDate);if(new Date(C.effectiveDate)<R){y.setError("effectiveDate",{message:"Effective date cannot be before company setup date"});return}}const F={...C,steps:c.map(R=>({title:R.title,roleIds:R.roleIds,autoApproval:R.autoApproval,days:R.days||0,hours:R.hours||0}))};g?j.mutate({id:g.id,data:F}):v.mutate(F)},M=C=>{p(C),l(!0)},U=C=>{window.confirm("Are you sure you want to delete this workflow?")&&S.mutate(C)},B=C=>C.map(F=>{var R;return((R=x.find(se=>se.id===F))==null?void 0:R.name)||F.toString()}).join(", "),I=async()=>{r&&await r(),e()};return s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workflows Setup"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Create approval workflows to manage your organization's leave requests and compensation processes"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Workflows"}),s.jsxs(Rn,{open:o,onOpenChange:C=>{l(C),C||(p(null),y.reset(),u([]))},children:[s.jsx(pf,{asChild:!0,children:s.jsxs(ne,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})}),s.jsxs(Mn,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Fn,{children:s.jsx(Ln,{className:"text-xl font-semibold text-gray-900",children:g?"Edit Workflow":"New Workflow"})}),s.jsx(li,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(A),className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Qe,{control:y.control,name:"name",render:({field:C})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Workflow Name *"}),s.jsx(at,{children:s.jsx(pt,{placeholder:"Enter workflow name",...C})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:y.control,name:"effectiveDate",render:({field:C})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Effective Date *"}),s.jsx(at,{children:s.jsx(pt,{type:"date",...C})}),s.jsx(yt,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Qe,{control:y.control,name:"process",render:({field:C})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Process *"}),s.jsxs(Dt,{onValueChange:C.onChange,value:C.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select process"})})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"application",children:"Application"}),s.jsx(_e,{value:"pto",children:"PTO"}),s.jsx(_e,{value:"comp-off",children:"Comp-off"})]})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:y.control,name:"subProcesses",render:({field:C})=>{var F,R,se,L,q,H,K;return s.jsxs(Ke,{children:[s.jsx(mt,{children:"Select sub-process *"}),s.jsx(at,{children:s.jsxs("div",{className:"space-y-2",children:[y.watch("process")==="application"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"apply-leave",checked:((F=C.value)==null?void 0:F.includes("apply-leave"))||!1,onCheckedChange:ce=>{const ue=C.value||[];ce?C.onChange([...ue,"apply-leave"]):C.onChange(ue.filter(ge=>ge!=="apply-leave"))}}),s.jsx(it,{htmlFor:"apply-leave",className:"text-sm",children:"Apply Leave"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"withdraw-leave",checked:((R=C.value)==null?void 0:R.includes("withdraw-leave"))||!1,onCheckedChange:ce=>{const ue=C.value||[];ce?C.onChange([...ue,"withdraw-leave"]):C.onChange(ue.filter(ge=>ge!=="withdraw-leave"))}}),s.jsx(it,{htmlFor:"withdraw-leave",className:"text-sm",children:"Withdraw Leave"})]})]}),y.watch("process")==="pto"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"apply-pto",checked:((se=C.value)==null?void 0:se.includes("apply-pto"))||!1,onCheckedChange:ce=>{const ue=C.value||[];ce?C.onChange([...ue,"apply-pto"]):C.onChange(ue.filter(ge=>ge!=="apply-pto"))}}),s.jsx(it,{htmlFor:"apply-pto",className:"text-sm",children:"Apply PTO"})]})}),y.watch("process")==="comp-off"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"bank-comp-off",checked:((L=C.value)==null?void 0:L.includes("bank-comp-off"))||!1,onCheckedChange:ce=>{const ue=C.value||[];ce?C.onChange([...ue,"bank-comp-off"]):C.onChange(ue.filter(ge=>ge!=="bank-comp-off"))}}),s.jsx(it,{htmlFor:"bank-comp-off",className:"text-sm",children:"Bank Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"avail-comp-off",checked:((q=C.value)==null?void 0:q.includes("avail-comp-off"))||!1,onCheckedChange:ce=>{const ue=C.value||[];ce?C.onChange([...ue,"avail-comp-off"]):C.onChange(ue.filter(ge=>ge!=="avail-comp-off"))}}),s.jsx(it,{htmlFor:"avail-comp-off",className:"text-sm",children:"Avail Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"transfer-comp-off",checked:((H=C.value)==null?void 0:H.includes("transfer-comp-off"))||!1,onCheckedChange:ce=>{const ue=C.value||[];ce?C.onChange([...ue,"transfer-comp-off"]):C.onChange(ue.filter(ge=>ge!=="transfer-comp-off"))}}),s.jsx(it,{htmlFor:"transfer-comp-off",className:"text-sm",children:"Transfer to Leaves"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"encash-comp-off",checked:((K=C.value)==null?void 0:K.includes("encash-comp-off"))||!1,onCheckedChange:ce=>{const ue=C.value||[];ce?C.onChange([...ue,"encash-comp-off"]):C.onChange(ue.filter(ge=>ge!=="encash-comp-off"))}}),s.jsx(it,{htmlFor:"encash-comp-off",className:"text-sm",children:"En-Cash Comp"})]})]})]})}),s.jsx(yt,{})]})}})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Review Steps"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure the approval process for this workflow"})]}),s.jsxs(ne,{type:"button",variant:"outline",onClick:_,className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4"}),"Add Step"]})]}),s.jsx("div",{className:"space-y-4",children:c.map((C,F)=>s.jsxs(Ee,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:["Review ",F+1]}),s.jsx(pt,{placeholder:"Step title",value:C.title,onChange:R=>T(C.id,{title:R.target.value}),className:"mt-2"})]}),c.length>1&&s.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(C.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Ta,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(it,{className:"text-sm font-medium text-gray-700",children:"Assigned Roles"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[C.roleIds.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:C.roleIds.map(R=>{var se;return s.jsx(Kt,{variant:"secondary",children:((se=x.find(L=>L.id===R))==null?void 0:se.name)||R},R)})}):s.jsx("span",{className:"text-sm text-gray-500",children:"No roles assigned"}),s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>O(F),children:"Assign Roles"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:`auto-approval-${C.id}`,checked:C.autoApproval,onCheckedChange:R=>T(C.id,{autoApproval:R})}),s.jsx(it,{htmlFor:`auto-approval-${C.id}`,className:"text-sm",children:F===c.length-1?"Enable auto-approval if all conditions are met":"Forward to the next review"})]}),C.autoApproval&&s.jsxs("div",{className:"ml-6 space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Auto-approve after:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pt,{type:"number",min:"0",placeholder:"0",value:C.days||"",onChange:R=>T(C.id,{days:parseInt(R.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"days"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pt,{type:"number",min:"0",max:"23",placeholder:"0",value:C.hours||"",onChange:R=>T(C.id,{hours:parseInt(R.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"hours"})]})]})]})]})]})]},C.id))}),c.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No review steps configured. Add steps to create an approval workflow."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(ne,{type:"submit",disabled:v.isPending||j.isPending,children:g?"Update Workflow":"Create Workflow"})]})]})})]})]})]}),b.length===0?s.jsxs(Ee,{className:"p-8 text-center",children:[s.jsx(Ri,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows configured"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first workflow to start managing approval processes"})]}):s.jsx("div",{className:"grid gap-4",children:b.map(C=>s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),s.jsxs(Kt,{variant:"outline",children:[C.process," - ",C.subProcess]})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pr,{className:"h-4 w-4"}),"Effective from: ",new Date(C.effectiveDate).toLocaleDateString()]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Review Steps:"}),C.steps&&C.steps.length>0?s.jsx("div",{className:"grid gap-2",children:C.steps.map((F,R)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:["Step ",R+1,": ",F.title||"Untitled Step"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Roles: ",B(F.roleIds)||"No roles assigned"]})]}),F.autoApproval&&s.jsx(Kt,{variant:"secondary",children:"Auto-approval"})]},R))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No review steps configured"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>M(C),children:"Edit"}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>U(C.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]})},C.id))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[s.jsx(ne,{variant:"outline",onClick:t,disabled:a,children:"Previous"}),s.jsx("div",{className:"flex items-center gap-3",children:b.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(Qn,{className:"h-5 w-5"}),s.jsxs("span",{className:"text-sm font-medium",children:[b.length," workflow(s) configured"]})]})}),s.jsx(ne,{onClick:I,disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:n?"Complete Setup":"Next"})]}),s.jsx(nee,{open:d,onOpenChange:f,onAssign:D,selectedRoleIds:h!==null?((P=c[h])==null?void 0:P.roleIds)||[]:[]})]})}const see=sa({leaveVariantName:rr().min(1,"Comp-off variant name is required"),description:rr().min(1,"Description is required"),allowFullDay:cr(),allowHalfDay:cr(),allowQuarterDay:cr(),fullDayHours:er().min(0).optional(),halfDayHours:er().min(0).optional(),quarterDayHours:er().min(0).optional(),maxApplications:er().min(1,"Max applications is required"),maxApplicationsPeriod:Dn(["Month","Quarter","Year"]),workflowRequired:cr(),approvalAdvanceDays:er().min(0),availWithinDays:er().min(0),allowNonWorkingDays:cr(),withdrawalBeforeApproval:cr(),withdrawalAfterApproval:cr(),withdrawalNotAllowed:cr(),allowedDuringNotice:cr(),enableCarryForward:cr(),carryForwardDays:er().min(0).optional(),enableLapse:cr(),lapsePeriod:er().min(0).optional(),lapsePeriodUnit:Dn(["Days","Month","Quarter","Year"]).optional(),enableCompensation:cr(),maxEncashmentDays:er().min(0).optional(),maxEncashmentHours:er().min(0).optional(),encashmentOption:cr(),convertToLeavesOption:cr(),encashmentBasedOn:Dn(["basic_pay","basic_plus_dearness_allowance","gross_pay"]).optional(),convertibleLeaveTypes:is(er()).optional()});function iee({variant:e,onClose:t}){const{toast:r}=qr(),[n,a]=N.useState(!1),[i,o]=N.useState([]),{data:l=[]}=Fe({queryKey:[`/api/employee-assignments/comp-off-variant/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),[c,u]=N.useState([]),d=N.useRef([]);N.useEffect(()=>{(async()=>{try{const v=(await ji()).map(Xf);console.log("CompOff: Loaded",v.length,"employees from external API"),u(v)}catch(w){console.error("CompOff: Error loading employees:",w),u([])}})()},[]);const{data:f}=Fe({queryKey:["/api/leave-types"]}),{data:h}=Fe({queryKey:["/api/leave-variants"]}),m=(f||[]).filter(x=>(h||[]).some(w=>w.leaveTypeId===x.id)),g=us({resolver:Is(see),defaultValues:{leaveVariantName:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",allowFullDay:(e==null?void 0:e.allowFullDay)||!1,allowHalfDay:(e==null?void 0:e.allowHalfDay)||!1,allowQuarterDay:(e==null?void 0:e.allowQuarterDay)||!1,fullDayHours:(e==null?void 0:e.fullDayHours)||8,halfDayHours:(e==null?void 0:e.halfDayHours)||4,quarterDayHours:(e==null?void 0:e.quarterDayHours)||2,maxApplications:(e==null?void 0:e.maxApplications)||0,maxApplicationsPeriod:(e==null?void 0:e.maxApplicationsPeriod)||"Month",workflowRequired:(e==null?void 0:e.workflowRequired)||!1,approvalAdvanceDays:(e==null?void 0:e.approvalAdvanceDays)||0,availWithinDays:(e==null?void 0:e.availWithinDays)||0,allowNonWorkingDays:(e==null?void 0:e.allowNonWorkingDays)||!1,withdrawalBeforeApproval:(e==null?void 0:e.withdrawalBeforeApproval)||!0,withdrawalAfterApproval:(e==null?void 0:e.withdrawalAfterApproval)||!1,withdrawalNotAllowed:(e==null?void 0:e.withdrawalNotAllowed)||!1,allowedDuringNotice:(e==null?void 0:e.allowedDuringNotice)||!1,enableCarryForward:(e==null?void 0:e.enableCarryForward)||!1,carryForwardDays:(e==null?void 0:e.carryForwardDays)||0,enableLapse:(e==null?void 0:e.enableLapse)||!1,lapsePeriod:(e==null?void 0:e.lapsePeriod)||0,lapsePeriodUnit:(e==null?void 0:e.lapsePeriodUnit)||"Month",enableCompensation:(e==null?void 0:e.enableCompensation)||!1,maxEncashmentDays:(e==null?void 0:e.maxEncashmentDays)||0,maxEncashmentHours:(e==null?void 0:e.maxEncashmentHours)||0,encashmentOption:(e==null?void 0:e.encashmentOption)||!0,convertToLeavesOption:(e==null?void 0:e.convertToLeavesOption)||!1,encashmentBasedOn:(e==null?void 0:e.encashmentBasedOn)||"basic_pay",convertibleLeaveTypes:(e==null?void 0:e.convertibleLeaveTypes)||[]}});N.useEffect(()=>{if(e){console.log("=== FORM POPULATION DEBUG ==="),console.log("Variant data:",e);const x={leaveVariantName:e.name||"",description:e.description||"",workflowRequired:e.workflowRequired||!1,approvalAdvanceDays:e.approvalDays||0,availWithinDays:e.expiryDays===365?0:e.expiryDays||0,allowFullDay:e.allowFullDay!==void 0?e.allowFullDay:!0,allowHalfDay:e.allowHalfDay!==void 0?e.allowHalfDay:!0,allowQuarterDay:e.allowQuarterDay!==void 0?e.allowQuarterDay:!1,fullDayHours:e.fullDayHours||8,halfDayHours:e.halfDayHours||4,quarterDayHours:e.quarterDayHours||2,maxApplications:e.maxApplications||e.maxBalance||1,maxApplicationsPeriod:e.maxApplicationsPeriod||"Month",allowNonWorkingDays:e.allowNonWorkingDays||!1,withdrawalBeforeApproval:e.withdrawalBeforeApproval||!1,withdrawalAfterApproval:e.withdrawalAfterApproval||!1,withdrawalNotAllowed:e.withdrawalNotAllowed===!0&&!e.withdrawalBeforeApproval&&!e.withdrawalAfterApproval,allowedDuringNotice:e.allowedDuringNotice!==void 0?e.allowedDuringNotice:!1,enableCarryForward:e.enableCarryForward||!1,carryForwardDays:e.carryForwardDays||0,enableLapse:e.enableLapse||!1,lapsePeriod:e.lapsePeriod||0,lapsePeriodUnit:e.lapsePeriodUnit||"Month",enableCompensation:e.enableCompensation||!1,maxEncashmentDays:e.maxEncashmentDays||0,maxEncashmentHours:e.maxEncashmentHours||0,encashmentOption:e.encashmentOption!==void 0?e.encashmentOption:!0,convertToLeavesOption:e.convertToLeavesOption||!1,encashmentBasedOn:e.encashmentBasedOn||"basic_pay",convertibleLeaveTypes:e.convertibleLeaveTypes||[]};console.log("Form values being set:",x),g.reset(x),setTimeout(()=>{console.log("Actual form values after reset:",g.getValues())},100)}},[e,g]),N.useEffect(()=>{if(console.log("=== COMP-OFF EMPLOYEE MATCHING DEBUG ==="),console.log("CompOff: Loading assigned employees - variant ID:",e==null?void 0:e.id),console.log("CompOff: Existing assignments:",l),console.log("CompOff: All employees from external API:",c.length,"employees"),e!=null&&e.id&&Array.isArray(l)&&l.length>0){const x=l.map(w=>w.userId);if(console.log("CompOff: Assigned user IDs from database:",x),c.length===0){console.log("CompOff: External API failed, creating fallback employee objects");const w=x.map(v=>({user_id:v,user_name:`Employee ${v}`,employee_number:`E${v}`}));console.log("CompOff: Created fallback employees:",w),o(w),d.current=w}else{const w=c.filter(v=>{const j=v.user_id||v.id,S=x.includes(j);return S&&console.log("CompOff: Found assigned employee:",v.user_name,"with ID:",j),S});console.log("CompOff: Matched assigned employees from external API:",w.length),o(w),d.current=w}}else e!=null&&e.id?(console.log("CompOff: No assignments found - clearing assigned employees"),o([]),d.current=[]):(console.log("CompOff: New variant - clearing assignments"),o([]),d.current=[]);console.log("=== END COMP-OFF EMPLOYEE MATCHING DEBUG ===")},[l,e==null?void 0:e.id,c]);const p=Bt({mutationFn:async x=>{console.log("=== FORM SUBMISSION DEBUG ==="),console.log("Raw form data:",x);const w={name:x.leaveVariantName,description:x.description,enabled:!0,allowFullDay:x.allowFullDay||!1,fullDayHours:x.fullDayHours||0,allowHalfDay:x.allowHalfDay||!1,halfDayHours:x.halfDayHours||0,allowQuarterDay:x.allowQuarterDay||!1,quarterDayHours:x.quarterDayHours||0,maxApplications:x.maxApplications||1,maxApplicationsPeriod:x.maxApplicationsPeriod||"Month",workflowRequired:x.workflowRequired||!1,documentsRequired:!1,applicableAfter:0,approvalDays:x.approvalAdvanceDays||0,expiryDays:x.availWithinDays||365,allowNonWorkingDays:x.allowNonWorkingDays||!1,withdrawalBeforeApproval:x.withdrawalBeforeApproval||!1,withdrawalAfterApproval:x.withdrawalAfterApproval||!1,withdrawalNotAllowed:x.withdrawalNotAllowed||!0,allowedDuringNotice:x.allowedDuringNotice||!0,enableCarryForward:x.enableCarryForward||!1,carryForwardDays:x.carryForwardDays||0,enableLapse:x.enableLapse||!1,lapsePeriod:x.lapsePeriod||0,lapsePeriodUnit:x.lapsePeriodUnit||"Month",enableCompensation:x.enableCompensation||!1,encashmentOption:x.encashmentOption||!1,convertToLeavesOption:x.convertToLeavesOption||!1,encashmentBasedOn:x.encashmentBasedOn||null,maxEncashmentDays:x.maxEncashmentDays||0,maxEncashmentHours:x.maxEncashmentHours||0,convertibleLeaveTypes:x.convertibleLeaveTypes||[],maxBalance:x.maxApplications||1};return console.log("Payload being sent to API:",w),e!=null&&e.id?await Tt("PATCH",`/api/comp-off-variants/${e.id}`,w):await Tt("POST","/api/comp-off-variants",w)},onSuccess:()=>{r({title:"Success",description:e!=null&&e.id?"Comp-off variant updated successfully":"Comp-off variant created successfully"}),qe.invalidateQueries({queryKey:["/api/comp-off-variants"]}),t()},onError:x=>{r({title:"Error",description:x.message||"Failed to save comp-off variant",variant:"destructive"})}}),y=x=>{if(console.log("=== FORM SUBMISSION TRIGGERED ==="),console.log("Form submission triggered with data:",x),console.log("Form errors:",g.formState.errors),console.log("Form is valid:",g.formState.isValid),!x.leaveVariantName||x.leaveVariantName.trim()===""){r({title:"Validation Error",description:"Comp-off variant name is required and cannot be left blank.",variant:"destructive"});return}if(!x.description||x.description.trim()===""){r({title:"Validation Error",description:"Description is required and cannot be left blank.",variant:"destructive"});return}if(!x.allowFullDay&&!x.allowHalfDay&&!x.allowQuarterDay){r({title:"Validation Error",description:"Please select at least one comp-off unit (Full Day, Half Day, or Quarter Day).",variant:"destructive"});return}const w=x.fullDayHours||0,v=x.halfDayHours||0,j=x.quarterDayHours||0;if(x.allowFullDay&&(!x.fullDayHours||x.fullDayHours<=0)){r({title:"Validation Error",description:"Full Day hours is required and must be greater than 0.",variant:"destructive"});return}if(x.allowHalfDay&&(!x.halfDayHours||x.halfDayHours<=0)){r({title:"Validation Error",description:"Half Day hours is required and must be greater than 0.",variant:"destructive"});return}if(x.allowQuarterDay&&(!x.quarterDayHours||x.quarterDayHours<=0)){r({title:"Validation Error",description:"Quarter Day hours is required and must be greater than 0.",variant:"destructive"});return}if(x.allowFullDay&&x.allowHalfDay&&w>0&&v>0&&w===v){r({title:"Validation Error",description:"Full Day and Half Day hours cannot be the same.",variant:"destructive"});return}if(x.allowFullDay&&x.allowQuarterDay&&w>0&&j>0&&w===j){r({title:"Validation Error",description:"Full Day and Quarter Day hours cannot be the same.",variant:"destructive"});return}if(x.allowHalfDay&&x.allowQuarterDay&&v>0&&j>0&&v===j){r({title:"Validation Error",description:"Half Day and Quarter Day hours cannot be the same.",variant:"destructive"});return}if(x.allowFullDay&&x.allowHalfDay&&w>0&&v>0&&w<=v){r({title:"Validation Error",description:"Full Day hours must be greater than Half Day hours.",variant:"destructive"});return}if(x.allowHalfDay&&x.allowQuarterDay&&v>0&&j>0&&v<=j){r({title:"Validation Error",description:"Half Day hours must be greater than Quarter Day hours.",variant:"destructive"});return}if(x.allowFullDay&&x.allowQuarterDay&&w>0&&j>0&&w<=j){r({title:"Validation Error",description:"Full Day hours must be greater than Quarter Day hours.",variant:"destructive"});return}p.mutate(x)},b=async x=>{if(o(x),a(!1),!(e!=null&&e.id)){r({title:"Info",description:"Employee assignments will be saved after creating the comp-off variant."});return}try{if(!(await fetch("/api/employee-assignments/bulk",{method:"POST",headers:{"Content-Type":"application/json","X-Org-Id":localStorage.getItem("org_id")||"13"},body:JSON.stringify({leaveVariantId:e.id,assignmentType:"comp_off_variant",userIds:x.map(v=>v.user_id||v.id)})})).ok)throw new Error("Failed to save employee assignments");d.current=x,r({title:"Success",description:"Employee assignments updated successfully"})}catch{r({title:"Error",description:"Failed to save employee assignments",variant:"destructive"})}};return n?s.jsx(n0,{onClose:()=>a(!1),onAssign:b,preSelectedEmployees:i}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center p-6 border-b",children:[s.jsx(ne,{variant:"ghost",size:"sm",onClick:t,className:"mr-4",children:s.jsx(av,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-green-100",children:s.jsx(Vn,{className:"w-4 h-4 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold",children:e?"Edit Comp-off Variant":"Create Comp-off Variant"})]})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-180px)]",children:s.jsx(li,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(y),className:"p-8 space-y-8 pb-12",children:[s.jsxs(Ee,{children:[s.jsxs(_t,{children:[s.jsx(Et,{children:"Comp-off units allowed"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure the time units and their corresponding hours for comp-off applications"})]}),s.jsx(De,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Qe,{control:g.control,name:"allowFullDay",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(at,{children:s.jsx(Ft,{checked:x.value,onCheckedChange:x.onChange})}),s.jsx(mt,{children:"Full Day (hours)"})]})}),g.watch("allowFullDay")&&s.jsx(Qe,{control:g.control,name:"fullDayHours",render:({field:x})=>s.jsxs(Ke,{children:[s.jsx(at,{children:s.jsx(pt,{type:"number",placeholder:"8",className:`w-24 ${g.watch("allowFullDay")&&(!x.value||x.value<=0)?"border-red-300":""}`,min:"1",step:"1",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})}),g.watch("allowFullDay")&&(!x.value||x.value<=0)&&s.jsxs("span",{className:"text-xs text-red-500",children:["Required and must be ",">"," 0"]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Qe,{control:g.control,name:"allowHalfDay",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(at,{children:s.jsx(Ft,{checked:x.value,onCheckedChange:x.onChange})}),s.jsx(mt,{children:"Half Day (hours)"})]})}),g.watch("allowHalfDay")&&s.jsx(Qe,{control:g.control,name:"halfDayHours",render:({field:x})=>s.jsxs(Ke,{children:[s.jsx(at,{children:s.jsx(pt,{type:"number",placeholder:"4",className:`w-24 ${g.watch("allowHalfDay")&&(!x.value||x.value<=0)?"border-red-300":""}`,min:"1",step:"1",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})}),g.watch("allowHalfDay")&&(!x.value||x.value<=0)&&s.jsxs("span",{className:"text-xs text-red-500",children:["Required and must be ",">"," 0"]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Qe,{control:g.control,name:"allowQuarterDay",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(at,{children:s.jsx(Ft,{checked:x.value,onCheckedChange:x.onChange})}),s.jsx(mt,{children:"Quarter Day (hours)"})]})}),g.watch("allowQuarterDay")&&s.jsx(Qe,{control:g.control,name:"quarterDayHours",render:({field:x})=>s.jsxs(Ke,{children:[s.jsx(at,{children:s.jsx(pt,{type:"number",placeholder:"2",className:`w-24 ${g.watch("allowQuarterDay")&&(!x.value||x.value<=0)?"border-red-300":""}`,min:"1",step:"1",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})}),g.watch("allowQuarterDay")&&(!x.value||x.value<=0)&&s.jsxs("span",{className:"text-xs text-red-500",children:["Required and must be ",">"," 0"]})]})})]}),(()=>{const x=g.watch("fullDayHours")||0,w=g.watch("halfDayHours")||0,v=g.watch("quarterDayHours")||0,j=g.watch("allowFullDay"),S=g.watch("allowHalfDay"),_=g.watch("allowQuarterDay"),E=[];return j&&S&&x>0&&w>0&&x===w&&E.push("Full Day and Half Day hours cannot be the same"),j&&_&&x>0&&v>0&&x===v&&E.push("Full Day and Quarter Day hours cannot be the same"),S&&_&&w>0&&v>0&&w===v&&E.push("Half Day and Quarter Day hours cannot be the same"),j&&S&&x>0&&w>0&&x<=w&&E.push("Full Day hours must be greater than Half Day hours"),S&&_&&w>0&&v>0&&w<=v&&E.push("Half Day hours must be greater than Quarter Day hours"),j&&_&&x>0&&v>0&&x<=v&&E.push("Full Day hours must be greater than Quarter Day hours"),E.length>0?s.jsx("div",{className:"space-y-1",children:E.map((T,D)=>s.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded border border-red-200",children:T},D))}):null})()]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Qe,{control:g.control,name:"leaveVariantName",render:({field:x})=>s.jsxs(Ke,{children:[s.jsxs(mt,{children:["Comp-off Variant Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{children:s.jsx(pt,{placeholder:"eg. For Factory Employees in Karnataka",className:!x.value||x.value.trim()===""?"border-red-300":"",...x})}),(!x.value||x.value.trim()==="")&&s.jsx("span",{className:"text-xs text-red-500",children:"Comp-off variant name is required and cannot be left blank"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create tailored comp-off policies for specific groups of employees using variants"}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:g.control,name:"description",render:({field:x})=>s.jsxs(Ke,{children:[s.jsxs(mt,{children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"eg. Earn comp-offs for working extra hours and use them for time off",rows:3,className:!x.value||x.value.trim()===""?"border-red-300":"",...x})}),(!x.value||x.value.trim()==="")&&s.jsx("span",{className:"text-xs text-red-500",children:"Description is required and cannot be left blank"}),s.jsx(yt,{})]})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Eligibility Criteria"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Maximum Comp-Off applications"}),s.jsx(Qe,{control:g.control,name:"maxApplications",render:({field:x})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(pt,{type:"number",className:"w-20",min:"0",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(applications)"}),s.jsx("span",{className:"text-sm",children:"in a"}),s.jsx(Qe,{control:g.control,name:"maxApplicationsPeriod",render:({field:x})=>s.jsx(Ke,{children:s.jsxs(Dt,{onValueChange:x.onChange,defaultValue:x.value,children:[s.jsx(at,{children:s.jsx(At,{className:"w-32",children:s.jsx(kt,{})})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Month",children:"Month"}),s.jsx(_e,{value:"Quarter",children:"Quarter"}),s.jsx(_e,{value:"Year",children:"Year"})]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Does this require a review workflow for approval?"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",variant:g.watch("workflowRequired")?"default":"outline",className:`px-4 py-1 text-sm ${g.watch("workflowRequired")?"bg-green-600 text-white":""}`,onClick:()=>g.setValue("workflowRequired",!0),children:"Workflow"}),s.jsx(ne,{type:"button",variant:g.watch("workflowRequired")?"outline":"default",className:`px-4 py-1 text-sm ${g.watch("workflowRequired")?"":"bg-green-600 text-white"}`,onClick:()=>g.setValue("workflowRequired",!1),children:"No Workflow"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Approval request should be made"}),s.jsx(Qe,{control:g.control,name:"approvalAdvanceDays",render:({field:x})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(pt,{type:"number",className:"w-20",min:"0",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx("span",{className:"text-sm",children:"in advance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Allow on non-working days?"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",variant:g.watch("allowNonWorkingDays")?"default":"outline",className:`px-4 py-1 text-sm ${g.watch("allowNonWorkingDays")?"bg-green-600 text-white":""}`,onClick:()=>g.setValue("allowNonWorkingDays",!0),children:"Allowed"}),s.jsx(ne,{type:"button",variant:g.watch("allowNonWorkingDays")?"outline":"default",className:`px-4 py-1 text-sm ${g.watch("allowNonWorkingDays")?"":"bg-green-600 text-white"}`,onClick:()=>g.setValue("allowNonWorkingDays",!1),children:"Not Allowed"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm",children:"Withdrawal of application allowed"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:g.watch("withdrawalBeforeApproval"),onCheckedChange:x=>{g.setValue("withdrawalBeforeApproval",!!x),x&&g.setValue("withdrawalNotAllowed",!1)}}),s.jsx("span",{className:"text-sm",children:"Before approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:g.watch("withdrawalAfterApproval"),onCheckedChange:x=>{g.setValue("withdrawalAfterApproval",!!x),x&&g.setValue("withdrawalNotAllowed",!1)}}),s.jsx("span",{className:"text-sm",children:"After approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{checked:g.watch("withdrawalNotAllowed"),onCheckedChange:x=>{g.setValue("withdrawalNotAllowed",!!x),x&&(g.setValue("withdrawalBeforeApproval",!1),g.setValue("withdrawalAfterApproval",!1))}}),s.jsx("span",{className:"text-sm",children:"Not allowed"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"During notice period, Comp-offs are"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{type:"button",variant:g.watch("allowedDuringNotice")?"default":"outline",className:`px-4 py-1 text-sm ${g.watch("allowedDuringNotice")?"bg-green-600 text-white":""}`,onClick:()=>g.setValue("allowedDuringNotice",!0),children:"Allowed"}),s.jsx(ne,{type:"button",variant:g.watch("allowedDuringNotice")?"outline":"default",className:`px-4 py-1 text-sm ${g.watch("allowedDuringNotice")?"":"bg-green-600 text-white"}`,onClick:()=>g.setValue("allowedDuringNotice",!1),children:"Not Allowed"})]})]})]})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Carry Forward and lapse"}),s.jsx(si,{checked:g.watch("enableCarryForward")||g.watch("enableLapse"),onCheckedChange:x=>{g.setValue("enableCarryForward",x),g.setValue("enableLapse",x)}})]})}),s.jsx(De,{className:"space-y-4",children:(g.watch("enableCarryForward")||g.watch("enableLapse"))&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Earned Comp-Off days will lapse in"}),s.jsx(Qe,{control:g.control,name:"lapsePeriod",render:({field:x})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(pt,{type:"number",className:"w-20",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})})})}),s.jsx(Qe,{control:g.control,name:"lapsePeriodUnit",render:({field:x})=>s.jsx(Ke,{children:s.jsxs(Dt,{onValueChange:x.onChange,defaultValue:x.value,children:[s.jsx(at,{children:s.jsx(At,{className:"w-32",children:s.jsx(kt,{})})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Days",children:"Days"}),s.jsx(_e,{value:"Month",children:"Month"}),s.jsx(_e,{value:"Quarter",children:"Quarter"}),s.jsx(_e,{value:"Year",children:"Year"})]})]})})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Carry forward to next cycle"}),s.jsx(Qe,{control:g.control,name:"carryForwardDays",render:({field:x})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(pt,{type:"number",className:"w-20",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"})]})]})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Compensation"}),s.jsx(si,{checked:g.watch("enableCompensation"),onCheckedChange:x=>g.setValue("enableCompensation",x)})]})}),s.jsx(De,{className:"space-y-4",children:g.watch("enableCompensation")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Maximum days that can be encashed"}),s.jsx(Qe,{control:g.control,name:"maxEncashmentDays",render:({field:x})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(pt,{type:"number",className:"w-20",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx(Qe,{control:g.control,name:"maxEncashmentHours",render:({field:x})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(pt,{type:"number",className:"w-20",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(hours)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm",children:"Compensation options"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(Qe,{control:g.control,name:"encashmentOption",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(at,{children:s.jsx(Ft,{checked:x.value,onCheckedChange:x.onChange})}),s.jsx(mt,{className:"text-sm",children:"En-cashment"})]})}),s.jsx(Qe,{control:g.control,name:"convertToLeavesOption",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(at,{children:s.jsx(Ft,{checked:x.value,onCheckedChange:x.onChange})}),s.jsx(mt,{className:"text-sm",children:"Convert to leaves"})]})})]})]}),g.watch("encashmentOption")&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-blue-200",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Encashment based on"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{control:g.control,name:"encashmentBasedOn",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(at,{children:s.jsx("input",{type:"radio",value:"basic_pay",checked:x.value==="basic_pay",onChange:()=>x.onChange("basic_pay")})}),s.jsx(mt,{className:"text-sm",children:"Basic Pay"})]})}),s.jsx(Qe,{control:g.control,name:"encashmentBasedOn",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(at,{children:s.jsx("input",{type:"radio",value:"basic_plus_dearness_allowance",checked:x.value==="basic_plus_dearness_allowance",onChange:()=>x.onChange("basic_plus_dearness_allowance")})}),s.jsx(mt,{className:"text-sm",children:"Basic + Dearness Allowance"})]})}),s.jsx(Qe,{control:g.control,name:"encashmentBasedOn",render:({field:x})=>s.jsxs(Ke,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(at,{children:s.jsx("input",{type:"radio",value:"gross_pay",checked:x.value==="gross_pay",onChange:()=>x.onChange("gross_pay")})}),s.jsx(mt,{className:"text-sm",children:"Gross Pay"})]})})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Max encashment"}),s.jsx(Qe,{control:g.control,name:"maxEncashmentDays",render:({field:x})=>s.jsx(Ke,{children:s.jsx(at,{children:s.jsx(pt,{type:"number",min:"0",className:"w-20",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"})]})]}),g.watch("convertToLeavesOption")&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Convert to which leave types"}),s.jsxs("div",{className:"space-y-2",children:[m.map(x=>s.jsx(Qe,{control:g.control,name:"convertibleLeaveTypes",render:({field:w})=>{var v;return s.jsxs(Ke,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(at,{children:s.jsx(Ft,{checked:((v=w.value)==null?void 0:v.includes(x.id))||!1,onCheckedChange:j=>{const S=w.value||[];j?w.onChange([...S,x.id]):w.onChange(S.filter(_=>_!==x.id))}})}),s.jsx(mt,{className:"text-sm",children:x.name})]})}},x.id)),m.length===0&&s.jsx("div",{className:"text-sm text-gray-500 italic",children:"No leave types with variants available"})]})]})})]})]})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Et,{children:"Assign to Employees"}),s.jsxs(ne,{variant:"outline",type:"button",onClick:()=>a(!0),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Assign Employees"]})]})}),i.length>0&&s.jsx(De,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.length," employee",i.length>1?"s":""," assigned"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.slice(0,3).map((x,w)=>s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-blue-600",children:(x.name||x.user_name||`Employee ${x.user_id}`).charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-xs text-gray-700",children:x.name||x.user_name||`Employee ${x.user_id}`})]},x.user_id)),i.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",i.length-3," more"]})]})]})})]}),s.jsxs("div",{className:"flex justify-between p-8 mt-4 border-t bg-gray-50 sticky bottom-0",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{variant:"outline",onClick:t,type:"button",className:"px-6 py-3 min-h-[44px]",children:"Discard"}),(e==null?void 0:e.id)&&s.jsx(ne,{variant:"destructive",onClick:()=>{console.log("Delete variant:",e.id)},type:"button",className:"px-6 py-3 min-h-[44px]",children:"Delete Variant"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(ne,{type:"button",onClick:()=>{console.log("Update button clicked - triggering manual form submission");const x=g.getValues();console.log("Current form values:",x),y(x)},disabled:p.isPending,className:"px-6 py-3 min-h-[44px]",children:p.isPending?"Saving...":e?"Update Comp-off Variant":"Create Comp-off Variant"})})]})]})})})]})})}function W6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const{toast:a}=qr(),[i,o]=N.useState(!0),[l,c]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(!1),[m,g]=N.useState({}),[p,y]=N.useState(null),{data:b=[]}=Fe({queryKey:["/api/comp-off-variants"]}),x=b,[w,v]=N.useState([]);N.useEffect(()=>{(async()=>{try{const P=(await ji()).map(Xf);console.log("CompOffSetup: External API loaded employees:",P.length),v(P)}catch(I){console.error("CompOffSetup: Error loading employees from external API:",I),v([])}})()},[]),N.useEffect(()=>{x&&x.length>0&&(async()=>{const I={};for(const P of x)try{const C=await fetch(`/api/employee-assignments/comp-off-variant/${P.id}`,{credentials:"include"});if(C.ok){const F=await C.json();if(console.log(`CompOff assignments for variant ${P.id}:`,F),Array.isArray(F)&&F.length>0){const R=F.map(L=>L.userId);console.log(`CompOff assigned user IDs for variant ${P.id}:`,R);const se=w.filter(L=>{const q=L.user_id||L.id,H=R.includes(q)||R.includes(q==null?void 0:q.toString());return H&&console.log(`CompOff employee matched: ${L.user_name||L.name} (ID: ${q})`),H});I[P.id]=se,console.log(`CompOff final assignments for variant ${P.id}:`,se)}}}catch(C){console.error(`Error loading assignments for variant ${P.id}:`,C)}g(I)})()},[x.length,w.length]);const{data:j}=Fe({queryKey:["/api/comp-off-config"]});N.useEffect(()=>{j&&typeof j=="object"&&"enabled"in j&&o(j.enabled!==!1)},[j]);const S=Bt({mutationFn:async B=>await Tt("POST","/api/comp-off-config",{enabled:B}),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/comp-off-config"]}),a({title:"Success",description:i?"Comp off enabled successfully.":"Comp off disabled successfully."})},onError:B=>{a({title:"Error",description:"Failed to update comp off configuration.",variant:"destructive"})}}),_=B=>{o(B),S.mutate(B)},E=()=>{d(null),c(!0)},T=B=>{d(B),c(!0)},D=B=>{y(B),h(!0)},O=async B=>{if(p)try{const I=B.map(P=>({userId:P.user_id||P.id,leaveVariantId:p.id,assignmentType:"comp_off_variant"}));console.log("CompOff Assignment payload:",I),await Tt("POST","/api/employee-assignments/bulk",{assignments:I}),g(P=>({...P,[p.id]:B})),a({title:"Success",description:`${B.length} employee${B.length>1?"s":""} assigned to ${p.leaveVariantName}.`})}catch{a({title:"Error",description:"Failed to save employee assignments.",variant:"destructive"})}h(!1),y(null)},A=Bt({mutationFn:async B=>await Tt("DELETE",`/api/comp-off-variants/${B}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/comp-off-variants"]}),a({title:"Success",description:"Comp-off variant deleted successfully."})},onError:B=>{a({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),M=B=>{B&&B.id&&confirm("Are you sure you want to delete this variant?")&&A.mutate(B.id)},U=()=>{e()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Comp off"}),s.jsx(si,{checked:i,onCheckedChange:_,className:"data-[state=checked]:bg-green-600"})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Variants"}),x.map(B=>{var I,P;return s.jsx(Ee,{className:"mb-4",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:B.name||B.leaveVariantName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Applied to ",((I=m[B.id])==null?void 0:I.length)||0," Employee",(((P=m[B.id])==null?void 0:P.length)||0)!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>D(B),children:[s.jsx(Vn,{className:"w-4 h-4 mr-1"}),"Assign Employees"]}),s.jsxs(ne,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:()=>M(B),children:["Delete",s.jsx(Ta,{className:"w-4 h-4 ml-1"})]}),s.jsxs(ne,{variant:"outline",size:"sm",className:"text-gray-600 border-gray-300 hover:bg-gray-50",onClick:()=>T(B),children:["Edit",s.jsx(Nu,{className:"w-4 h-4 ml-1"})]})]})]})})},B.id)}),x.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No comp off variants created yet."}),s.jsx("p",{className:"text-sm",children:'Click "Create Comp-off variant" to get started.'})]}),s.jsxs(ne,{variant:"outline",onClick:E,className:"text-green-600 border-green-600 hover:bg-green-50",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Comp-off variant"]})]}),s.jsxs("div",{className:"flex justify-between pt-8",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:t,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Previous"}),s.jsx(ne,{onClick:U,disabled:n,className:"bg-primary hover:bg-primary/90",children:r?"Complete Setup":"Next"})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(iee,{variant:u,onClose:()=>c(!1)})}),f&&s.jsx(n0,{onClose:()=>h(!1),onAssign:O,applicableGenders:[]})]})}function Oc({size:e="md",text:t="Loading...",className:r}){const n={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},a={sm:"text-sm",md:"text-base",lg:"text-lg"};return s.jsxs("div",{className:rt("flex flex-col items-center justify-center space-y-4",r),children:[s.jsx("div",{className:rt("relative",n[e]),children:s.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full animate-dance",children:[s.jsx("circle",{cx:"50",cy:"20",r:"8",fill:"currentColor",className:"text-blue-500"}),s.jsx("rect",{x:"46",y:"28",width:"8",height:"25",rx:"4",fill:"currentColor",className:"text-blue-500"}),s.jsx("rect",{x:"38",y:"32",width:"8",height:"3",rx:"1.5",fill:"currentColor",className:"text-blue-500 animate-wave-left"}),s.jsx("rect",{x:"54",y:"32",width:"8",height:"3",rx:"1.5",fill:"currentColor",className:"text-blue-500 animate-wave-right"}),s.jsx("rect",{x:"44",y:"53",width:"4",height:"20",rx:"2",fill:"currentColor",className:"text-blue-500 animate-kick-left"}),s.jsx("rect",{x:"52",y:"53",width:"4",height:"20",rx:"2",fill:"currentColor",className:"text-blue-500 animate-kick-right"}),s.jsx("ellipse",{cx:"44",cy:"78",rx:"6",ry:"3",fill:"currentColor",className:"text-blue-600 animate-step-left"}),s.jsx("ellipse",{cx:"54",cy:"78",rx:"6",ry:"3",fill:"currentColor",className:"text-blue-600 animate-step-right"})]})}),t&&s.jsx("p",{className:rt("text-gray-600 font-medium animate-pulse",a[e]),children:t})]})}function oee({text:e="Loading..."}){return s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx(Oc,{size:"lg",text:e})})}function lee({text:e,className:t}){return s.jsx("div",{className:rt("flex items-center justify-center py-8",t),children:s.jsx(Oc,{size:"md",text:e})})}function cee({variant:e,onClose:t}){const{toast:r}=qr(),n=!!e,[a,i]=N.useState(!1),[o,l]=N.useState([]),[c,u]=N.useState((e==null?void 0:e.halfDay)||!1),[d,f]=N.useState((e==null?void 0:e.quarterDay)||!1),[h,m]=N.useState((e==null?void 0:e.hours)||!1),[g,p]=N.useState((e==null?void 0:e.workflowRequired)||!1),[y,b]=N.useState((e==null?void 0:e.noticePeriodAllowed)||!0),[x,w]=N.useState((e==null?void 0:e.documentsRequired)||!1),[v,j]=N.useState((e==null?void 0:e.lossOfPay)||!0),[S,_]=N.useState((e==null?void 0:e.deductHalfDay)||!1),[E,T]=N.useState((e==null?void 0:e.deductQuarterDay)||!1),[D,O]=N.useState((e==null?void 0:e.deductHours)||!1),[A,M]=N.useState((e==null?void 0:e.applicableAfterType)||"date_of_joining"),[U,B]=N.useState((e==null?void 0:e.withdrawalBeforeApproval)!==!1),[I,P]=N.useState((e==null?void 0:e.withdrawalAfterApproval)||!1),[C,F]=N.useState((e==null?void 0:e.withdrawalNotAllowed)||!1),[R,se]=N.useState([]),[L,q]=N.useState((e==null?void 0:e.documentDescription)||""),H=W=>{B(W),W&&C&&F(!1)},K=W=>{P(W),W&&C&&F(!1)},ce=W=>{F(W),W&&(B(!1),P(!1))},{data:ue=[]}=Fe({queryKey:[`/api/employee-assignments/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),[ge,le]=N.useState([]),{data:X=[]}=Fe({queryKey:["/api/leave-types"],staleTime:5*60*1e3});N.useEffect(()=>{(async()=>{try{const we=(await ji()).map(Xf);le(we)}catch(be){console.error("Error loading employees:",be)}})()},[]),N.useEffect(()=>{if(Array.isArray(ue)&&ue.length>0)if(console.log("PTO Edit - Existing assignments:",ue),console.log("PTO Edit - All employees count:",ge.length),ge.length>0){const W=ue.map(we=>we.userId),be=ge.filter(we=>{const z=W.includes(we.user_id),J=W.includes(we.id);return z||J});console.log("PTO Edit - Matched employees from external API:",be),l(be)}else{const W=ue.map(be=>({user_id:be.userId,id:be.userId,user_name:`Employee ${be.userId}`,name:`Employee ${be.userId}`,first_name:"Employee",last_name:be.userId,email:`employee${be.userId}@company.com`,employeeNumber:be.userId,designation:"Employee",dateOfJoining:new Date().toISOString(),userRole:"employee",workerType:"regular",profilePhoto:null,phoneNumber:null,dateOfBirth:new Date().toISOString(),gender:"Other",reportingManager:null,leaveId:be.userId,isDifferentlyAbled:!1,lastWorkingDay:null,employee_number:be.userId}));console.log("PTO Edit - Using fallback employees:",W),l(W)}else Array.isArray(ue)&&ue.length===0&&l([])},[ue,ge,e==null?void 0:e.id]);const{register:xe,handleSubmit:he,formState:{errors:Me},reset:Pe}=us({defaultValues:{leaveVariantName:(e==null?void 0:e.leaveVariantName)||(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",applicableAfter:(e==null?void 0:e.applicableAfter)||0,approvalDays:(e==null?void 0:e.approvalDays)||0,minimumHours:(e==null?void 0:e.minimumHours)||0,maxHours:(e==null?void 0:e.maxHours)||0,maxInstances:(e==null?void 0:e.maxInstances)||0,maxInstancesPeriod:(e==null?void 0:e.maxInstancesPeriod)||"Month",documentDescription:(e==null?void 0:e.documentDescription)||"",grantingPeriod:(e==null?void 0:e.grantingPeriod)||"Yearly"}});N.useEffect(()=>{e&&(console.log("PTO Form - Loading variant data:",e),u(e.halfDay||!1),f(e.quarterDay||!1),m(e.hours||!1),p(e.workflowRequired||!1),b(e.noticePeriodAllowed!==!1),w(e.documentsRequired||!1),j(e.lossOfPay!==!1),_(e.deductHalfDay||!1),T(e.deductQuarterDay||!1),O(e.deductHours||!1),M(e.applicableAfterType||"date_of_joining"),B(e.withdrawalBeforeApproval!==!1),P(e.withdrawalAfterApproval||!1),F(e.withdrawalNotAllowed||!1),se(e.deductibleLeaveTypes||[]),q(e.documentDescription||""),Pe({leaveVariantName:e.name||"",description:e.description||"",applicableAfter:e.applicableAfter||0,approvalDays:e.approvalDays||0,minimumHours:e.minimumHours||0,maxHours:e.maxHours||0,maxInstances:e.maxInstances||0,maxInstancesPeriod:e.maxInstancesPeriod||"Month",documentDescription:e.documentDescription||"",grantingPeriod:e.grantingPeriod||"Yearly"}),console.log("PTO Form - Loaded applicableAfterType:",e.applicableAfterType||"date_of_joining"))},[e,Pe]);const Be=Bt({mutationFn:async W=>{const be={name:W.leaveVariantName,description:W.description,enabled:!0,halfDay:c,quarterDay:d,hours:h,workflowRequired:g,documentsRequired:x,noticePeriodAllowed:y,applicableAfterType:A,applicableAfter:W.applicableAfter||0,approvalDays:W.approvalDays||0,minimumHours:W.minimumHours||0,maxHours:W.maxHours||0,maxInstances:W.maxInstances||0,maxInstancesPeriod:W.maxInstancesPeriod||"Month",grantingPeriod:W.grantingPeriod||"Yearly",lossOfPay:v,deductHalfDay:S,deductQuarterDay:E,deductHours:D,withdrawalBeforeApproval:U,withdrawalAfterApproval:I,withdrawalNotAllowed:C,deductibleLeaveTypes:R,documentDescription:L};console.log("PTO Variant Form - Submission payload:",be);const we=n?await Tt("PATCH",`/api/pto-variants/${e.id}`,be):await Tt("POST","/api/pto-variants",be);if(!n&&o.length>0&&(we!=null&&we.id)){const z=o.map(J=>({userId:J.user_id||J.id,leaveVariantId:we.id,assignmentType:"pto_variant"}));console.log("PTO new variant assignment payload:",z),await Tt("POST","/api/employee-assignments/bulk",{assignments:z})}return we},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/pto-variants"]}),qe.invalidateQueries({queryKey:["/api/employee-assignments"]}),r({title:"Success",description:`PTO variant ${n?"updated":"created"} successfully.`}),t()},onError:()=>{r({title:"Error",description:`Failed to ${n?"update":"create"} PTO variant.`,variant:"destructive"})}}),Ie=W=>{var we,z;if(!((we=W.leaveVariantName)!=null&&we.trim())){r({title:"Validation Error",description:"PTO Variant Name is required.",variant:"destructive"});return}if(!((z=W.description)!=null&&z.trim())){r({title:"Validation Error",description:"Description is required.",variant:"destructive"});return}if(x&&!L.trim()){r({title:"Validation Error",description:"Document description is required when supporting documents are required.",variant:"destructive"});return}const be={...W,name:W.leaveVariantName,halfDay:c,quarterDay:d,hours:h,workflowRequired:g,noticePeriodAllowed:y,documentsRequired:x,lossOfPay:v,deductHalfDay:S,deductQuarterDay:E,deductHours:D};Be.mutate(be)};return s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto relative",children:[Be.isPending&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:s.jsx(Oc,{size:"lg",text:n?"Updating PTO variant...":"Creating PTO variant..."})}),s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Edit PTO Variant":"New PTO Variant"}),s.jsx(ne,{variant:"outline",onClick:t,className:"text-green-600 border-green-600 hover:bg-green-50",children:"Go Back"})]})}),s.jsx("form",{onSubmit:he(Ie),className:"p-6",children:s.jsxs("div",{className:"space-y-8",children:[s.jsx(Ee,{children:s.jsxs(De,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"PTO units allowed"}),s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"halfDay",className:"rounded",checked:c,onChange:W=>u(W.target.checked)}),s.jsx("label",{htmlFor:"halfDay",className:"text-sm font-medium",children:"Half Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"quarterDay",className:"rounded",checked:d,onChange:W=>f(W.target.checked)}),s.jsx("label",{htmlFor:"quarterDay",className:"text-sm font-medium",children:"Quarter Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"hours",className:"rounded",checked:h,onChange:W=>m(W.target.checked)}),s.jsx("label",{htmlFor:"hours",className:"text-sm font-medium",children:"Hours"})]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:["PTO Variant Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Create tailored PTO policies for specific groups of employees using variants"}),s.jsx("input",{...xe("leaveVariantName",{required:"PTO variant name is required"}),type:"text",placeholder:"eg. For Factory Employees",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${Me.leaveVariantName?"border-red-500":"border-gray-300"}`}),Me.leaveVariantName&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:Me.leaveVariantName.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{...xe("description",{required:"Description is required"}),placeholder:"eg. Need time off for personal errands? Use PTO.",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px] ${Me.description?"border-red-500":"border-gray-300"}`}),Me.description&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:Me.description.message})]})]}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Eligibility Criteria"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Applicable after"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"probation_end",name:"applicableAfterType",value:"probation_end",checked:A==="probation_end",onChange:()=>M("probation_end"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"probation_end",className:"text-sm",children:"Probation period ends"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"date_of_joining",name:"applicableAfterType",value:"date_of_joining",checked:A==="date_of_joining",onChange:()=>M("date_of_joining"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"date_of_joining",className:"text-sm",children:"On date of joining"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"days",name:"applicableAfterType",value:"days",checked:A==="days",onChange:()=>M("days"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"days",className:"text-sm",children:"Specified number of days:"}),s.jsx("input",{...xe("applicableAfter",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0",disabled:A!=="days",placeholder:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days) from date of joining"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Does this require a review workflow for approval?"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",onClick:()=>p(!0),className:g?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Workflow"}),s.jsx(ne,{type:"button",size:"sm",onClick:()=>p(!1),className:g?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"No Workflow"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"If leave you select 'No workflow' then PTO will be auto-approved and leave balance will be deducted immediately."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Withdrawal of application allowed"}),g?s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:U,onChange:W=>H(W.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Before approval"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:I,onChange:W=>K(W.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"After approval"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:W=>ce(W.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Not allowed"})]})]}):s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:!C,onChange:W=>{W.target.checked?(F(!1),B(!0)):(F(!0),B(!1),P(!1))},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Allowed"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:W=>{W.target.checked?(F(!0),B(!1),P(!1)):(F(!1),B(!0))},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Not allowed"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Approval request should be made"}),s.jsx("input",{...xe("approvalDays",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx("span",{className:"text-sm text-gray-700",children:"in advance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Minimum hours required"}),s.jsx("input",{...xe("minimumHours",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(hours)"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Max hours allowed"}),s.jsx("input",{...xe("maxHours",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(hours)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Max instances"}),s.jsx("input",{...xe("maxInstances",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx("span",{className:"text-sm text-gray-700",children:"in a"}),s.jsxs("select",{...xe("maxInstancesPeriod"),className:"px-3 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Month",children:"Month"}),s.jsx("option",{value:"Quarter",children:"Quarter"}),s.jsx("option",{value:"Year",children:"Year"})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"If the value is 0, it is understood that there is no limit."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"During notice period, PTO is"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",onClick:()=>b(!0),className:y?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Allowed"}),s.jsx(ne,{type:"button",size:"sm",onClick:()=>b(!1),className:y?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"Not Allowed"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Supporting documents are"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",onClick:()=>w(!0),className:x?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Required"}),s.jsx(ne,{type:"button",size:"sm",onClick:()=>w(!1),className:x?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"Not Required"})]}),x&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-sm text-gray-700",children:["Document Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:L,onChange:W=>q(W.target.value),placeholder:"Enter the details of the documents to be added. This message will be displayed to your employees while uploading documents.",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px] ${x&&!L.trim()?"border-red-500 focus:ring-red-500":"border-gray-300"}`}),x&&!L.trim()&&s.jsx("p",{className:"text-xs text-red-500",children:"Description is required when supporting documents are required."})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"If Max. PTO instances/ hours are crossed"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ne,{type:"button",size:"sm",onClick:()=>j(!0),className:v?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Loss of Pay"}),s.jsx(ne,{type:"button",size:"sm",onClick:()=>j(!1),className:v?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"Deduct from Leave Balance"})]})]}),v&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Deduct Pay for"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"deductHalfDay",className:"rounded",checked:S,onChange:W=>_(W.target.checked)}),s.jsx("label",{htmlFor:"deductHalfDay",className:"text-sm",children:"Half Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"deductQuarterDay",className:"rounded",checked:E,onChange:W=>T(W.target.checked)}),s.jsx("label",{htmlFor:"deductQuarterDay",className:"text-sm",children:"Quarter Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"deductHours",className:"rounded",checked:D,onChange:W=>O(W.target.checked)}),s.jsx("label",{htmlFor:"deductHours",className:"text-sm",children:"Hours"})]})]})]}),!v&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Select leave types to deduct from:"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded p-3",children:X.filter(W=>W.enabled!==!1).map(W=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:R.includes(W.id.toString()),onChange:be=>{be.target.checked?se([...R,W.id.toString()]):se(R.filter(we=>we!==W.id.toString()))},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:W.name})]},W.id))}),R.length===0&&s.jsx("p",{className:"text-xs text-red-500",children:"Please select at least one leave type for deduction."})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"PTO will be granted"}),s.jsxs("select",{...xe("grantingPeriod"),className:"px-3 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Yearly",children:"Yearly"}),s.jsx("option",{value:"Half yearly",children:"Half yearly"}),s.jsx("option",{value:"Quarterly",children:"Quarterly"}),s.jsx("option",{value:"Monthly",children:"Monthly"})]})]})]})]})]})}),s.jsxs(Ee,{children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Et,{className:"text-lg",children:"Assign to Employees"}),s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>i(!0),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),o.length>0?"Edit Assignment":"Assign Employees"]})]}),o.length>0&&s.jsx(De,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[o.length," employee",o.length>1?"s":""," assigned"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.slice(0,3).map((W,be)=>s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-blue-600",children:(W.user_name||W.name||`${W.firstName||""} ${W.lastName||""}`.trim()||W.employeeNumber||W.user_id).charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-xs text-gray-700",children:W.user_name||W.name||`${W.firstName||""} ${W.lastName||""}`.trim()||W.employeeNumber||W.user_id})]},W.user_id)),o.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",o.length-3," more"]})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:t,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Discard"}),s.jsx(ne,{type:"submit",disabled:Be.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:Be.isPending?"Processing...":n?"Update Variant":"Create Variant"})]})]})}),a&&s.jsx(n0,{onClose:()=>i(!1),preSelectedEmployees:o,applicableGenders:[],onAssign:async W=>{try{if(!(e!=null&&e.id)){l(W),r({title:"Success",description:`${W.length} employee${W.length>1?"s":""} will be assigned when variant is created.`});return}const be=W.map(we=>({userId:we.user_id||we.id,leaveVariantId:e.id,assignmentType:"pto_variant"}));console.log("PTO Assignment payload:",be),await Tt("POST","/api/employee-assignments/bulk",{assignments:be}),l(W),qe.invalidateQueries({queryKey:[`/api/employee-assignments/${e.id}`]}),r({title:"Success",description:`${W.length} employee${W.length>1?"s":""} assigned successfully.`})}catch{r({title:"Error",description:"Failed to save employee assignments.",variant:"destructive"})}}})]})}function H6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const{toast:a}=qr(),[i,o]=N.useState(!0),[l,c]=N.useState(!1),[u,d]=N.useState(null),{data:f}=Fe({queryKey:["/api/pto-config"]}),{data:h=[]}=Fe({queryKey:["/api/pto-variants"]});N.useEffect(()=>{f&&typeof f=="object"&&"enabled"in f&&o(f.enabled!==!1)},[f]);const m=Bt({mutationFn:async v=>await Tt("POST","/api/pto-config",{enabled:v}),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/pto-config"]}),a({title:"Success",description:i?"PTO enabled successfully.":"PTO disabled successfully."})},onError:v=>{a({title:"Error",description:"Failed to update PTO configuration.",variant:"destructive"})}}),g=Bt({mutationFn:async v=>await Tt("DELETE",`/api/pto-variants/${v}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/pto-variants"]}),a({title:"Success",description:"PTO variant deleted successfully."})}}),p=v=>{o(v),m.mutate(v)},y=()=>{d(null),c(!0)},b=v=>{d(v),c(!0)},x=v=>{v&&v.id&&confirm("Are you sure you want to delete this variant?")&&g.mutate(v.id)},w=()=>{e()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"PTO (Paid Time Off)"}),s.jsx(si,{checked:i,onCheckedChange:p,className:"data-[state=checked]:bg-green-600"})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Variants"}),Array.isArray(h)&&h.map(v=>s.jsx(Ee,{className:"mb-4",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:v.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"PTO Variant"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:()=>x(v),children:["Delete",s.jsx(Ta,{className:"w-4 h-4 ml-1"})]}),s.jsxs(ne,{variant:"outline",size:"sm",className:"text-gray-600 border-gray-300 hover:bg-gray-50",onClick:()=>b(v),children:["Edit",s.jsx(Nu,{className:"w-4 h-4 ml-1"})]})]})]})})},v.id)),(!Array.isArray(h)||h.length===0)&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No PTO variants created yet."}),s.jsx("p",{className:"text-sm",children:'Click "Create PTO variant" to get started.'})]}),s.jsxs(ne,{variant:"outline",onClick:y,className:"text-green-600 border-green-600 hover:bg-green-50",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create PTO variant"]})]}),s.jsxs("div",{className:"flex justify-between pt-8",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:t,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Previous"}),s.jsx(ne,{onClick:w,disabled:n,className:"bg-primary hover:bg-primary/90",children:r?"Complete Setup":"Next"})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(cee,{variant:u,onClose:()=>c(!1)})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ax={};Ax.version="0.18.5";var z6=1252,uee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],q6=function(e){uee.indexOf(e)!=-1&&(z6=e)};function dee(){q6(1252)}var Wm=function(e){q6(e)};function fee(){Wm(1200),dee()}var K0=function(t){return String.fromCharCode(t)},nD=function(t){return String.fromCharCode(t)},Cx,Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Hm(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=Tl.charAt(i)+Tl.charAt(o)+Tl.charAt(l)+Tl.charAt(c);return t}function Bo(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Tl.indexOf(e.charAt(u++)),o=Tl.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Tl.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Tl.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var hr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),qo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function fu(e){return hr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function aD(e){return hr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ii=function(t){return hr?qo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Mv(e){if(typeof ArrayBuffer>"u")return ii(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function a0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function hee(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Jn=hr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:qo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function mee(e){for(var t=[],r=0,n=e.length+250,a=fu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=fu(65535),n=65530)}return t.push(a.slice(0,r)),Jn(t)}var cm=/\u0000/g,Y0=/[\u0001-\u0006]/g;function Ad(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ui(e,t){var r=""+e;return r.length>=t?r:Jr("0",t-r.length)+r}function P2(e,t){var r=""+e;return r.length>=t?r:Jr(" ",t-r.length)+r}function Dx(e,t){var r=""+e;return r.length>=t?r:r+Jr(" ",t-r.length)}function pee(e,t){var r=""+Math.round(e);return r.length>=t?r:Jr("0",t-r.length)+r}function gee(e,t){var r=""+e;return r.length>=t?r:Jr("0",t-r.length)+r}var sD=Math.pow(2,32);function Gu(e,t){if(e>sD||e<-sD)return pee(e,t);var r=Math.round(e);return gee(r,t)}function kx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var iD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xee(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var en={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},oD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ox(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function X0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=_ee(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var G6=new Date(1899,11,31,0,0,0),vee=G6.getTime(),wee=new Date(1900,2,1,0,0,0);function K6(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=wee&&(r+=24*60*60*1e3),(r-(vee+(e.getTimezoneOffset()-G6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function I2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bee(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function jee(e){var t=e<0?12:11,r=I2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function See(e){var t=I2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Nee(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=jee(e):t===10?r=e.toFixed(10).substr(0,12):r=See(e),I2(bee(r.toUpperCase()))}function eS(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Nee(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ec(14,K6(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function _ee(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Eee(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Mw[r.m-1][1];case 5:return Mw[r.m-1][0];default:return Mw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return iD[r.q][0];default:return iD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ui(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=ui(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?ui(c,u):"";return d}function Al(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Y6=/%/g;function Tee(e,t,r){var n=t.replace(Y6,""),a=t.length-n.length;return Eo(e,n,r*Math.pow(10,2*a))+Jr("%",a)}function Aee(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Eo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function X6(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+X6(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Q6=/# (\?+)( ?)\/( ?)(\d+)/;function Cee(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Jr(" ",e[1].length+1+e[4].length):P2(o,e[1].length)+e[2]+"/"+e[3]+ui(l,e[4].length))}function Dee(e,t,r){return r+(t===0?"":""+t)+Jr(" ",e[1].length+2+e[4].length)}var J6=/^#*0*\.([0#]+)/,Z6=/\).*[0#]/,e5=/\(###\) ###\\?-####/;function _a(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function lD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function cD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function kee(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Oee(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Es(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Z6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Es("n",n,r):"("+Es("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Aee(e,t,r);if(t.indexOf("%")!==-1)return Tee(e,t,r);if(t.indexOf("E")!==-1)return X6(t,r);if(t.charCodeAt(0)===36)return"$"+Es(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Gu(c,t.length);if(t.match(/^[#?]+$/))return a=Gu(r,0),a==="0"&&(a=""),a.length>t.length?a:_a(t.substr(0,t.length-a.length))+a;if(i=t.match(Q6))return Cee(i,c,u);if(t.match(/^#+0+$/))return u+Gu(c,t.length-t.indexOf("0"));if(i=t.match(J6))return a=lD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+_a(i[1])).replace(/\.$/,"."+_a(i[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Jr("0",_a(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+lD(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Al(Gu(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Es(e,t,-r):Al(""+(Math.floor(r)+kee(r,i[1].length)))+"."+ui(cD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Es(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ad(Es(e,t.replace(/[\\-]/g,""),r)),o=0,Ad(Ad(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(e5))return a=Es(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Ox(c,Math.pow(10,o)-1,!1),a=""+u,d=Eo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Dx(l[2],o),d.length<i[4].length&&(d=_a(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Ox(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?P2(l[1],o)+i[2]+"/"+i[3]+Dx(l[2],o):Jr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Gu(r,0),t.length<=a.length?a:_a(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return _a(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=cD(r,i[1].length),r<0?"-"+Es(e,t,-r):Al(Oee(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ui(0,3-g.length):"")+g})+"."+ui(o,i[1].length);switch(t){case"###,##0.00":return Es(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Al(Gu(c,0));return m!=="0"?u+m:"";case"###,###.00":return Es(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Es(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Pee(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Eo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Iee(e,t,r){var n=t.replace(Y6,""),a=t.length-n.length;return Eo(e,n,r*Math.pow(10,2*a))+Jr("%",a)}function t5(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+t5(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ci(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Z6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ci("n",n,r):"("+Ci("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Pee(e,t,r);if(t.indexOf("%")!==-1)return Iee(e,t,r);if(t.indexOf("E")!==-1)return t5(t,r);if(t.charCodeAt(0)===36)return"$"+Ci(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ui(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:_a(t.substr(0,t.length-a.length))+a;if(i=t.match(Q6))return Dee(i,c,u);if(t.match(/^#+0+$/))return u+ui(c,t.length-t.indexOf("0"));if(i=t.match(J6))return a=(""+r).replace(/^([^\.]+)$/,"$1."+_a(i[1])).replace(/\.$/,"."+_a(i[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+Jr("0",_a(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Al(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ci(e,t,-r):Al(""+r)+"."+Jr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ci(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ad(Ci(e,t.replace(/[\\-]/g,""),r)),o=0,Ad(Ad(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(e5))return a=Ci(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Ox(c,Math.pow(10,o)-1,!1),a=""+u,d=Eo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Dx(l[2],o),d.length<i[4].length&&(d=_a(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Ox(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?P2(l[1],o)+i[2]+"/"+i[3]+Dx(l[2],o):Jr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:_a(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return _a(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ci(e,t,-r):Al(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ui(0,3-g.length):"")+g})+"."+ui(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Al(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Ci(e,t.slice(0,t.lastIndexOf(".")),r)+_a(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Eo(e,t,r){return(r|0)===r?Ci(e,t,r):Es(e,t,r)}function Ree(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var r5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function n5(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":kx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(r5))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Mee(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!kx(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=X0(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=X0(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var p={t:l,v:l};if(u==null&&(u=X0(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(p.v=u.H>=12?"下午":"上午"),p.t="T",o+=5,h="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(r5)){if(u==null&&(u=X0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",n5(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var y=0,b=0,x;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",y<1&&(y=1);break;case"s":(x=a[o].v.match(/\.0+$/))&&(b=Math.max(b,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[o].v.match(/[Hh]/)&&(y=1),y<2&&a[o].v.match(/[Mm]/)&&(y=2),y<3&&a[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",v;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Eee(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(v=o+1;a[v]!=null&&((l=a[v].t)==="?"||l==="D"||(l===" "||l==="t")&&a[v+1]!=null&&(a[v+1].t==="?"||a[v+1].t==="t"&&a[v+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[v].v==="/"||a[v].v===" "&&a[v+1]!=null&&a[v+1].t=="?"));)a[o].v+=a[v].v,a[v]={v:"",t:";"},++v;w+=a[o].v,o=v-1;break;case"G":a[o].t="t",a[o].v=eS(t,r);break}var j="",S,_;if(w.length>0){w.charCodeAt(0)==40?(S=t<0&&w.charCodeAt(0)===45?-t:t,_=Eo("n",w,S)):(S=t<0&&n>1?-t:t,_=Eo("n",w,S),S<0&&a[0]&&a[0].t=="t"&&(_=_.substr(1),a[0].v="-"+a[0].v)),v=_.length-1;var E=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){E=o;break}var T=a.length;if(E===a.length&&_.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(v>=a[o].v.length-1?(v-=a[o].v.length,a[o].v=_.substr(v+1,a[o].v.length)):v<0?a[o].v="":(a[o].v=_.substr(0,v+1),v=-1),a[o].t="t",T=o);v>=0&&T<a.length&&(a[T].v=_.substr(0,v+1)+a[T].v)}else if(E!==a.length&&_.indexOf("E")===-1){for(v=_.indexOf(".")-1,o=E;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(d+1);d>=0;--d)v>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(j=_.charAt(v--)+j);a[o].v=j,a[o].t="t",T=o}for(v>=0&&T<a.length&&(a[T].v=_.substr(0,v+1)+a[T].v),v=_.indexOf(".")+1,o=E;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==E)){for(d=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,d);d<a[o].v.length;++d)v<_.length&&(j+=_.charAt(v++));a[o].v=j,a[o].t="t",T=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Eo(a[o].t,a[o].v,S),a[o].t="t");var D="";for(o=0;o!==a.length;++o)a[o]!=null&&(D+=a[o].v);return D}var uD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Fee(e,t){var r=Ree(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(uD),l=r[1].match(uD);return dD(t,o)?[n,r[0]]:dD(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function ec(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:en)[e],n==null&&(n=r.table&&r.table[oD[e]]||en[oD[e]]),n==null&&(n=yee[e]||"General");break}if(kx(n,0))return eS(t,r);t instanceof Date&&(t=K6(t,r.date1904));var a=Fee(n,t);if(kx(a[1]))return eS(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Mee(a[1],t,r,a[0])}function a5(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(en[r]==null){t<0&&(t=r);continue}if(en[r]==e){t=r;break}}t<0&&(t=391)}return en[t]=e,t}function Fv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&a5(e[t],t)}function Lv(){en=xee()}var s5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Lee(e){var t=typeof e=="number"?en[e]:e;return t=t.replace(s5,"(\\d+)"),new RegExp("^"+t+"$")}function $ee(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(s5)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var Bee=function(){var e={};e.version="1.2.0";function t(){for(var _=0,E=new Array(256),T=0;T!=256;++T)_=T,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,E[T]=_;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(_){var E=0,T=0,D=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)O[D]=_[D];for(D=0;D!=256;++D)for(T=_[D],E=256+D;E<4096;E+=256)T=O[E]=T>>>8^_[T&255];var A=[];for(D=1;D!=16;++D)A[D-1]=typeof Int32Array<"u"?O.subarray(D*256,D*256+256):O.slice(D*256,D*256+256);return A}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],y=a[11],b=a[12],x=a[13],w=a[14];function v(_,E){for(var T=E^-1,D=0,O=_.length;D<O;)T=T>>>8^r[(T^_.charCodeAt(D++))&255];return~T}function j(_,E){for(var T=E^-1,D=_.length-15,O=0;O<D;)T=w[_[O++]^T&255]^x[_[O++]^T>>8&255]^b[_[O++]^T>>16&255]^y[_[O++]^T>>>24]^p[_[O++]]^g[_[O++]]^m[_[O++]]^h[_[O++]]^f[_[O++]]^d[_[O++]]^u[_[O++]]^c[_[O++]]^l[_[O++]]^o[_[O++]]^i[_[O++]]^r[_[O++]];for(D+=15;O<D;)T=T>>>8^r[(T^_[O++])&255];return~T}function S(_,E){for(var T=E^-1,D=0,O=_.length,A=0,M=0;D<O;)A=_.charCodeAt(D++),A<128?T=T>>>8^r[(T^A)&255]:A<2048?(T=T>>>8^r[(T^(192|A>>6&31))&255],T=T>>>8^r[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,M=_.charCodeAt(D++)&1023,T=T>>>8^r[(T^(240|A>>8&7))&255],T=T>>>8^r[(T^(128|A>>2&63))&255],T=T>>>8^r[(T^(128|M>>6&15|(A&3)<<4))&255],T=T>>>8^r[(T^(128|M&63))&255]):(T=T>>>8^r[(T^(224|A>>12&15))&255],T=T>>>8^r[(T^(128|A>>6&63))&255],T=T>>>8^r[(T^(128|A&63))&255]);return~T}return e.table=r,e.bstr=v,e.buf=j,e.str=S,e}(),Dr=function(){var t={};t.version="1.2.1";function r(V,Z){for(var Y=V.split("/"),Q=Z.split("/"),te=0,k=0,G=Math.min(Y.length,Q.length);te<G;++te){if(k=Y[te].length-Q[te].length)return k;if(Y[te]!=Q[te])return Y[te]<Q[te]?-1:1}return Y.length-Q.length}function n(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:n(V.slice(0,-1));var Z=V.lastIndexOf("/");return Z===-1?V:V.slice(0,Z+1)}function a(V){if(V.charAt(V.length-1)=="/")return a(V.slice(0,-1));var Z=V.lastIndexOf("/");return Z===-1?V:V.slice(Z+1)}function i(V,Z){typeof Z=="string"&&(Z=new Date(Z));var Y=Z.getHours();Y=Y<<6|Z.getMinutes(),Y=Y<<5|Z.getSeconds()>>>1,V.write_shift(2,Y);var Q=Z.getFullYear()-1980;Q=Q<<4|Z.getMonth()+1,Q=Q<<5|Z.getDate(),V.write_shift(2,Q)}function o(V){var Z=V.read_shift(2)&65535,Y=V.read_shift(2)&65535,Q=new Date,te=Y&31;Y>>>=5;var k=Y&15;Y>>>=4,Q.setMilliseconds(0),Q.setFullYear(Y+1980),Q.setMonth(k-1),Q.setDate(te);var G=Z&31;Z>>>=5;var ee=Z&63;return Z>>>=6,Q.setHours(Z),Q.setMinutes(ee),Q.setSeconds(G<<1),Q}function l(V){rs(V,0);for(var Z={},Y=0;V.l<=V.length-4;){var Q=V.read_shift(2),te=V.read_shift(2),k=V.l+te,G={};switch(Q){case 21589:Y=V.read_shift(1),Y&1&&(G.mtime=V.read_shift(4)),te>5&&(Y&2&&(G.atime=V.read_shift(4)),Y&4&&(G.ctime=V.read_shift(4))),G.mtime&&(G.mt=new Date(G.mtime*1e3));break}V.l=k,Z[Q]=G}return Z}var c;function u(){return c||(c={})}function d(V,Z){if(V[0]==80&&V[1]==75)return Xo(V,Z);if((V[0]|32)==109&&(V[1]|32)==105)return on(V,Z);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var Y=3,Q=512,te=0,k=0,G=0,ee=0,re=0,ie=[],oe=V.slice(0,512);rs(oe,0);var Te=f(oe);switch(Y=Te[0],Y){case 3:Q=512;break;case 4:Q=4096;break;case 0:if(Te[1]==0)return Xo(V,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+Y)}Q!==512&&(oe=V.slice(0,Q),rs(oe,28));var Se=V.slice(0,Q);h(oe,Y);var Ne=oe.read_shift(4,"i");if(Y===3&&Ne!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ne);oe.l+=4,G=oe.read_shift(4,"i"),oe.l+=4,oe.chk("00100000","Mini Stream Cutoff Size: "),ee=oe.read_shift(4,"i"),te=oe.read_shift(4,"i"),re=oe.read_shift(4,"i"),k=oe.read_shift(4,"i");for(var je=-1,Oe=0;Oe<109&&(je=oe.read_shift(4,"i"),!(je<0));++Oe)ie[Oe]=je;var He=m(V,Q);y(re,k,He,Q,ie);var Je=x(He,G,ie,Q);Je[G].name="!Directory",te>0&&ee!==M&&(Je[ee].name="!MiniFAT"),Je[ie[0]].name="!FAT",Je.fat_addrs=ie,Je.ssz=Q;var Rt={},Wt=[],vn=[],rn=[];w(G,Je,He,Wt,te,Rt,vn,ee),g(vn,rn,Wt),Wt.shift();var bt={FileIndex:vn,FullPaths:rn};return Z&&Z.raw&&(bt.raw={header:Se,sectors:He}),bt}function f(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(U,"Header Signature: "),V.l+=16;var Z=V.read_shift(2,"u");return[V.read_shift(2,"u"),Z]}function h(V,Z){var Y=9;switch(V.l+=2,Y=V.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+Y);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+Y);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Y)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function m(V,Z){for(var Y=Math.ceil(V.length/Z)-1,Q=[],te=1;te<Y;++te)Q[te-1]=V.slice(te*Z,(te+1)*Z);return Q[Y-1]=V.slice(Y*Z),Q}function g(V,Z,Y){for(var Q=0,te=0,k=0,G=0,ee=0,re=Y.length,ie=[],oe=[];Q<re;++Q)ie[Q]=oe[Q]=Q,Z[Q]=Y[Q];for(;ee<oe.length;++ee)Q=oe[ee],te=V[Q].L,k=V[Q].R,G=V[Q].C,ie[Q]===Q&&(te!==-1&&ie[te]!==te&&(ie[Q]=ie[te]),k!==-1&&ie[k]!==k&&(ie[Q]=ie[k])),G!==-1&&(ie[G]=Q),te!==-1&&Q!=ie[Q]&&(ie[te]=ie[Q],oe.lastIndexOf(te)<ee&&oe.push(te)),k!==-1&&Q!=ie[Q]&&(ie[k]=ie[Q],oe.lastIndexOf(k)<ee&&oe.push(k));for(Q=1;Q<re;++Q)ie[Q]===Q&&(k!==-1&&ie[k]!==k?ie[Q]=ie[k]:te!==-1&&ie[te]!==te&&(ie[Q]=ie[te]));for(Q=1;Q<re;++Q)if(V[Q].type!==0){if(ee=Q,ee!=ie[ee])do ee=ie[ee],Z[Q]=Z[ee]+"/"+Z[Q];while(ee!==0&&ie[ee]!==-1&&ee!=ie[ee]);ie[Q]=-1}for(Z[0]+="/",Q=1;Q<re;++Q)V[Q].type!==2&&(Z[Q]+="/")}function p(V,Z,Y){for(var Q=V.start,te=V.size,k=[],G=Q;Y&&te>0&&G>=0;)k.push(Z.slice(G*A,G*A+A)),te-=A,G=Tc(Y,G*4);return k.length===0?Ae(0):Jn(k).slice(0,V.size)}function y(V,Z,Y,Q,te){var k=M;if(V===M){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var G=Y[V],ee=(Q>>>2)-1;if(!G)return;for(var re=0;re<ee&&(k=Tc(G,re*4))!==M;++re)te.push(k);y(Tc(G,Q-4),Z-1,Y,Q,te)}}function b(V,Z,Y,Q,te){var k=[],G=[];te||(te=[]);var ee=Q-1,re=0,ie=0;for(re=Z;re>=0;){te[re]=!0,k[k.length]=re,G.push(V[re]);var oe=Y[Math.floor(re*4/Q)];if(ie=re*4&ee,Q<4+ie)throw new Error("FAT boundary crossed: "+re+" 4 "+Q);if(!V[oe])break;re=Tc(V[oe],ie)}return{nodes:k,data:vD([G])}}function x(V,Z,Y,Q){var te=V.length,k=[],G=[],ee=[],re=[],ie=Q-1,oe=0,Te=0,Se=0,Ne=0;for(oe=0;oe<te;++oe)if(ee=[],Se=oe+Z,Se>=te&&(Se-=te),!G[Se]){re=[];var je=[];for(Te=Se;Te>=0;){je[Te]=!0,G[Te]=!0,ee[ee.length]=Te,re.push(V[Te]);var Oe=Y[Math.floor(Te*4/Q)];if(Ne=Te*4&ie,Q<4+Ne)throw new Error("FAT boundary crossed: "+Te+" 4 "+Q);if(!V[Oe]||(Te=Tc(V[Oe],Ne),je[Te]))break}k[Se]={nodes:ee,data:vD([re])}}return k}function w(V,Z,Y,Q,te,k,G,ee){for(var re=0,ie=Q.length?2:0,oe=Z[V].data,Te=0,Se=0,Ne;Te<oe.length;Te+=128){var je=oe.slice(Te,Te+128);rs(je,64),Se=je.read_shift(2),Ne=$2(je,0,Se-ie),Q.push(Ne);var Oe={name:Ne,type:je.read_shift(1),color:je.read_shift(1),L:je.read_shift(4,"i"),R:je.read_shift(4,"i"),C:je.read_shift(4,"i"),clsid:je.read_shift(16),state:je.read_shift(4,"i"),start:0,size:0},He=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);He!==0&&(Oe.ct=v(je,je.l-8));var Je=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);Je!==0&&(Oe.mt=v(je,je.l-8)),Oe.start=je.read_shift(4,"i"),Oe.size=je.read_shift(4,"i"),Oe.size<0&&Oe.start<0&&(Oe.size=Oe.type=0,Oe.start=M,Oe.name=""),Oe.type===5?(re=Oe.start,te>0&&re!==M&&(Z[re].name="!StreamData")):Oe.size>=4096?(Oe.storage="fat",Z[Oe.start]===void 0&&(Z[Oe.start]=b(Y,Oe.start,Z.fat_addrs,Z.ssz)),Z[Oe.start].name=Oe.name,Oe.content=Z[Oe.start].data.slice(0,Oe.size)):(Oe.storage="minifat",Oe.size<0?Oe.size=0:re!==M&&Oe.start!==M&&Z[re]&&(Oe.content=p(Oe,Z[re].data,(Z[ee]||{}).data))),Oe.content&&rs(Oe.content,0),k[Ne]=Oe,G.push(Oe)}}function v(V,Z){return new Date((ss(V,Z+4)/1e7*Math.pow(2,32)+ss(V,Z)/1e7-11644473600)*1e3)}function j(V,Z){return u(),d(c.readFileSync(V),Z)}function S(V,Z){var Y=Z&&Z.type;switch(Y||hr&&Buffer.isBuffer(V)&&(Y="buffer"),Y||"base64"){case"file":return j(V,Z);case"base64":return d(ii(Bo(V)),Z);case"binary":return d(ii(V),Z)}return d(V,Z)}function _(V,Z){var Y=Z||{},Q=Y.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=Q+"/",V.FileIndex[0]={name:Q,type:5}),Y.CLSID&&(V.FileIndex[0].clsid=Y.CLSID),E(V)}function E(V){var Z="Sh33tJ5";if(!Dr.find(V,"/"+Z)){var Y=Ae(4);Y[0]=55,Y[1]=Y[3]=50,Y[2]=54,V.FileIndex.push({name:Z,type:2,content:Y,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+Z),T(V)}}function T(V,Z){_(V);for(var Y=!1,Q=!1,te=V.FullPaths.length-1;te>=0;--te){var k=V.FileIndex[te];switch(k.type){case 0:Q?Y=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:Q=!0,isNaN(k.R*k.L*k.C)&&(Y=!0),k.R>-1&&k.L>-1&&k.R==k.L&&(Y=!0);break;default:Y=!0;break}}if(!(!Y&&!Z)){var G=new Date(1987,1,19),ee=0,re=Object.create?Object.create(null):{},ie=[];for(te=0;te<V.FullPaths.length;++te)re[V.FullPaths[te]]=!0,V.FileIndex[te].type!==0&&ie.push([V.FullPaths[te],V.FileIndex[te]]);for(te=0;te<ie.length;++te){var oe=n(ie[te][0]);Q=re[oe],Q||(ie.push([oe,{name:a(oe).replace("/",""),type:1,clsid:I,ct:G,mt:G,content:null}]),re[oe]=!0)}for(ie.sort(function(Ne,je){return r(Ne[0],je[0])}),V.FullPaths=[],V.FileIndex=[],te=0;te<ie.length;++te)V.FullPaths[te]=ie[te][0],V.FileIndex[te]=ie[te][1];for(te=0;te<ie.length;++te){var Te=V.FileIndex[te],Se=V.FullPaths[te];if(Te.name=a(Se).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||I,te===0)Te.C=ie.length>1?1:-1,Te.size=0,Te.type=5;else if(Se.slice(-1)=="/"){for(ee=te+1;ee<ie.length&&n(V.FullPaths[ee])!=Se;++ee);for(Te.C=ee>=ie.length?-1:ee,ee=te+1;ee<ie.length&&n(V.FullPaths[ee])!=n(Se);++ee);Te.R=ee>=ie.length?-1:ee,Te.type=1}else n(V.FullPaths[te+1]||"")==n(Se)&&(Te.R=te+1),Te.type=2}}}function D(V,Z){var Y=Z||{};if(Y.fileType=="mad")return sr(V,Y);switch(T(V),Y.fileType){case"zip":return Qo(V,Y)}var Q=function(Ne){for(var je=0,Oe=0,He=0;He<Ne.FileIndex.length;++He){var Je=Ne.FileIndex[He];if(Je.content){var Rt=Je.content.length;Rt>0&&(Rt<4096?je+=Rt+63>>6:Oe+=Rt+511>>9)}}for(var Wt=Ne.FullPaths.length+3>>2,vn=je+7>>3,rn=je+127>>7,bt=vn+Oe+Wt+rn,We=bt+127>>7,ht=We<=109?0:Math.ceil((We-109)/127);bt+We+ht+127>>7>We;)ht=++We<=109?0:Math.ceil((We-109)/127);var Nt=[1,ht,We,rn,Wt,Oe,je,0];return Ne.FileIndex[0].size=je<<6,Nt[7]=(Ne.FileIndex[0].start=Nt[0]+Nt[1]+Nt[2]+Nt[3]+Nt[4]+Nt[5])+(Nt[6]+7>>3),Nt}(V),te=Ae(Q[7]<<9),k=0,G=0;{for(k=0;k<8;++k)te.write_shift(1,B[k]);for(k=0;k<8;++k)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),k=0;k<3;++k)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,Q[2]),te.write_shift(4,Q[0]+Q[1]+Q[2]+Q[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,Q[3]?Q[0]+Q[1]+Q[2]-1:M),te.write_shift(4,Q[3]),te.write_shift(-4,Q[1]?Q[0]-1:M),te.write_shift(4,Q[1]),k=0;k<109;++k)te.write_shift(-4,k<Q[2]?Q[1]+k:-1)}if(Q[1])for(G=0;G<Q[1];++G){for(;k<236+G*127;++k)te.write_shift(-4,k<Q[2]?Q[1]+k:-1);te.write_shift(-4,G===Q[1]-1?M:G+1)}var ee=function(Ne){for(G+=Ne;k<G-1;++k)te.write_shift(-4,k+1);Ne&&(++k,te.write_shift(-4,M))};for(G=k=0,G+=Q[1];k<G;++k)te.write_shift(-4,P.DIFSECT);for(G+=Q[2];k<G;++k)te.write_shift(-4,P.FATSECT);ee(Q[3]),ee(Q[4]);for(var re=0,ie=0,oe=V.FileIndex[0];re<V.FileIndex.length;++re)oe=V.FileIndex[re],oe.content&&(ie=oe.content.length,!(ie<4096)&&(oe.start=G,ee(ie+511>>9)));for(ee(Q[6]+7>>3);te.l&511;)te.write_shift(-4,P.ENDOFCHAIN);for(G=k=0,re=0;re<V.FileIndex.length;++re)oe=V.FileIndex[re],oe.content&&(ie=oe.content.length,!(!ie||ie>=4096)&&(oe.start=G,ee(ie+63>>6)));for(;te.l&511;)te.write_shift(-4,P.ENDOFCHAIN);for(k=0;k<Q[4]<<2;++k){var Te=V.FullPaths[k];if(!Te||Te.length===0){for(re=0;re<17;++re)te.write_shift(4,0);for(re=0;re<3;++re)te.write_shift(4,-1);for(re=0;re<12;++re)te.write_shift(4,0);continue}oe=V.FileIndex[k],k===0&&(oe.start=oe.size?oe.start-1:M);var Se=k===0&&Y.root||oe.name;if(ie=2*(Se.length+1),te.write_shift(64,Se,"utf16le"),te.write_shift(2,ie),te.write_shift(1,oe.type),te.write_shift(1,oe.color),te.write_shift(-4,oe.L),te.write_shift(-4,oe.R),te.write_shift(-4,oe.C),oe.clsid)te.write_shift(16,oe.clsid,"hex");else for(re=0;re<4;++re)te.write_shift(4,0);te.write_shift(4,oe.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,oe.start),te.write_shift(4,oe.size),te.write_shift(4,0)}for(k=1;k<V.FileIndex.length;++k)if(oe=V.FileIndex[k],oe.size>=4096)if(te.l=oe.start+1<<9,hr&&Buffer.isBuffer(oe.content))oe.content.copy(te,te.l,0,oe.size),te.l+=oe.size+511&-512;else{for(re=0;re<oe.size;++re)te.write_shift(1,oe.content[re]);for(;re&511;++re)te.write_shift(1,0)}for(k=1;k<V.FileIndex.length;++k)if(oe=V.FileIndex[k],oe.size>0&&oe.size<4096)if(hr&&Buffer.isBuffer(oe.content))oe.content.copy(te,te.l,0,oe.size),te.l+=oe.size+63&-64;else{for(re=0;re<oe.size;++re)te.write_shift(1,oe.content[re]);for(;re&63;++re)te.write_shift(1,0)}if(hr)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function O(V,Z){var Y=V.FullPaths.map(function(re){return re.toUpperCase()}),Q=Y.map(function(re){var ie=re.split("/");return ie[ie.length-(re.slice(-1)=="/"?2:1)]}),te=!1;Z.charCodeAt(0)===47?(te=!0,Z=Y[0].slice(0,-1)+Z):te=Z.indexOf("/")!==-1;var k=Z.toUpperCase(),G=te===!0?Y.indexOf(k):Q.indexOf(k);if(G!==-1)return V.FileIndex[G];var ee=!k.match(Y0);for(k=k.replace(cm,""),ee&&(k=k.replace(Y0,"!")),G=0;G<Y.length;++G)if((ee?Y[G].replace(Y0,"!"):Y[G]).replace(cm,"")==k||(ee?Q[G].replace(Y0,"!"):Q[G]).replace(cm,"")==k)return V.FileIndex[G];return null}var A=64,M=-2,U="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function C(V,Z,Y){u();var Q=D(V,Y);c.writeFileSync(Z,Q)}function F(V){for(var Z=new Array(V.length),Y=0;Y<V.length;++Y)Z[Y]=String.fromCharCode(V[Y]);return Z.join("")}function R(V,Z){var Y=D(V,Z);switch(Z&&Z.type||"buffer"){case"file":return u(),c.writeFileSync(Z.filename,Y),Y;case"binary":return typeof Y=="string"?Y:F(Y);case"base64":return Hm(typeof Y=="string"?Y:F(Y));case"buffer":if(hr)return Buffer.isBuffer(Y)?Y:qo(Y);case"array":return typeof Y=="string"?ii(Y):Y}return Y}var se;function L(V){try{var Z=V.InflateRaw,Y=new Z;if(Y._processChunk(new Uint8Array([3,0]),Y._finishFlushFlag),Y.bytesRead)se=V;else throw new Error("zlib does not expose bytesRead")}catch(Q){console.error("cannot use native zlib: "+(Q.message||Q))}}function q(V,Z){if(!se)return Hn(V,Z);var Y=se.InflateRaw,Q=new Y,te=Q._processChunk(V.slice(V.l),Q._finishFlushFlag);return V.l+=Q.bytesRead,te}function H(V){return se?se.deflateRawSync(V):$e(V)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(V){var Z=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var le=typeof Uint8Array<"u",X=le?new Uint8Array(256):[],xe=0;xe<256;++xe)X[xe]=ge(xe);function he(V,Z){var Y=X[V&255];return Z<=8?Y>>>8-Z:(Y=Y<<8|X[V>>8&255],Z<=16?Y>>>16-Z:(Y=Y<<8|X[V>>16&255],Y>>>24-Z))}function Me(V,Z){var Y=Z&7,Q=Z>>>3;return(V[Q]|(Y<=6?0:V[Q+1]<<8))>>>Y&3}function Pe(V,Z){var Y=Z&7,Q=Z>>>3;return(V[Q]|(Y<=5?0:V[Q+1]<<8))>>>Y&7}function Be(V,Z){var Y=Z&7,Q=Z>>>3;return(V[Q]|(Y<=4?0:V[Q+1]<<8))>>>Y&15}function Ie(V,Z){var Y=Z&7,Q=Z>>>3;return(V[Q]|(Y<=3?0:V[Q+1]<<8))>>>Y&31}function W(V,Z){var Y=Z&7,Q=Z>>>3;return(V[Q]|(Y<=1?0:V[Q+1]<<8))>>>Y&127}function be(V,Z,Y){var Q=Z&7,te=Z>>>3,k=(1<<Y)-1,G=V[te]>>>Q;return Y<8-Q||(G|=V[te+1]<<8-Q,Y<16-Q)||(G|=V[te+2]<<16-Q,Y<24-Q)||(G|=V[te+3]<<24-Q),G&k}function we(V,Z,Y){var Q=Z&7,te=Z>>>3;return Q<=5?V[te]|=(Y&7)<<Q:(V[te]|=Y<<Q&255,V[te+1]=(Y&7)>>8-Q),Z+3}function z(V,Z,Y){var Q=Z&7,te=Z>>>3;return Y=(Y&1)<<Q,V[te]|=Y,Z+1}function J(V,Z,Y){var Q=Z&7,te=Z>>>3;return Y<<=Q,V[te]|=Y&255,Y>>>=8,V[te+1]=Y,Z+8}function pe(V,Z,Y){var Q=Z&7,te=Z>>>3;return Y<<=Q,V[te]|=Y&255,Y>>>=8,V[te+1]=Y&255,V[te+2]=Y>>>8,Z+16}function ae(V,Z){var Y=V.length,Q=2*Y>Z?2*Y:Z+5,te=0;if(Y>=Z)return V;if(hr){var k=aD(Q);if(V.copy)V.copy(k);else for(;te<V.length;++te)k[te]=V[te];return k}else if(le){var G=new Uint8Array(Q);if(G.set)G.set(V);else for(;te<Y;++te)G[te]=V[te];return G}return V.length=Q,V}function ye(V){for(var Z=new Array(V),Y=0;Y<V;++Y)Z[Y]=0;return Z}function ve(V,Z,Y){var Q=1,te=0,k=0,G=0,ee=0,re=V.length,ie=le?new Uint16Array(32):ye(32);for(k=0;k<32;++k)ie[k]=0;for(k=re;k<Y;++k)V[k]=0;re=V.length;var oe=le?new Uint16Array(re):ye(re);for(k=0;k<re;++k)ie[te=V[k]]++,Q<te&&(Q=te),oe[k]=0;for(ie[0]=0,k=1;k<=Q;++k)ie[k+16]=ee=ee+ie[k-1]<<1;for(k=0;k<re;++k)ee=V[k],ee!=0&&(oe[k]=ie[ee+16]++);var Te=0;for(k=0;k<re;++k)if(Te=V[k],Te!=0)for(ee=he(oe[k],Q)>>Q-Te,G=(1<<Q+4-Te)-1;G>=0;--G)Z[ee|G<<Te]=Te&15|k<<4;return Q}var Re=le?new Uint16Array(512):ye(512),Ue=le?new Uint16Array(32):ye(32);if(!le){for(var Ge=0;Ge<512;++Ge)Re[Ge]=0;for(Ge=0;Ge<32;++Ge)Ue[Ge]=0}(function(){for(var V=[],Z=0;Z<32;Z++)V.push(5);ve(V,Ue,32);var Y=[];for(Z=0;Z<=143;Z++)Y.push(8);for(;Z<=255;Z++)Y.push(9);for(;Z<=279;Z++)Y.push(7);for(;Z<=287;Z++)Y.push(8);ve(Y,Re,288)})();var vt=function(){for(var Z=le?new Uint8Array(32768):[],Y=0,Q=0;Y<ue.length-1;++Y)for(;Q<ue[Y+1];++Q)Z[Q]=Y;for(;Q<32768;++Q)Z[Q]=29;var te=le?new Uint8Array(259):[];for(Y=0,Q=0;Y<ce.length-1;++Y)for(;Q<ce[Y+1];++Q)te[Q]=Y;function k(ee,re){for(var ie=0;ie<ee.length;){var oe=Math.min(65535,ee.length-ie),Te=ie+oe==ee.length;for(re.write_shift(1,+Te),re.write_shift(2,oe),re.write_shift(2,~oe&65535);oe-- >0;)re[re.l++]=ee[ie++]}return re.l}function G(ee,re){for(var ie=0,oe=0,Te=le?new Uint16Array(32768):[];oe<ee.length;){var Se=Math.min(65535,ee.length-oe);if(Se<10){for(ie=we(re,ie,+(oe+Se==ee.length)),ie&7&&(ie+=8-(ie&7)),re.l=ie/8|0,re.write_shift(2,Se),re.write_shift(2,~Se&65535);Se-- >0;)re[re.l++]=ee[oe++];ie=re.l*8;continue}ie=we(re,ie,+(oe+Se==ee.length)+2);for(var Ne=0;Se-- >0;){var je=ee[oe];Ne=(Ne<<5^je)&32767;var Oe=-1,He=0;if((Oe=Te[Ne])&&(Oe|=oe&-32768,Oe>oe&&(Oe-=32768),Oe<oe))for(;ee[Oe+He]==ee[oe+He]&&He<250;)++He;if(He>2){je=te[He],je<=22?ie=J(re,ie,X[je+1]>>1)-1:(J(re,ie,3),ie+=5,J(re,ie,X[je-23]>>5),ie+=3);var Je=je<8?0:je-4>>2;Je>0&&(pe(re,ie,He-ce[je]),ie+=Je),je=Z[oe-Oe],ie=J(re,ie,X[je]>>3),ie-=3;var Rt=je<4?0:je-2>>1;Rt>0&&(pe(re,ie,oe-Oe-ue[je]),ie+=Rt);for(var Wt=0;Wt<He;++Wt)Te[Ne]=oe&32767,Ne=(Ne<<5^ee[oe])&32767,++oe;Se-=He-1}else je<=143?je=je+48:ie=z(re,ie,1),ie=J(re,ie,X[je]),Te[Ne]=oe&32767,++oe}ie=J(re,ie,0)-1}return re.l=(ie+7)/8|0,re.l}return function(re,ie){return re.length<8?k(re,ie):G(re,ie)}}();function $e(V){var Z=Ae(50+Math.floor(V.length*1.1)),Y=vt(V,Z);return Z.slice(0,Y)}var ot=le?new Uint16Array(32768):ye(32768),Vt=le?new Uint16Array(32768):ye(32768),lt=le?new Uint16Array(128):ye(128),qt=1,et=1;function Pt(V,Z){var Y=Ie(V,Z)+257;Z+=5;var Q=Ie(V,Z)+1;Z+=5;var te=Be(V,Z)+4;Z+=4;for(var k=0,G=le?new Uint8Array(19):ye(19),ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,ie=le?new Uint8Array(8):ye(8),oe=le?new Uint8Array(8):ye(8),Te=G.length,Se=0;Se<te;++Se)G[K[Se]]=k=Pe(V,Z),re<k&&(re=k),ie[k]++,Z+=3;var Ne=0;for(ie[0]=0,Se=1;Se<=re;++Se)oe[Se]=Ne=Ne+ie[Se-1]<<1;for(Se=0;Se<Te;++Se)(Ne=G[Se])!=0&&(ee[Se]=oe[Ne]++);var je=0;for(Se=0;Se<Te;++Se)if(je=G[Se],je!=0){Ne=X[ee[Se]]>>8-je;for(var Oe=(1<<7-je)-1;Oe>=0;--Oe)lt[Ne|Oe<<je]=je&7|Se<<3}var He=[];for(re=1;He.length<Y+Q;)switch(Ne=lt[W(V,Z)],Z+=Ne&7,Ne>>>=3){case 16:for(k=3+Me(V,Z),Z+=2,Ne=He[He.length-1];k-- >0;)He.push(Ne);break;case 17:for(k=3+Pe(V,Z),Z+=3;k-- >0;)He.push(0);break;case 18:for(k=11+W(V,Z),Z+=7;k-- >0;)He.push(0);break;default:He.push(Ne),re<Ne&&(re=Ne);break}var Je=He.slice(0,Y),Rt=He.slice(Y);for(Se=Y;Se<286;++Se)Je[Se]=0;for(Se=Q;Se<30;++Se)Rt[Se]=0;return qt=ve(Je,ot,286),et=ve(Rt,Vt,30),Z}function Cr(V,Z){if(V[0]==3&&!(V[1]&3))return[fu(Z),2];for(var Y=0,Q=0,te=aD(Z||1<<18),k=0,G=te.length>>>0,ee=0,re=0;!(Q&1);){if(Q=Pe(V,Y),Y+=3,Q>>>1)Q>>1==1?(ee=9,re=5):(Y=Pt(V,Y),ee=qt,re=et);else{Y&7&&(Y+=8-(Y&7));var ie=V[Y>>>3]|V[(Y>>>3)+1]<<8;if(Y+=32,ie>0)for(!Z&&G<k+ie&&(te=ae(te,k+ie),G=te.length);ie-- >0;)te[k++]=V[Y>>>3],Y+=8;continue}for(;;){!Z&&G<k+32767&&(te=ae(te,k+32767),G=te.length);var oe=be(V,Y,ee),Te=Q>>>1==1?Re[oe]:ot[oe];if(Y+=Te&15,Te>>>=4,!(Te>>>8&255))te[k++]=Te;else{if(Te==256)break;Te-=257;var Se=Te<8?0:Te-4>>2;Se>5&&(Se=0);var Ne=k+ce[Te];Se>0&&(Ne+=be(V,Y,Se),Y+=Se),oe=be(V,Y,re),Te=Q>>>1==1?Ue[oe]:Vt[oe],Y+=Te&15,Te>>>=4;var je=Te<4?0:Te-2>>1,Oe=ue[Te];for(je>0&&(Oe+=be(V,Y,je),Y+=je),!Z&&G<Ne&&(te=ae(te,Ne+100),G=te.length);k<Ne;)te[k]=te[k-Oe],++k}}}return Z?[te,Y+7>>>3]:[te.slice(0,k),Y+7>>>3]}function Hn(V,Z){var Y=V.slice(V.l||0),Q=Cr(Y,Z);return V.l+=Q[1],Q[0]}function xc(V,Z){if(V)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function Xo(V,Z){var Y=V;rs(Y,0);var Q=[],te=[],k={FileIndex:Q,FullPaths:te};_(k,{root:Z.root});for(var G=Y.length-4;(Y[G]!=80||Y[G+1]!=75||Y[G+2]!=5||Y[G+3]!=6)&&G>=0;)--G;Y.l=G+4,Y.l+=4;var ee=Y.read_shift(2);Y.l+=6;var re=Y.read_shift(4);for(Y.l=re,G=0;G<ee;++G){Y.l+=20;var ie=Y.read_shift(4),oe=Y.read_shift(4),Te=Y.read_shift(2),Se=Y.read_shift(2),Ne=Y.read_shift(2);Y.l+=8;var je=Y.read_shift(4),Oe=l(Y.slice(Y.l+Te,Y.l+Te+Se));Y.l+=Te+Se+Ne;var He=Y.l;Y.l=je+4,ro(Y,ie,oe,k,Oe),Y.l=He}return k}function ro(V,Z,Y,Q,te){V.l+=2;var k=V.read_shift(2),G=V.read_shift(2),ee=o(V);if(k&8257)throw new Error("Unsupported ZIP encryption");for(var re=V.read_shift(4),ie=V.read_shift(4),oe=V.read_shift(4),Te=V.read_shift(2),Se=V.read_shift(2),Ne="",je=0;je<Te;++je)Ne+=String.fromCharCode(V[V.l++]);if(Se){var Oe=l(V.slice(V.l,V.l+Se));(Oe[21589]||{}).mt&&(ee=Oe[21589].mt),((te||{})[21589]||{}).mt&&(ee=te[21589].mt)}V.l+=Se;var He=V.slice(V.l,V.l+ie);switch(G){case 8:He=q(V,oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+G)}var Je=!1;k&8&&(re=V.read_shift(4),re==134695760&&(re=V.read_shift(4),Je=!0),ie=V.read_shift(4),oe=V.read_shift(4)),ie!=Z&&xc(Je,"Bad compressed size: "+Z+" != "+ie),oe!=Y&&xc(Je,"Bad uncompressed size: "+Y+" != "+oe),tn(Q,Ne,He,{unsafe:!0,mt:ee})}function Qo(V,Z){var Y=Z||{},Q=[],te=[],k=Ae(1),G=Y.compression?8:0,ee=0,re=0,ie=0,oe=0,Te=0,Se=V.FullPaths[0],Ne=Se,je=V.FileIndex[0],Oe=[],He=0;for(re=1;re<V.FullPaths.length;++re)if(Ne=V.FullPaths[re].slice(Se.length),je=V.FileIndex[re],!(!je.size||!je.content||Ne=="Sh33tJ5")){var Je=oe,Rt=Ae(Ne.length);for(ie=0;ie<Ne.length;++ie)Rt.write_shift(1,Ne.charCodeAt(ie)&127);Rt=Rt.slice(0,Rt.l),Oe[Te]=Bee.buf(je.content,0);var Wt=je.content;G==8&&(Wt=H(Wt)),k=Ae(30),k.write_shift(4,67324752),k.write_shift(2,20),k.write_shift(2,ee),k.write_shift(2,G),je.mt?i(k,je.mt):k.write_shift(4,0),k.write_shift(-4,Oe[Te]),k.write_shift(4,Wt.length),k.write_shift(4,je.content.length),k.write_shift(2,Rt.length),k.write_shift(2,0),oe+=k.length,Q.push(k),oe+=Rt.length,Q.push(Rt),oe+=Wt.length,Q.push(Wt),k=Ae(46),k.write_shift(4,33639248),k.write_shift(2,0),k.write_shift(2,20),k.write_shift(2,ee),k.write_shift(2,G),k.write_shift(4,0),k.write_shift(-4,Oe[Te]),k.write_shift(4,Wt.length),k.write_shift(4,je.content.length),k.write_shift(2,Rt.length),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(4,0),k.write_shift(4,Je),He+=k.l,te.push(k),He+=Rt.length,te.push(Rt),++Te}return k=Ae(22),k.write_shift(4,101010256),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,Te),k.write_shift(2,Te),k.write_shift(4,He),k.write_shift(4,oe),k.write_shift(2,0),Jn([Jn(Q),Jn(te),k])}var ws={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function _i(V,Z){if(V.ctype)return V.ctype;var Y=V.name||"",Q=Y.match(/\.([^\.]+)$/);return Q&&ws[Q[1]]||Z&&(Q=(Y=Z).match(/[\.\\]([^\.\\])+$/),Q&&ws[Q[1]])?ws[Q[1]]:"application/octet-stream"}function Mu(V){for(var Z=Hm(V),Y=[],Q=0;Q<Z.length;Q+=76)Y.push(Z.slice(Q,Q+76));return Y.join(`\r
`)+`\r
`}function me(V){var Z=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ie){var oe=ie.charCodeAt(0).toString(16).toUpperCase();return"="+(oe.length==1?"0"+oe:oe)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Y=[],Q=Z.split(`\r
`),te=0;te<Q.length;++te){var k=Q[te];if(k.length==0){Y.push("");continue}for(var G=0;G<k.length;){var ee=76,re=k.slice(G,G+ee);re.charAt(ee-1)=="="?ee--:re.charAt(ee-2)=="="?ee-=2:re.charAt(ee-3)=="="&&(ee-=3),re=k.slice(G,G+ee),G+=ee,G<k.length&&(re+="="),Y.push(re)}}return Y.join(`\r
`)}function tt(V){for(var Z=[],Y=0;Y<V.length;++Y){for(var Q=V[Y];Y<=V.length&&Q.charAt(Q.length-1)=="=";)Q=Q.slice(0,Q.length-1)+V[++Y];Z.push(Q)}for(var te=0;te<Z.length;++te)Z[te]=Z[te].replace(/[=][0-9A-Fa-f]{2}/g,function(k){return String.fromCharCode(parseInt(k.slice(1),16))});return ii(Z.join(`\r
`))}function vr(V,Z,Y){for(var Q="",te="",k="",G,ee=0;ee<10;++ee){var re=Z[ee];if(!re||re.match(/^\s*$/))break;var ie=re.match(/^(.*?):\s*([^\s].*)$/);if(ie)switch(ie[1].toLowerCase()){case"content-location":Q=ie[2].trim();break;case"content-type":k=ie[2].trim();break;case"content-transfer-encoding":te=ie[2].trim();break}}switch(++ee,te.toLowerCase()){case"base64":G=ii(Bo(Z.slice(ee).join("")));break;case"quoted-printable":G=tt(Z.slice(ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var oe=tn(V,Q.slice(Y.length),G,{unsafe:!0});k&&(oe.ctype=k)}function on(V,Z){if(F(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Y=Z&&Z.root||"",Q=(hr&&Buffer.isBuffer(V)?V.toString("binary"):F(V)).split(`\r
`),te=0,k="";for(te=0;te<Q.length;++te)if(k=Q[te],!!/^Content-Location:/i.test(k)&&(k=k.slice(k.indexOf("file")),Y||(Y=k.slice(0,k.lastIndexOf("/")+1)),k.slice(0,Y.length)!=Y))for(;Y.length>0&&(Y=Y.slice(0,Y.length-1),Y=Y.slice(0,Y.lastIndexOf("/")+1),k.slice(0,Y.length)!=Y););var G=(Q[1]||"").match(/boundary="(.*?)"/);if(!G)throw new Error("MAD cannot find boundary");var ee="--"+(G[1]||""),re=[],ie=[],oe={FileIndex:re,FullPaths:ie};_(oe);var Te,Se=0;for(te=0;te<Q.length;++te){var Ne=Q[te];Ne!==ee&&Ne!==ee+"--"||(Se++&&vr(oe,Q.slice(Te,te),Y),Te=te)}return oe}function sr(V,Z){var Y=Z||{},Q=Y.boundary||"SheetJS";Q="------="+Q;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Q.slice(2)+'"',"","",""],k=V.FullPaths[0],G=k,ee=V.FileIndex[0],re=1;re<V.FullPaths.length;++re)if(G=V.FullPaths[re].slice(k.length),ee=V.FileIndex[re],!(!ee.size||!ee.content||G=="Sh33tJ5")){G=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(He){return"_x"+He.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(He){return"_u"+He.charCodeAt(0).toString(16)+"_"});for(var ie=ee.content,oe=hr&&Buffer.isBuffer(ie)?ie.toString("binary"):F(ie),Te=0,Se=Math.min(1024,oe.length),Ne=0,je=0;je<=Se;++je)(Ne=oe.charCodeAt(je))>=32&&Ne<128&&++Te;var Oe=Te>=Se*4/5;te.push(Q),te.push("Content-Location: "+(Y.root||"file:///C:/SheetJS/")+G),te.push("Content-Transfer-Encoding: "+(Oe?"quoted-printable":"base64")),te.push("Content-Type: "+_i(ee,G)),te.push(""),te.push(Oe?me(oe):Mu(oe))}return te.push(Q+`--\r
`),te.join(`\r
`)}function zn(V){var Z={};return _(Z,V),Z}function tn(V,Z,Y,Q){var te=Q&&Q.unsafe;te||_(V);var k=!te&&Dr.find(V,Z);if(!k){var G=V.FullPaths[0];Z.slice(0,G.length)==G?G=Z:(G.slice(-1)!="/"&&(G+="/"),G=(G+Z).replace("//","/")),k={name:a(Z),type:2},V.FileIndex.push(k),V.FullPaths.push(G),te||Dr.utils.cfb_gc(V)}return k.content=Y,k.size=Y?Y.length:0,Q&&(Q.CLSID&&(k.clsid=Q.CLSID),Q.mt&&(k.mt=Q.mt),Q.ct&&(k.ct=Q.ct)),k}function bs(V,Z){_(V);var Y=Dr.find(V,Z);if(Y){for(var Q=0;Q<V.FileIndex.length;++Q)if(V.FileIndex[Q]==Y)return V.FileIndex.splice(Q,1),V.FullPaths.splice(Q,1),!0}return!1}function Ei(V,Z,Y){_(V);var Q=Dr.find(V,Z);if(Q){for(var te=0;te<V.FileIndex.length;++te)if(V.FileIndex[te]==Q)return V.FileIndex[te].name=a(Y),V.FullPaths[te]=Y,!0}return!1}function ya(V){T(V,!0)}return t.find=O,t.read=S,t.parse=d,t.write=R,t.writeFile=C,t.utils={cfb_new:zn,cfb_add:tn,cfb_del:bs,cfb_mov:Ei,cfb_gc:ya,ReadShift:dm,CheckField:S5,prep_blob:rs,bconcat:Jn,use_zlib:L,_deflateRaw:$e,_inflateRaw:Hn,consts:P},t}();function Uee(e){return typeof e=="string"?Mv(e):Array.isArray(e)?hee(e):e}function s0(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Mv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?qm(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Uee(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=a0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function ia(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function fD(e,t){for(var r=[],n=ia(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function R2(e){for(var t=[],r=ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function $v(e){for(var t=[],r=ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Vee(e){for(var t=[],r=ia(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Px=new Date(1899,11,30,0,0,0);function qa(e,t){var r=e.getTime(),n=Px.getTime()+(e.getTimezoneOffset()-Px.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var i5=new Date,Wee=Px.getTime()+(i5.getTimezoneOffset()-Px.getTimezoneOffset())*6e4,hD=i5.getTimezoneOffset();function o5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Wee),t.getTimezoneOffset()!==hD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-hD)*6e4),t}var mD=new Date("2017-02-19T19:06:09.000Z"),l5=isNaN(mD.getFullYear())?new Date("2/19/17"):mD,Hee=l5.getFullYear()==2017;function Da(e,t){var r=new Date(e);if(Hee)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(l5.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Bv(e,t){if(hr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ga(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ga(e[r]));return t}function Jr(e,t){for(var r="";r.length<t;)r+=e;return r}function To(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var zee=["january","february","march","april","may","june","july","august","september","october","november","december"];function zm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&zee.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Xt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return hr?n=qo(r):n=mee(r),Dr.utils.cfb_add(e,t,n)}Dr.utils.cfb_add(e,t,r)}else e.file(t,r)}function M2(){return Dr.utils.cfb_new()}var yn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qee={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},F2=R2(qee),L2=/[&<>'"]/g,Gee=/[\u0000-\u0008\u000b-\u001f]/g;function Nr(e){var t=e+"";return t.replace(L2,function(r){return F2[r]}).replace(Gee,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function pD(e){return Nr(e).replace(/ /g,"_x0020_")}var c5=/[\u0000-\u001f]/g;function Kee(e){var t=e+"";return t.replace(L2,function(r){return F2[r]}).replace(/\n/g,"<br/>").replace(c5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Yee(e){var t=e+"";return t.replace(L2,function(r){return F2[r]}).replace(c5,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Xee(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Qee(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Fw(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function gD(e){var t=fu(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function xD(e){return qo(e,"binary").toString("utf8")}var Q0="foo bar bazâð£",um=hr&&(xD(Q0)==Fw(Q0)&&xD||gD(Q0)==Fw(Q0)&&gD)||Fw,qm=hr?function(e){return qo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Jee=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),u5=/(^\s|\s$|\n)/;function Zn(e,t){return"<"+e+(t.match(u5)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Gm(e){return ia(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ye(e,t,r){return"<"+e+(r!=null?Gm(r):"")+(t!=null?(t.match(u5)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function tS(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Zee(e,t){switch(typeof e){case"string":var r=Ye("vt:lpwstr",Nr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ye((e|0)==e?"vt:i4":"vt:r8",Nr(String(e)));case"boolean":return Ye("vt:bool",e?"true":"false")}if(e instanceof Date)return Ye("vt:filetime",tS(e));throw new Error("Unable to serialize "+e)}var Pn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Jf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],as={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ete(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function tte(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var yD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},vD=hr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:qo(t)})):yD(e)}:yD,wD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Yh(e,a)));return n.join("").replace(cm,"")},$2=hr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(cm,""):wD(e,t,r)}:wD,bD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},d5=hr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):bD(e,t,r)}:bD,jD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(td(e,a)));return n.join("")},i0=hr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):jD(t,r,n)}:jD,f5=function(e,t){var r=ss(e,t);return r>0?i0(e,t+4,t+4+r-1):""},h5=f5,m5=function(e,t){var r=ss(e,t);return r>0?i0(e,t+4,t+4+r-1):""},p5=m5,g5=function(e,t){var r=2*ss(e,t);return r>0?i0(e,t+4,t+4+r-1):""},x5=g5,y5=function(t,r){var n=ss(t,r);return n>0?$2(t,r+4,r+4+n):""},v5=y5,w5=function(e,t){var r=ss(e,t);return r>0?i0(e,t+4,t+4+r):""},b5=w5,j5=function(e,t){return ete(e,t)},Ix=j5,B2=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};hr&&(h5=function(t,r){if(!Buffer.isBuffer(t))return f5(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},p5=function(t,r){if(!Buffer.isBuffer(t))return m5(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},x5=function(t,r){if(!Buffer.isBuffer(t))return g5(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},v5=function(t,r){if(!Buffer.isBuffer(t))return y5(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},b5=function(t,r){if(!Buffer.isBuffer(t))return w5(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Ix=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):j5(t,r)},B2=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var td=function(e,t){return e[t]},Yh=function(e,t){return e[t+1]*256+e[t]},rte=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ss=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Tc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},nte=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function dm(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,hr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Yh(this,u)),u+=2;e*=2;break;case"utf8":r=i0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=$2(this,this.l,this.l+e);break;case"wstr":return dm.call(this,e,"dbcs");case"lpstr-ansi":r=h5(this,this.l),e=4+ss(this,this.l);break;case"lpstr-cp":r=p5(this,this.l),e=4+ss(this,this.l);break;case"lpwstr":r=x5(this,this.l),e=4+2*ss(this,this.l);break;case"lpp4":e=4+ss(this,this.l),r=v5(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ss(this,this.l),r=b5(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=td(this,this.l+e++))!==0;)i.push(K0(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Yh(this,this.l+e))!==0;)i.push(K0(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=td(this,u),this.l=u+1,l=dm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(K0(Yh(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=td(this,u),this.l=u+1,l=dm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(K0(td(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=td(this,this.l),this.l++,n;case 2:return n=(t==="i"?rte:Yh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Tc:nte)(this,this.l),this.l+=4,n):(a=ss(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Ix(this,this.l):a=Ix([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=d5(this,this.l,e);break}}return this.l+=e,r}var ate=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ste=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},ite=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ote(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)ite(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,ate(this,t,this.l);break;case 8:if(n=8,r==="f"){tte(this,t,this.l);break}case 16:break;case-4:n=4,ste(this,t,this.l);break}return this.l+=n,this}function S5(e,t){var r=d5(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function rs(e,t){e.l=t,e.read_shift=dm,e.chk=S5,e.write_shift=ote}function Qi(e,t){e.l+=t}function Ae(e){var t=fu(e);return rs(t,0),t}function za(){var e=[],t=hr?256:2048,r=function(u){var d=Ae(u);return rs(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Jn(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Le(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=eoe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&B2(r)&&e.push(r)}}function fm(e,t,r){var n=Ga(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function SD(e,t,r){var n=Ga(e);return n.s=fm(n.s,t.s,r),n.e=fm(n.e,t.s,r),n}function hm(e,t){if(e.cRel&&e.c<0)for(e=Ga(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ga(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Tr(e);return!e.cRel&&e.cRel!=null&&(r=ute(r)),!e.rRel&&e.rRel!=null&&(r=lte(r)),r}function Lw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+pa(e.s.c)+":"+(e.e.cRel?"":"$")+pa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+na(e.s.r)+":"+(e.e.rRel?"":"$")+na(e.e.r):hm(e.s,t.biff)+":"+hm(e.e,t.biff)}function U2(e){return parseInt(cte(e),10)-1}function na(e){return""+(e+1)}function lte(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cte(e){return e.replace(/\$(\d+)$/,"$1")}function V2(e){for(var t=dte(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function pa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ute(e){return e.replace(/^([A-Z])/,"$$$1")}function dte(e){return e.replace(/^\$([A-Z])/,"$1")}function fte(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $n(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Tr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function xs(e){var t=e.indexOf(":");return t==-1?{s:$n(e),e:$n(e)}:{s:$n(e.slice(0,t)),e:$n(e.slice(t+1))}}function pn(e,t){return typeof t>"u"||typeof t=="number"?pn(e.s,e.e):(typeof e!="string"&&(e=Tr(e)),typeof t!="string"&&(t=Tr(t)),e==t?e:e+":"+t)}function Wr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ND(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ec(e.z,r?qa(t):t)}catch{}try{return e.w=ec((e.XF||{}).numFmtId||(r?14:0),r?qa(t):t)}catch{return""+t}}function Uo(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?o0[e.v]||e.v:t==null?ND(e,e.v):ND(e,t))}function _u(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function N5(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?$n(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Wr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=o+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||en[14],n.cellDates?(m.t="d",m.w=ec(m.z,qa(m.v))):(m.t="n",m.v=qa(m.v),m.w=ec(m.z,m.v))):m.t="s";if(a)i[g]||(i[g]=[]),i[g][p]&&i[g][p].z&&(m.z=i[g][p].z),i[g][p]=m;else{var y=Tr({c:p,r:g});i[y]&&i[y].z&&(m.z=i[y].z),i[y]=m}}}return u.s.c<1e7&&(i["!ref"]=pn(u)),i}function Zf(e,t){return N5(null,e,t)}function hte(e){return e.read_shift(4,"i")}function mi(e,t){return t||(t=Ae(4)),t.write_shift(4,e),t}function ga(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Bn(e,t){var r=!1;return t==null&&(r=!0,t=Ae(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function mte(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function pte(e,t){return t||(t=Ae(4)),t.write_shift(2,0),t.write_shift(2,0),t}function W2(e,t){var r=e.l,n=e.read_shift(1),a=ga(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(mte(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function gte(e,t){var r=!1;return t==null&&(r=!0,t=Ae(15+4*e.t.length)),t.write_shift(1,0),Bn(e.t,t),r?t.slice(0,t.l):t}var xte=W2;function yte(e,t){var r=!1;return t==null&&(r=!0,t=Ae(23+4*e.t.length)),t.write_shift(1,1),Bn(e.t,t),t.write_shift(4,1),pte({},t),r?t.slice(0,t.l):t}function Vs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Eu(e,t){return t==null&&(t=Ae(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Tu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Au(e,t){return t==null&&(t=Ae(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var vte=ga,_5=Bn;function H2(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Rx(e,t){var r=!1;return t==null&&(r=!0,t=Ae(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var wte=ga,rS=H2,z2=Rx;function E5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Ix([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Tc(t,0)>>2;return r?a/100:a}function T5(e,t){t==null&&(t=Ae(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function A5(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function bte(e,t){return t||(t=Ae(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Cu=A5,eh=bte;function th(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function hu(e,t){return(t||Ae(8)).write_shift(8,e,"f")}function jte(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=kte[a];u&&(t.rgb=RD(u));break;case 2:t.rgb=RD([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Mx(e,t){if(t||(t=Ae(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Ste(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Nte(e,t){t||(t=Ae(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var C5=2,Ja=3,J0=11,Fx=19,Z0=64,_te=65,Ete=71,Tte=4108,Ate=4126,Xn=80,_D={1:{n:"CodePage",t:C5},2:{n:"Category",t:Xn},3:{n:"PresentationFormat",t:Xn},4:{n:"ByteCount",t:Ja},5:{n:"LineCount",t:Ja},6:{n:"ParagraphCount",t:Ja},7:{n:"SlideCount",t:Ja},8:{n:"NoteCount",t:Ja},9:{n:"HiddenCount",t:Ja},10:{n:"MultimediaClipCount",t:Ja},11:{n:"ScaleCrop",t:J0},12:{n:"HeadingPairs",t:Tte},13:{n:"TitlesOfParts",t:Ate},14:{n:"Manager",t:Xn},15:{n:"Company",t:Xn},16:{n:"LinksUpToDate",t:J0},17:{n:"CharacterCount",t:Ja},19:{n:"SharedDoc",t:J0},22:{n:"HyperlinksChanged",t:J0},23:{n:"AppVersion",t:Ja,p:"version"},24:{n:"DigSig",t:_te},26:{n:"ContentType",t:Xn},27:{n:"ContentStatus",t:Xn},28:{n:"Language",t:Xn},29:{n:"Version",t:Xn},255:{},2147483648:{n:"Locale",t:Fx},2147483651:{n:"Behavior",t:Fx},1919054434:{}},ED={1:{n:"CodePage",t:C5},2:{n:"Title",t:Xn},3:{n:"Subject",t:Xn},4:{n:"Author",t:Xn},5:{n:"Keywords",t:Xn},6:{n:"Comments",t:Xn},7:{n:"Template",t:Xn},8:{n:"LastAuthor",t:Xn},9:{n:"RevNumber",t:Xn},10:{n:"EditTime",t:Z0},11:{n:"LastPrinted",t:Z0},12:{n:"CreatedDate",t:Z0},13:{n:"ModifiedDate",t:Z0},14:{n:"PageCount",t:Ja},15:{n:"WordCount",t:Ja},16:{n:"CharCount",t:Ja},17:{n:"Thumbnail",t:Ete},18:{n:"Application",t:Xn},19:{n:"DocSecurity",t:Ja},255:{},2147483648:{n:"Locale",t:Fx},2147483651:{n:"Behavior",t:Fx},1919054434:{}};function Cte(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Dte=Cte([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),kte=Ga(Dte),o0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ote={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},eg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function D5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function k5(e,t){var r=Vee(Ote),n=[],a;n[n.length]=yn,n[n.length]=Ye("Types",null,{xmlns:Pn.CT,"xmlns:xsd":Pn.xsd,"xmlns:xsi":Pn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ye("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Ye("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:eg[c][t.bookType]||eg[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ye("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:eg[c][t.bookType]||eg[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ye("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ur={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function O5(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Cd(e){var t=[yn,Ye("Relationships",null,{xmlns:Pn.RELS})];return ia(e["!id"]).forEach(function(r){t[t.length]=Ye("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Sr(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[ur.HLINK,ur.XPATH,ur.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Pte(e){var t=[yn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function TD(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Ite(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Rte(e){var t=[yn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(TD(e[r][0],e[r][1])),t.push(Ite("",e[r][0]));return t.push(TD("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function P5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ax.version+"</meta:generator></office:meta></office:document-meta>"}var Kc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function $w(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Nr(t),n[n.length]=r?Ye(e,t,r):Zn(e,t))}function I5(e,t){var r=t||{},n=[yn,Ye("cp:coreProperties",null,{"xmlns:cp":Pn.CORE_PROPS,"xmlns:dc":Pn.dc,"xmlns:dcterms":Pn.dcterms,"xmlns:dcmitype":Pn.dcmitype,"xmlns:xsi":Pn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&$w("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:tS(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&$w("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:tS(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Kc.length;++i){var o=Kc[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&$w(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Dd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],R5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function M5(e){var t=[],r=Ye;return e||(e={}),e.Application="SheetJS",t[t.length]=yn,t[t.length]=Ye("Properties",null,{xmlns:Pn.EXT_PROPS,"xmlns:vt":Pn.vt}),Dd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Nr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Nr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function F5(e){var t=[yn,Ye("Properties",null,{xmlns:Pn.CUST_PROPS,"xmlns:vt":Pn.vt})];if(!e)return t.join("");var r=1;return ia(e).forEach(function(a){++r,t[t.length]=Ye("property",Zee(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Nr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var AD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Mte(e,t){var r=[];return ia(AD).map(function(n){for(var a=0;a<Kc.length;++a)if(Kc[a][1]==n)return Kc[a];for(a=0;a<Dd.length;++a)if(Dd[a][1]==n)return Dd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Zn(AD[n[1]]||n[1],a))}}),Ye("DocumentProperties",r.join(""),{xmlns:as.o})}function Fte(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ia(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Kc.length;++o)if(i==Kc[o][1])return;for(o=0;o<Dd.length;++o)if(i==Dd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Ye(pD(i),l,{"dt:dt":c}))}}),t&&ia(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Ye(pD(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+as.o+'">'+a.join("")+"</"+n+">"}function Lte(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Ae(8);return o.write_shift(4,n),o.write_shift(4,a),o}function CD(e,t){var r=Ae(4),n=Ae(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ae(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Lte(t);break;case 31:case 80:for(n=Ae(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Jn([r,n])}var L5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function $te(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function DD(e,t,r){var n=Ae(8),a=[],i=[],o=8,l=0,c=Ae(8),u=Ae(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=Ae(8),u.write_shift(4,0),a.unshift(u);var d=[Ae(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ae(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Jn(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(L5.indexOf(e[l][0])>-1||R5.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var g=r[m];if(g.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}c=CD(g.t,h)}else{var y=$te(h);y==-1&&(y=31,h=String(h)),c=CD(y,h)}i.push(c),u=Ae(8),u.write_shift(4,t?m:2+l),a.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Jn([n].concat(a).concat(i))}function kD(e,t,r,n,a,i){var o=Ae(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Dr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=DD(e,r,n);if(l.push(c),a){var u=DD(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Jn(l)}function Bte(e,t){t||(t=Ae(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Ute(e,t){return e.read_shift(t)===1}function Ea(e,t){return t||(t=Ae(2)),t.write_shift(2,+!!e),t}function $5(e){return e.read_shift(2,"u")}function As(e,t){return t||(t=Ae(2)),t.write_shift(2,e),t}function B5(e,t,r){return r||(r=Ae(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function U5(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function Vte(e){var t=e.t||"",r=Ae(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ae(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Jn(a)}function Wte(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Hte(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Wte(e,n,r)}function zte(e,t,r){if(r.biff>5)return Hte(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function V5(e,t,r){return r||(r=Ae(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function OD(e,t){t||(t=Ae(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function qte(e){var t=Ae(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),OD(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&OD(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function mu(e,t,r,n){return n||(n=Ae(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Gte(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function Kte(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function W5(e,t){return t||(t=Ae(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function q2(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ae(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Yte(e,t){var r=!t||t.biff==8,n=Ae(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Xte(e,t){var r=!t||t.biff>=8?2:1,n=Ae(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Qte(e,t){var r=Ae(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Vte(e[a]);var i=Jn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function Jte(){var e=Ae(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Zte(e){var t=Ae(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function ere(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ae(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function tre(e,t,r,n){var a=Ae(10);return mu(e,t,n,a),a.write_shift(4,r),a}function rre(e,t,r,n,a){var i=!a||a.biff==8,o=Ae(8+ +i+(1+i)*r.length);return mu(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function nre(e,t,r,n){var a=r&&r.biff==5;n||(n=Ae(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function are(e,t){var r=t.biff==8||!t.biff?4:2,n=Ae(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function PD(e,t,r,n){var a=r&&r.biff==5;n||(n=Ae(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function sre(e){var t=Ae(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function ire(e,t,r,n,a,i){var o=Ae(8);return mu(e,t,n,o),B5(r,i,o),o}function ore(e,t,r,n){var a=Ae(14);return mu(e,t,n,a),hu(r,a),a}function lre(e,t,r){if(r.biff<8)return cre(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Gte(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function cre(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=U5(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function ure(e){var t=Ae(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)W5(e[r],t);return t}function dre(e){var t=Ae(24),r=$n(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Jn([t,qte(e[1])])}function fre(e){var t=e[1].Tooltip,r=Ae(10+2*(t.length+1));r.write_shift(2,2048);var n=$n(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function hre(e){return e||(e=Ae(4)),e.write_shift(2,1),e.write_shift(2,1),e}function mre(e,t,r){if(!r.cellStyles)return Qi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function pre(e,t){var r=Ae(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function gre(e){for(var t=Ae(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function xre(e,t,r){var n=Ae(15);return c0(n,e,t),n.write_shift(8,r,"f"),n}function yre(e,t,r){var n=Ae(9);return c0(n,e,t),n.write_shift(2,r),n}var vre=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=R2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=fu(1);switch(c.type){case"base64":d=ii(Bo(l));break;case"binary":d=ii(l);break;case"buffer":case"array":d=l;break}rs(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,y=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(y=d.read_shift(2));var b=d.read_shift(2),x=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(x=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var w=[],v={},j=Math.min(d.length,f==2?521:y-10-(m?264:0)),S=g?32:11;d.l<j&&d[d.l]!=13;)switch(v={},v.name=Cx.utils.decode(x,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,v.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(v.offset=d.read_shift(4)),v.len=d.read_shift(1),f==2&&(v.offset=d.read_shift(2)),v.dec=d.read_shift(1),v.name.length&&w.push(v),f!=2&&(d.l+=g?13:14),v.type){case"B":(!m||v.len!=8)&&c.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+v.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var _=0,E=0;for(u[0]=[],E=0;E!=w.length;++E)u[0][E]=w[E].name;for(;p-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++_]=[],E=0,E=0;E!=w.length;++E){var T=d.slice(d.l,d.l+w[E].len);d.l+=w[E].len,rs(T,0);var D=Cx.utils.decode(x,T);switch(w[E].type){case"C":D.trim().length&&(u[_][E]=D.replace(/\s+$/,""));break;case"D":D.length===8?u[_][E]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):u[_][E]=D;break;case"F":u[_][E]=parseFloat(D.trim());break;case"+":case"I":u[_][E]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":u[_][E]=!0;break;case"N":case"F":u[_][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[_][E]="##MEMO##"+(g?parseInt(D.trim(),10):T.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(u[_][E]=+D||0);break;case"@":u[_][E]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[_][E]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[_][E]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[_][E]=-T.read_shift(-8,"f");break;case"B":if(m&&w[E].len==8){u[_][E]=T.read_shift(8,"f");break}case"G":case"P":T.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Zf(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return _u(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Wm(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=za(),f=Vx(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,y=0,b=0,x=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++b;continue}if(h[p]!=null){if(++b,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(y=0;y<1024;++y)if(h.indexOf(h[p]+"_"+y)==-1){h[p]+="_"+y;break}}}}var w=Wr(l["!ref"]),v=[],j=[],S=[];for(p=0;p<=w.e.c-w.s.c;++p){var _="",E="",T=0,D=[];for(y=0;y<m.length;++y)m[y][p]!=null&&D.push(m[y][p]);if(D.length==0||h[p]==null){v[p]="?";continue}for(y=0;y<D.length;++y){switch(typeof D[y]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=D[y]instanceof Date?"D":"C";break;default:E="C"}T=Math.max(T,String(D[y]).length),_=_&&_!=E?"C":E}T>250&&(T=250),E=((g[p]||{}).DBF||{}).type,E=="C"&&g[p].DBF.len>T&&(T=g[p].DBF.len),_=="B"&&E=="N"&&(_="N",S[p]=g[p].DBF.dec,T=g[p].DBF.len),j[p]=_=="C"||E=="N"?T:i[_]||0,x+=j[p],v[p]=_}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*b),O.write_shift(2,x),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+t[z6]||3)<<8),p=0,y=0;p<h.length;++p)if(h[p]!=null){var A=d.next(32),M=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,M,"sbcs"),A.write_shift(1,v[p]=="?"?"C":v[p],"sbcs"),A.write_shift(4,y),A.write_shift(1,j[p]||i[v[p]]||0),A.write_shift(1,S[p]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),y+=j[p]||i[v[p]]||0}var U=d.next(264);for(U.write_shift(4,13),p=0;p<65;++p)U.write_shift(4,0);for(p=0;p<m.length;++p){var B=d.next(x);for(B.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(v[y]){case"L":B.write_shift(1,m[p][y]==null?63:m[p][y]?84:70);break;case"B":B.write_shift(8,m[p][y]||0,"f");break;case"N":var I="0";for(typeof m[p][y]=="number"&&(I=m[p][y].toFixed(S[y]||0)),b=0;b<j[y]-I.length;++b)B.write_shift(1,32);B.write_shift(1,I,"sbcs");break;case"D":m[p][y]?(B.write_shift(4,("0000"+m[p][y].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(m[p][y].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+m[p][y].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var P=String(m[p][y]!=null?m[p][y]:"").slice(0,j[y]);for(B.write_shift(1,P,"sbcs"),b=0;b<j[y]-P.length;++b)B.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),wre=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?nD(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:nD(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(Bo(h),m);case"binary":return i(h,m);case"buffer":return i(hr&&Buffer.isBuffer(h)?h.toString("binary"):a0(h),m);case"array":return i(Bv(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var g=h.split(/[\n\r]+/),p=-1,y=-1,b=0,x=0,w=[],v=[],j=null,S={},_=[],E=[],T=[],D=0,O;for(+m.codepage>=0&&Wm(+m.codepage);b!==g.length;++b){D=0;var A=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),M=A.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),U=M[0],B;if(A.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&v.push(A.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,P=!1,C=!1,F=!1,R=-1,se=-1;for(x=1;x<M.length;++x)switch(M[x].charAt(0)){case"A":break;case"X":y=parseInt(M[x].slice(1))-1,P=!0;break;case"Y":for(p=parseInt(M[x].slice(1))-1,P||(y=0),O=w.length;O<=p;++O)w[O]=[];break;case"K":B=M[x].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(To(B))?isNaN(zm(B).getDate())||(B=Da(B)):(B=To(B),j!==null&&n5(j)&&(B=o5(B))),I=!0;break;case"E":F=!0;var L=yne(M[x].slice(1),{r:p,c:y});w[p][y]=[w[p][y],L];break;case"S":C=!0,w[p][y]=[w[p][y],"S5S"];break;case"G":break;case"R":R=parseInt(M[x].slice(1))-1;break;case"C":se=parseInt(M[x].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}if(I&&(w[p][y]&&w[p][y].length==2?w[p][y][0]=B:w[p][y]=B,j=null),C){if(F)throw new Error("SYLK shared formula cannot have own formula");var q=R>-1&&w[R][se];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[p][y][1]=vne(q[1],{r:p-R,c:y-se})}break;case"F":var H=0;for(x=1;x<M.length;++x)switch(M[x].charAt(0)){case"X":y=parseInt(M[x].slice(1))-1,++H;break;case"Y":for(p=parseInt(M[x].slice(1))-1,O=w.length;O<=p;++O)w[O]=[];break;case"M":D=parseInt(M[x].slice(1))/20;break;case"F":break;case"G":break;case"P":j=v[parseInt(M[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=M[x].slice(1).split(" "),O=parseInt(T[0],10);O<=parseInt(T[1],10);++O)D=parseInt(T[2],10),E[O-1]=D===0?{hidden:!0}:{wch:D},G2(E[O-1]);break;case"C":y=parseInt(M[x].slice(1))-1,E[y]||(E[y]={});break;case"R":p=parseInt(M[x].slice(1))-1,_[p]||(_[p]={}),D>0?(_[p].hpt=D,_[p].hpx=K5(D)):D===0&&(_[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}H<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}}return _.length>0&&(S["!rows"]=_),E.length>0&&(S["!cols"]=E),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,S]}function o(h,m){var g=a(h,m),p=g[0],y=g[1],b=Zf(p,m);return ia(y).forEach(function(x){b[x]=y[x]}),b}function l(h,m){return _u(o(h,m),m)}function c(h,m,g,p){var y="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+Y2(h.f,{r:g,c:p}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,m){m.forEach(function(g,p){var y="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Lx(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=$x(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function d(h,m){m.forEach(function(g,p){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*Bx(g.hpx)+";"),y.length>2&&h.push(y+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],y=Wr(h["!ref"]),b,x=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var v=y.s.r;v<=y.e.r;++v)for(var j=y.s.c;j<=y.e.c;++j){var S=Tr({r:v,c:j});b=x?(h[v]||[])[j]:h[S],!(!b||b.v==null&&(!b.f||b.F))&&p.push(c(b,h,v,j))}return g.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),bre=function(){function e(i,o){switch(o.type){case"base64":return t(Bo(i),o);case"binary":return t(i,o);case"buffer":return t(hr&&Buffer.isBuffer(i)?i.toString("binary"):a0(i),o);case"array":return t(Bv(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(To(g))?isNaN(zm(g).getDate())?f[c][u]=g:f[c][u]=Da(g):f[c][u]=To(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Zf(e(i,o),o)}function n(i,o){return _u(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Wr(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Tr({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,y,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ec(f.z||en[14],qa(Da(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,x=u.join(b);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),H5=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,y=0,b=[];y!==m.length;++y){var x=m[y].trim().split(":");if(x[0]==="cell"){var w=$n(x[1]);if(b.length<=w.r)for(g=b.length;g<=w.r;++g)b[g]||(b[g]=[]);switch(g=w.r,p=w.c,x[2]){case"t":b[g][p]=e(x[3]);break;case"v":b[g][p]=+x[3];break;case"vtf":var v=x[x.length-1];case"vtc":switch(x[3]){case"nl":b[g][p]=!!+x[4];break;default:b[g][p]=+x[4];break}x[2]=="vtf"&&(b[g][p]=[b[g][p],v])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Zf(r(f,h),h)}function a(f,h){return _u(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",y=xs(f["!ref"]),b=Array.isArray(f),x=y.s.r;x<=y.e.r;++x)for(var w=y.s.c;w<=y.e.c;++w)if(p=Tr({r:x,c:w}),g=b?(f[x]||[])[w]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var v=qa(Da(g.v));m[2]="vtc",m[3]="nd",m[4]=""+v,m[5]=g.w||ec(g.z||en[14],v);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),jre=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(To(d))?isNaN(zm(d).getDate())?f[h][m]=d:f[h][m]=Da(d):f[h][m]=To(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var y=10,b=0,x=0;x<=p;++x)b=g[x].indexOf(" "),b==-1?b=g[x].length:b++,y=Math.max(y,b);for(x=0;x<=p;++x){m[x]=[];var w=0;for(e(g[x].slice(0,y).trim(),m,x,w,h),w=1;w<=(g[x].length-y)/10+1;++w)e(g[x].slice(y+(w-1)*10,y+w*10).trim(),m,x,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,y){return p[0]-y[0]||n[p[1]]-n[y[1]]}),r[g.pop()[1]]||44}function i(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var y=0,b=0,x=0,w=0,v=0,j=m.charCodeAt(0),S=!1,_=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Lee(h.dateNF):null;function D(){var O=d.slice(w,v),A={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)A.t="z";else if(h.raw)A.t="s",A.v=O;else if(O.trim().length===0)A.t="s",A.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(A.t="s",A.v=O.slice(2,-1).replace(/""/g,'"')):wne(O)?(A.t="n",A.f=O.slice(1)):(A.t="s",A.v=O);else if(O=="TRUE")A.t="b",A.v=!0;else if(O=="FALSE")A.t="b",A.v=!1;else if(!isNaN(x=To(O)))A.t="n",h.cellText!==!1&&(A.w=O),A.v=x;else if(!isNaN(zm(O).getDate())||T&&O.match(T)){A.z=h.dateNF||en[14];var M=0;T&&O.match(T)&&(O=$ee(O,h.dateNF,O.match(T)||[]),M=1),h.cellDates?(A.t="d",A.v=Da(O,M)):(A.t="n",A.v=qa(Da(O,M))),h.cellText!==!1&&(A.w=ec(A.z,A.v instanceof Date?qa(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=O;if(A.t=="z"||(h.dense?(g[y]||(g[y]=[]),g[y][b]=A):g[Tr({c:b,r:y})]=A),w=v+1,E=d.charCodeAt(w),p.e.c<b&&(p.e.c=b),p.e.r<y&&(p.e.r=y),_==j)++b;else if(b=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;v<d.length;++v)switch(_=d.charCodeAt(v)){case 34:E===34&&(S=!S);break;case j:case 10:case 13:if(!S&&D())break e;break}return v-w>0&&D(),g["!ref"]=pn(p),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Zf(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:Ioe(d,f);switch(f.type){case"base64":h=Bo(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Cx<"u"||(h=hr&&Buffer.isBuffer(d)?d.toString("binary"):a0(d));break;case"array":h=Bv(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=um(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=um(h):f.type=="binary"&&typeof Cx<"u",h.slice(0,19)=="socialcalc:version:"?H5.to_sheet(f.type=="string"?h:um(h),f):o(h,f)}function c(d,f){return _u(l(d,f),f)}function u(d){for(var f=[],h=Wr(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var y=[],b=h.s.c;b<=h.e.c;++b){var x=Tr({r:p,c:b});if(m=g?(d[p]||[])[b]:d[x],!m||m.v==null){y.push("          ");continue}for(var w=(m.w||(Uo(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(b===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),ID=function(){function e(L,q,H){if(L){rs(L,L.l||0);for(var K=H.Enum||R;L.l<L.length;){var ce=L.read_shift(2),ue=K[ce]||K[65535],ge=L.read_shift(2),le=L.l+ge,X=ue.f&&ue.f(L,ge,H);if(L.l=le,q(X,ue,ce))return}}}function t(L,q){switch(q.type){case"base64":return r(ii(Bo(L)),q);case"binary":return r(ii(L),q);case"buffer":case"array":return r(L,q)}throw"Unsupported type "+q.type}function r(L,q){if(!L)return L;var H=q||{},K=H.dense?[]:{},ce="Sheet1",ue="",ge=0,le={},X=[],xe=[],he={s:{r:0,c:0},e:{r:0,c:0}},Me=H.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)H.Enum=R,e(L,function(W,be,we){switch(we){case 0:H.vers=W,W>=4096&&(H.qpro=!0);break;case 6:he=W;break;case 204:W&&(ue=W);break;case 222:ue=W;break;case 15:case 51:H.qpro||(W[1].v=W[1].v.slice(1));case 13:case 14:case 16:we==14&&(W[2]&112)==112&&(W[2]&15)>1&&(W[2]&15)<15&&(W[1].z=H.dateNF||en[14],H.cellDates&&(W[1].t="d",W[1].v=o5(W[1].v))),H.qpro&&W[3]>ge&&(K["!ref"]=pn(he),le[ce]=K,X.push(ce),K=H.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},ge=W[3],ce=ue||"Sheet"+(ge+1),ue="");var z=H.dense?(K[W[0].r]||[])[W[0].c]:K[Tr(W[0])];if(z){z.t=W[1].t,z.v=W[1].v,W[1].z!=null&&(z.z=W[1].z),W[1].f!=null&&(z.f=W[1].f);break}H.dense?(K[W[0].r]||(K[W[0].r]=[]),K[W[0].r][W[0].c]=W[1]):K[Tr(W[0])]=W[1];break}},H);else if(L[2]==26||L[2]==14)H.Enum=se,L[2]==14&&(H.qpro=!0,L.l=0),e(L,function(W,be,we){switch(we){case 204:ce=W;break;case 22:W[1].v=W[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(W[3]>ge&&(K["!ref"]=pn(he),le[ce]=K,X.push(ce),K=H.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},ge=W[3],ce="Sheet"+(ge+1)),Me>0&&W[0].r>=Me)break;H.dense?(K[W[0].r]||(K[W[0].r]=[]),K[W[0].r][W[0].c]=W[1]):K[Tr(W[0])]=W[1],he.e.c<W[0].c&&(he.e.c=W[0].c),he.e.r<W[0].r&&(he.e.r=W[0].r);break;case 27:W[14e3]&&(xe[W[14e3][0]]=W[14e3][1]);break;case 1537:xe[W[0]]=W[1],W[0]==ge&&(ce=W[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(K["!ref"]=pn(he),le[ue||ce]=K,X.push(ue||ce),!xe.length)return{SheetNames:X,Sheets:le};for(var Pe={},Be=[],Ie=0;Ie<xe.length;++Ie)le[X[Ie]]?(Be.push(xe[Ie]||X[Ie]),Pe[xe[Ie]]=le[xe[Ie]]||le[X[Ie]]):(Be.push(xe[Ie]),Pe[xe[Ie]]={"!ref":"A1"});return{SheetNames:Be,Sheets:Pe}}function n(L,q){var H=q||{};if(+H.codepage>=0&&Wm(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var K=za(),ce=Wr(L["!ref"]),ue=Array.isArray(L),ge=[];Xe(K,0,i(1030)),Xe(K,6,c(ce));for(var le=Math.min(ce.e.r,8191),X=ce.s.r;X<=le;++X)for(var xe=na(X),he=ce.s.c;he<=ce.e.c;++he){X===ce.s.r&&(ge[he]=pa(he));var Me=ge[he]+xe,Pe=ue?(L[X]||[])[he]:L[Me];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")(Pe.v|0)==Pe.v&&Pe.v>=-32768&&Pe.v<=32767?Xe(K,13,m(X,he,Pe.v)):Xe(K,14,p(X,he,Pe.v));else{var Be=Uo(Pe);Xe(K,15,f(X,he,Be.slice(0,239)))}}return Xe(K,1),K.end()}function a(L,q){var H=q||{};if(+H.codepage>=0&&Wm(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var K=za();Xe(K,0,o(L));for(var ce=0,ue=0;ce<L.SheetNames.length;++ce)(L.Sheets[L.SheetNames[ce]]||{})["!ref"]&&Xe(K,27,F(L.SheetNames[ce],ue++));var ge=0;for(ce=0;ce<L.SheetNames.length;++ce){var le=L.Sheets[L.SheetNames[ce]];if(!(!le||!le["!ref"])){for(var X=Wr(le["!ref"]),xe=Array.isArray(le),he=[],Me=Math.min(X.e.r,8191),Pe=X.s.r;Pe<=Me;++Pe)for(var Be=na(Pe),Ie=X.s.c;Ie<=X.e.c;++Ie){Pe===X.s.r&&(he[Ie]=pa(Ie));var W=he[Ie]+Be,be=xe?(le[Pe]||[])[Ie]:le[W];if(!(!be||be.t=="z"))if(be.t=="n")Xe(K,23,D(Pe,Ie,ge,be.v));else{var we=Uo(be);Xe(K,22,_(Pe,Ie,ge,we.slice(0,239)))}}++ge}}return Xe(K,1),K.end()}function i(L){var q=Ae(2);return q.write_shift(2,L),q}function o(L){var q=Ae(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var H=0,K=0,ce=0,ue=0;ue<L.SheetNames.length;++ue){var ge=L.SheetNames[ue],le=L.Sheets[ge];if(!(!le||!le["!ref"])){++ce;var X=xs(le["!ref"]);H<X.e.r&&(H=X.e.r),K<X.e.c&&(K=X.e.c)}}return H>8191&&(H=8191),q.write_shift(2,H),q.write_shift(1,ce),q.write_shift(1,K),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(L,q,H){var K={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&H.qpro?(K.s.c=L.read_shift(1),L.l++,K.s.r=L.read_shift(2),K.e.c=L.read_shift(1),L.l++,K.e.r=L.read_shift(2),K):(K.s.c=L.read_shift(2),K.s.r=L.read_shift(2),q==12&&H.qpro&&(L.l+=2),K.e.c=L.read_shift(2),K.e.r=L.read_shift(2),q==12&&H.qpro&&(L.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(L){var q=Ae(8);return q.write_shift(2,L.s.c),q.write_shift(2,L.s.r),q.write_shift(2,L.e.c),q.write_shift(2,L.e.r),q}function u(L,q,H){var K=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(K[0].c=L.read_shift(1),K[3]=L.read_shift(1),K[0].r=L.read_shift(2),L.l+=2):(K[2]=L.read_shift(1),K[0].c=L.read_shift(2),K[0].r=L.read_shift(2)),K}function d(L,q,H){var K=L.l+q,ce=u(L,q,H);if(ce[1].t="s",H.vers==20768){L.l++;var ue=L.read_shift(1);return ce[1].v=L.read_shift(ue,"utf8"),ce}return H.qpro&&L.l++,ce[1].v=L.read_shift(K-L.l,"cstr"),ce}function f(L,q,H){var K=Ae(7+H.length);K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,L),K.write_shift(1,39);for(var ce=0;ce<K.length;++ce){var ue=H.charCodeAt(ce);K.write_shift(1,ue>=128?95:ue)}return K.write_shift(1,0),K}function h(L,q,H){var K=u(L,q,H);return K[1].v=L.read_shift(2,"i"),K}function m(L,q,H){var K=Ae(7);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,L),K.write_shift(2,H,"i"),K}function g(L,q,H){var K=u(L,q,H);return K[1].v=L.read_shift(8,"f"),K}function p(L,q,H){var K=Ae(13);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,L),K.write_shift(8,H,"f"),K}function y(L,q,H){var K=L.l+q,ce=u(L,q,H);if(ce[1].v=L.read_shift(8,"f"),H.qpro)L.l=K;else{var ue=L.read_shift(2);v(L.slice(L.l,L.l+ue),ce),L.l+=ue}return ce}function b(L,q,H){var K=q&32768;return q&=-32769,q=(K?L:0)+(q>=8192?q-16384:q),(K?"":"$")+(H?pa(q):na(q))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function v(L,q){rs(L,0);for(var H=[],K=0,ce="",ue="",ge="",le="";L.l<L.length;){var X=L[L.l++];switch(X){case 0:H.push(L.read_shift(8,"f"));break;case 1:ue=b(q[0].c,L.read_shift(2),!0),ce=b(q[0].r,L.read_shift(2),!1),H.push(ue+ce);break;case 2:{var xe=b(q[0].c,L.read_shift(2),!0),he=b(q[0].r,L.read_shift(2),!1);ue=b(q[0].c,L.read_shift(2),!0),ce=b(q[0].r,L.read_shift(2),!1),H.push(xe+he+":"+ue+ce)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(L.read_shift(2));break;case 6:{for(var Me="";X=L[L.l++];)Me+=String.fromCharCode(X);H.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:le=H.pop(),ge=H.pop(),H.push(["AND","OR"][X-20]+"("+ge+","+le+")");break;default:if(X<32&&w[X])le=H.pop(),ge=H.pop(),H.push(ge+w[X]+le);else if(x[X]){if(K=x[X][1],K==69&&(K=L[L.l++]),K>H.length){console.error("WK1 bad formula parse 0x"+X.toString(16)+":|"+H.join("|")+"|");return}var Pe=H.slice(-K);H.length-=K,H.push(x[X][0]+"("+Pe.join(",")+")")}else return X<=7?console.error("WK1 invalid opcode "+X.toString(16)):X<=24?console.error("WK1 unsupported op "+X.toString(16)):X<=30?console.error("WK1 invalid opcode "+X.toString(16)):X<=115?console.error("WK1 unsupported function opcode "+X.toString(16)):console.error("WK1 unrecognized opcode "+X.toString(16))}}H.length==1?q[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function j(L){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=L.read_shift(2),q[3]=L[L.l++],q[0].c=L[L.l++],q}function S(L,q){var H=j(L);return H[1].t="s",H[1].v=L.read_shift(q-4,"cstr"),H}function _(L,q,H,K){var ce=Ae(6+K.length);ce.write_shift(2,L),ce.write_shift(1,H),ce.write_shift(1,q),ce.write_shift(1,39);for(var ue=0;ue<K.length;++ue){var ge=K.charCodeAt(ue);ce.write_shift(1,ge>=128?95:ge)}return ce.write_shift(1,0),ce}function E(L,q){var H=j(L);H[1].v=L.read_shift(2);var K=H[1].v>>1;if(H[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return H[1].v=K,H}function T(L,q){var H=j(L),K=L.read_shift(4),ce=L.read_shift(4),ue=L.read_shift(2);if(ue==65535)return K===0&&ce===3221225472?(H[1].t="e",H[1].v=15):K===0&&ce===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ge=ue&32768;return ue=(ue&32767)-16446,H[1].v=(1-ge*2)*(ce*Math.pow(2,ue+32)+K*Math.pow(2,ue)),H}function D(L,q,H,K){var ce=Ae(14);if(ce.write_shift(2,L),ce.write_shift(1,H),ce.write_shift(1,q),K==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ue=0,ge=0,le=0,X=0;return K<0&&(ue=1,K=-K),ge=Math.log2(K)|0,K/=Math.pow(2,ge-31),X=K>>>0,X&2147483648||(K/=2,++ge,X=K>>>0),K-=X,X|=2147483648,X>>>=0,K*=Math.pow(2,32),le=K>>>0,ce.write_shift(4,le),ce.write_shift(4,X),ge+=16383+(ue?32768:0),ce.write_shift(2,ge),ce}function O(L,q){var H=T(L);return L.l+=q-14,H}function A(L,q){var H=j(L),K=L.read_shift(4);return H[1].v=K>>6,H}function M(L,q){var H=j(L),K=L.read_shift(8,"f");return H[1].v=K,H}function U(L,q){var H=M(L);return L.l+=q-10,H}function B(L,q){return L[L.l+q-1]==0?L.read_shift(q,"cstr"):""}function I(L,q){var H=L[L.l++];H>q-1&&(H=q-1);for(var K="";K.length<H;)K+=String.fromCharCode(L[L.l++]);return K}function P(L,q,H){if(!(!H.qpro||q<21)){var K=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ce=L.read_shift(q-21,"cstr");return[K,ce]}}function C(L,q){for(var H={},K=L.l+q;L.l<K;){var ce=L.read_shift(2);if(ce==14e3){for(H[ce]=[0,""],H[ce][0]=L.read_shift(2);L[L.l];)H[ce][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return H}function F(L,q){var H=Ae(5+L.length);H.write_shift(2,14e3),H.write_shift(2,q);for(var K=0;K<L.length;++K){var ce=L.charCodeAt(K);H[H.l++]=ce>127?95:ce}return H[H.l++]=0,H}var R={0:{n:"BOF",f:$5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:C},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),Sre=/^\s|\s$|[\t\n\r]/;function z5(e,t){if(!t.bookSST)return"";var r=[yn];r[r.length]=Ye("sst",null,{xmlns:Jf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Sre)&&(i+=' xml:space="preserve"'),i+=">"+Nr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Nre(e){return[e.read_shift(4),e.read_shift(4)]}function _re(e,t){return t||(t=Ae(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Ere=gte;function Tre(e){var t=za();Le(t,159,_re(e));for(var r=0;r<e.length;++r)Le(t,19,Ere(e[r]));return Le(t,160),t.end()}function Are(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function q5(e){var t=0,r,n=Are(e),a=n.length+1,i,o,l,c,u;for(r=fu(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Cre=function(){function e(a,i){switch(i.type){case"base64":return t(Bo(a),i);case"binary":return t(a,i);case"buffer":return t(hr&&Buffer.isBuffer(a)?a.toString("binary"):a0(a),i);case"array":return t(Bv(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var y=d.slice(m,h.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++p,y.length){var b={v:y,t:"s"};Array.isArray(l)?l[f][p]=b:l[Tr({r:f,c:p})]=b}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=pn(u),l}function r(a,i){return _u(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Wr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Tr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Uo(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function RD(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Dre=6,Ao=Dre;function Lx(e){return Math.floor((e+Math.round(128/Ao)/256)*Ao)}function $x(e){return Math.floor((e-5)/Ao*100+.5)/100}function nS(e){return Math.round((e*Ao+5)/Ao*256)/256}function G2(e){e.width?(e.wpx=Lx(e.width),e.wch=$x(e.wpx),e.MDW=Ao):e.wpx?(e.wch=$x(e.wpx),e.width=nS(e.wch),e.MDW=Ao):typeof e.wch=="number"&&(e.width=nS(e.wch),e.wpx=Lx(e.width),e.MDW=Ao),e.customWidth&&delete e.customWidth}var kre=96,G5=kre;function Bx(e){return e*96/G5}function K5(e){return e*G5/96}function Ore(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ye("numFmt",null,{numFmtId:n,formatCode:Nr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ye("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Pre(e){var t=[];return t[t.length]=Ye("cellXfs",null),e.forEach(function(r){t[t.length]=Ye("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ye("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Y5(e,t){var r=[yn,Ye("styleSheet",null,{xmlns:Jf[0],"xmlns:vt":Pn.vt})],n;return e.SSF&&(n=Ore(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Pre(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Ire(e,t){var r=e.read_shift(2),n=ga(e);return[r,n]}function Rre(e,t,r){r||(r=Ae(6+4*t.length)),r.write_shift(2,e),Bn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Mre(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Ste(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=jte(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ga(e),n}function Fre(e,t){t||(t=Ae(25+4*32)),t.write_shift(2,e.sz*20),Nte(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Mx(e.color,t);var n=0;return n=2,t.write_shift(1,n),Bn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Lre=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Bw,$re=Qi;function MD(e,t){t||(t=Ae(4*3+8*7+16*1)),Bw||(Bw=R2(Lre));var r=Bw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Mx({auto:1},t),Mx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Bre(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function X5(e,t,r){r||(r=Ae(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Dh(e,t){return t||(t=Ae(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ure=Qi;function Vre(e,t){return t||(t=Ae(51)),t.write_shift(1,0),Dh(null,t),Dh(null,t),Dh(null,t),Dh(null,t),Dh(null,t),t.length>t.l?t.slice(0,t.l):t}function Wre(e,t){return t||(t=Ae(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Rx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Hre(e,t,r){var n=Ae(2052);return n.write_shift(4,e),Rx(t,n),Rx(r,n),n.length>n.l?n.slice(0,n.l):n}function zre(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Le(e,615,mi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Le(e,44,Rre(a,t[a]))}),Le(e,616))}}function qre(e){var t=1;Le(e,611,mi(t)),Le(e,43,Fre({sz:12,color:{theme:1},name:"Calibri",family:2})),Le(e,612)}function Gre(e){var t=2;Le(e,603,mi(t)),Le(e,45,MD({patternType:"none"})),Le(e,45,MD({patternType:"gray125"})),Le(e,604)}function Kre(e){var t=1;Le(e,613,mi(t)),Le(e,46,Vre()),Le(e,614)}function Yre(e){var t=1;Le(e,626,mi(t)),Le(e,47,X5({numFmtId:0},65535)),Le(e,627)}function Xre(e,t){Le(e,617,mi(t.length)),t.forEach(function(r){Le(e,47,X5(r,0))}),Le(e,618)}function Qre(e){var t=1;Le(e,619,mi(t)),Le(e,48,Wre({xfId:0,name:"Normal"})),Le(e,620)}function Jre(e){var t=0;Le(e,505,mi(t)),Le(e,506)}function Zre(e){var t=0;Le(e,508,Hre(t,"TableStyleMedium9","PivotStyleMedium4")),Le(e,509)}function ene(e,t){var r=za();return Le(r,278),zre(r,e.SSF),qre(r),Gre(r),Kre(r),Yre(r),Xre(r,t.cellXfs),Qre(r),Jre(r),Zre(r),Le(r,279),r.end()}function Q5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[yn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function tne(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ga(e)}}function rne(e){var t=Ae(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Bn(e.name,t),t.slice(0,t.l)}function nne(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function ane(e){var t=Ae(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function sne(e,t){var r=Ae(8+2*t.length);return r.write_shift(4,e),Bn(t,r),r.slice(0,r.l)}function ine(e){return e.l+=4,e.read_shift(4)!=0}function one(e,t){var r=Ae(8);return r.write_shift(4,e),r.write_shift(4,1),r}function lne(){var e=za();return Le(e,332),Le(e,334,mi(1)),Le(e,335,rne({name:"XLDAPR",version:12e4,flags:3496657072})),Le(e,336),Le(e,339,sne(1,"XLDAPR")),Le(e,52),Le(e,35,mi(514)),Le(e,4096,mi(0)),Le(e,4097,As(1)),Le(e,36),Le(e,53),Le(e,340),Le(e,337,one(1)),Le(e,51,ane([[1,0]])),Le(e,338),Le(e,333),e.end()}function J5(){var e=[yn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function cne(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Tr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var md=1024;function Z5(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ye("xml",null,{"xmlns:v":as.v,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:mv":as.mv}).replace(/\/>/,">"),Ye("o:shapelayout",Ye("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ye("v:shapetype",[Ye("v:stroke",null,{joinstyle:"miter"}),Ye("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];md<e*1e3;)md+=1e3;return t.forEach(function(i){var o=$n(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ye("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ye("v:fill",c,l),d={on:"t",obscured:"t"};++md,a=a.concat(["<v:shape"+Gm({id:"_x0000_s"+md,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ye("v:shadow",null,d),Ye("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Zn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Zn("x:AutoFill","False"),Zn("x:Row",String(o.r)),Zn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function e$(e){var t=[yn,Ye("comments",null,{xmlns:Jf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Nr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Nr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Zn("t",Nr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Zn("t",Nr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function une(e,t,r){var n=[yn,Ye("ThreadedComments",null,{xmlns:Pn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Ye("threadedComment",Zn("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function dne(e){var t=[yn,Ye("personList",null,{xmlns:Pn.TCMNT,"xmlns:x":Jf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ye("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function fne(e){var t={};t.iauthor=e.read_shift(4);var r=Cu(e);return t.rfx=r.s,t.ref=Tr(r.s),e.l+=16,t}function hne(e,t){return t==null&&(t=Ae(36)),t.write_shift(4,e[1].iauthor),eh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var mne=ga;function pne(e){return Bn(e.slice(0,54))}function gne(e){var t=za(),r=[];return Le(t,628),Le(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Le(t,632,pne(a.a)))})}),Le(t,631),Le(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:$n(n[0]),e:$n(n[0])};Le(t,635,hne([i,a])),a.t&&a.t.length>0&&Le(t,637,yte(a)),Le(t,636),delete a.iauthor})}),Le(t,634),Le(t,629),t.end()}function xne(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Dr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var t$=["xlsb","xlsm","xlam","biff8","xla"],yne=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+pa(d)+(c?"":"$")+na(u)}return function(a,i){return t=i,a.replace(e,r)}}(),K2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Y2=function(){return function(t,r){return t.replace(K2,function(n,a,i,o,l,c){var u=V2(o)-(i?0:r.c),d=U2(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function vne(e,t){return e.replace(K2,function(r,n,a,i,o,l){return n+(a=="$"?a+i:pa(V2(i)+t.c))+(o=="$"?o+l:na(U2(l)+t.r))})}function wne(e){return e.length!=1}function ln(e){e.l+=1}function tc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function r$(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return n$(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=tc(e),l=tc(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function n$(e){var t=tc(e),r=tc(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function bne(e,t,r){if(r.biff<8)return n$(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=tc(e),o=tc(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function a$(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return jne(e);var n=e.read_shift(r&&r.biff==12?4:2),a=tc(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function jne(e){var t=tc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Sne(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Nne(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return _ne(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function _ne(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Ene(e,t,r){var n=(e[e.l++]&96)>>5,a=r$(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Tne(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=r$(e,i,r);return[n,a,o]}function Ane(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Cne(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Dne(e,t,r){var n=(e[e.l++]&96)>>5,a=bne(e,t-1,r);return[n,a]}function kne(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function FD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function One(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Pne(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ine(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Rne(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Mne(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function s$(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Fne(e){return e.read_shift(2),s$(e)}function Lne(e){return e.read_shift(2),s$(e)}function $ne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=a$(e,0,r);return[n,a]}function Bne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Nne(e,0,r);return[n,a]}function Une(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=a$(e,0,r);return[n,a,i]}function Vne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Vae[a],l$[a],n]}function Wne(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Hne(e);return[a,(i[0]===0?l$:Uae)[i[1]]]}function Hne(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function zne(e,t,r){e.l+=r&&r.biff==2?3:4}function qne(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Gne(e){return e.l++,o0[e.read_shift(1)]}function Kne(e){return e.l++,e.read_shift(2)}function Yne(e){return e.l++,e.read_shift(1)!==0}function Xne(e){return e.l++,th(e)}function Qne(e,t,r){return e.l++,U5(e,t-1,r)}function Jne(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ute(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=o0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=th(e);break;case 2:r[1]=zte(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Zne(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Cu:Kte)(e));return a}function eae(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=Jne(e,r.biff);return o}function tae(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function rae(e,t,r){if(r.biff==5)return nae(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function nae(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function aae(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function sae(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function iae(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function oae(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var lae=Qi,cae=Qi,uae=Qi;function l0(e,t,r){return e.l+=2,[Sne(e)]}function X2(e){return e.l+=6,[]}var dae=l0,fae=X2,hae=X2,mae=l0;function i$(e){return e.l+=2,[$5(e),e.read_shift(2)&1]}var pae=l0,gae=i$,xae=X2,yae=l0,vae=l0,wae=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function bae(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=wae[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function jae(e){return e.l+=2,[e.read_shift(4)]}function Sae(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Nae(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function _ae(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Eae(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Tae(e){return e.l+=4,[0,0]}var LD={1:{n:"PtgExp",f:qne},2:{n:"PtgTbl",f:uae},3:{n:"PtgAdd",f:ln},4:{n:"PtgSub",f:ln},5:{n:"PtgMul",f:ln},6:{n:"PtgDiv",f:ln},7:{n:"PtgPower",f:ln},8:{n:"PtgConcat",f:ln},9:{n:"PtgLt",f:ln},10:{n:"PtgLe",f:ln},11:{n:"PtgEq",f:ln},12:{n:"PtgGe",f:ln},13:{n:"PtgGt",f:ln},14:{n:"PtgNe",f:ln},15:{n:"PtgIsect",f:ln},16:{n:"PtgUnion",f:ln},17:{n:"PtgRange",f:ln},18:{n:"PtgUplus",f:ln},19:{n:"PtgUminus",f:ln},20:{n:"PtgPercent",f:ln},21:{n:"PtgParen",f:ln},22:{n:"PtgMissArg",f:ln},23:{n:"PtgStr",f:Qne},26:{n:"PtgSheet",f:Sae},27:{n:"PtgEndSheet",f:Nae},28:{n:"PtgErr",f:Gne},29:{n:"PtgBool",f:Yne},30:{n:"PtgInt",f:Kne},31:{n:"PtgNum",f:Xne},32:{n:"PtgArray",f:kne},33:{n:"PtgFunc",f:Vne},34:{n:"PtgFuncVar",f:Wne},35:{n:"PtgName",f:tae},36:{n:"PtgRef",f:$ne},37:{n:"PtgArea",f:Ene},38:{n:"PtgMemArea",f:aae},39:{n:"PtgMemErr",f:lae},40:{n:"PtgMemNoMem",f:cae},41:{n:"PtgMemFunc",f:sae},42:{n:"PtgRefErr",f:iae},43:{n:"PtgAreaErr",f:Ane},44:{n:"PtgRefN",f:Bne},45:{n:"PtgAreaN",f:Dne},46:{n:"PtgMemAreaN",f:_ae},47:{n:"PtgMemNoMemN",f:Eae},57:{n:"PtgNameX",f:rae},58:{n:"PtgRef3d",f:Une},59:{n:"PtgArea3d",f:Tne},60:{n:"PtgRefErr3d",f:oae},61:{n:"PtgAreaErr3d",f:Cne},255:{}},Aae={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Cae={1:{n:"PtgElfLel",f:i$},2:{n:"PtgElfRw",f:yae},3:{n:"PtgElfCol",f:dae},6:{n:"PtgElfRwV",f:vae},7:{n:"PtgElfColV",f:mae},10:{n:"PtgElfRadical",f:pae},11:{n:"PtgElfRadicalS",f:xae},13:{n:"PtgElfColS",f:fae},15:{n:"PtgElfColSV",f:hae},16:{n:"PtgElfRadicalLel",f:gae},25:{n:"PtgList",f:bae},29:{n:"PtgSxName",f:jae},255:{}},Dae={0:{n:"PtgAttrNoop",f:Tae},1:{n:"PtgAttrSemi",f:Mne},2:{n:"PtgAttrIf",f:Ine},4:{n:"PtgAttrChoose",f:One},8:{n:"PtgAttrGoto",f:Pne},16:{n:"PtgAttrSum",f:zne},32:{n:"PtgAttrBaxcel",f:FD},33:{n:"PtgAttrBaxcel",f:FD},64:{n:"PtgAttrSpace",f:Fne},65:{n:"PtgAttrSpaceSemi",f:Lne},128:{n:"PtgAttrIfError",f:Rne},255:{}};function kae(e,t,r,n){if(n.biff<8)return Qi(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=eae(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Zne(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Qi(e,t)),i}function Oae(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=LD[i]||LD[Aae[i]],(i===24||i===25)&&(a=(i===24?Cae:Dae)[e[e.l+1]]),!a||!a.f?Qi(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Pae(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Iae={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Rae(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function o$(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function $D(e,t,r){var n=o$(e,t,r);return n=="#REF"?n:Rae(n,r)}function gf(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,y="",b=0,x=e[0].length;b<x;++b){var w=e[0][b];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:y=Jr(" ",e[0][p][1][1]);break;case 1:y=Jr("\r",e[0][p][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+y,p=-1}l.push(u+Iae[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=fm(w[1][1],o,a),l.push(hm(d,i));break;case"PtgRefN":d=r?fm(w[1][1],r,a):w[1][1],l.push(hm(d,i));break;case"PtgRef3d":f=w[1][1],d=fm(w[1][2],o,a),g=$D(n,f,a),l.push(g+"!"+hm(d,i));break;case"PtgFunc":case"PtgFuncVar":var v=w[1][0],j=w[1][1];v||(v=0),v&=127;var S=v==0?[]:l.slice(-v);l.length-=v,j==="User"&&(j=S.shift()),l.push(j+"("+S.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=SD(w[1][1],r?{s:r}:o,a),l.push(Lw(m,a));break;case"PtgArea":m=SD(w[1][1],o,a),l.push(Lw(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],g=$D(n,f,a),l.push(g+"!"+Lw(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var _=(n.names||[])[h-1]||(n[0]||[])[h],E=_?_.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var T=w[1][1];h=w[1][2];var D;if(a.biff<=5)T<0&&(T=-T),n[T]&&(D=n[T][h]);else{var O="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(O=n.SheetNames[n[T][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])O+=n[T][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var A=(o$(n,T,a)||"").split(";;");A[h-1]?O=A[h-1]:O+="SH33TJSERRX"}l.push(O);break}D||(D={Name:"SH33TJSERRY"}),l.push(D.Name);break;case"PtgParen":var M="(",U=")";if(p>=0){switch(y="",e[0][p][1][0]){case 2:M=Jr(" ",e[0][p][1][1])+M;break;case 3:M=Jr("\r",e[0][p][1][1])+M;break;case 4:U=Jr(" ",e[0][p][1][1])+U;break;case 5:U=Jr("\r",e[0][p][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(M+l.pop()+U);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var B={c:r.c,r:r.r};if(n.sharedf[Tr(d)]){var I=n.sharedf[Tr(d)];l.push(gf(I,o,B,n,a))}else{var P=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(gf(u[1],o,B,n,a)),P=!0;break}P||l.push(w[1])}break;case"PtgArray":l.push("{"+Pae(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var C=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&C.indexOf(e[0][b][0])==-1){w=e[0][p];var F=!0;switch(w[1][0]){case 4:F=!1;case 0:y=Jr(" ",w[1][1]);break;case 5:F=!1;case 1:y=Jr("\r",w[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((F?y:"")+l.pop()+(F?"":y)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function Mae(e){if(e==null){var t=Ae(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return hu(e);return hu(0)}function Fae(e,t,r,n,a){var i=mu(t,r,a),o=Mae(e.v),l=Ae(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ae(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Jn([i,o,l,u]);return f}function Uv(e,t,r){var n=e.read_shift(4),a=Oae(e,n,r),i=e.read_shift(4),o=i>0?kae(e,i,a,r):null;return[a,o]}var Lae=Uv,Vv=Uv,$ae=Uv,Bae=Uv,Uae={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},l$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Vae={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Wae(e){var t="of:="+e.replace(K2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Hae(e){return e.replace(/\./,"!")}var mm=typeof Map<"u";function Q2(e,t,r){var n=0,a=e.length;if(r){if(mm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=mm?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(mm?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Wv(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ao=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=$x(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=nS(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function c$(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function dc(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){a5(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function zae(e,t,r){if(e&&e["!ref"]){var n=Wr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function qae(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+pn(e[r])+'"/>';return t+"</mergeCells>"}function Gae(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=qm(Nr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Ye("outlinePr",null,u)}!i&&!l||(a[a.length]=Ye("sheetPr",l,o))}var Kae=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Yae=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Xae(e){var t={sheet:1};return Kae.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Yae.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=q5(e.password).toString(16).toUpperCase()),Ye("sheetProtection",null,t)}function Qae(e){return c$(e),Ye("pageMargins",null,e)}function Jae(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ye("col",null,Wv(a,n)));return r[r.length]="</cols>",r.join("")}function Zae(e,t,r,n){var a=typeof e.ref=="string"?e.ref:pn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=xs(a);o.s.r==o.e.r&&(o.e.r=xs(t["!ref"]).e.r,a=pn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ye("autoFilter",null,{ref:a})}function ese(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ye("sheetViews",Ye("sheetView",null,a),{})}function tse(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=o0[e.v];break;case"d":n&&n.cellDates?a=Da(e.v,-1).toISOString():(e=Ga(e),e.t="n",a=""+(e.v=qa(Da(e.v)))),typeof e.z>"u"&&(e.z=en[14]);break;default:a=e.v;break}var l=Zn("v",Nr(a)),c={r:t},u=dc(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Zn("v",""+Q2(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Ye("f",Nr(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ye("c",l,c)}function rse(e,t,r,n){var a=[],i=[],o=Wr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,m=e["!rows"],g=Array.isArray(e),p={r:u},y,b=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=pa(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=na(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var x=g?(e[f]||[])[h]:e[c];x!==void 0&&(l=tse(x,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[f])&&(p={r:u},m&&m[f]&&(y=m[f],y.hidden&&(p.hidden=1),b=-1,y.hpx?b=Bx(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(p.ht=b,p.customHeight=1),y.level&&(p.outlineLevel=y.level)),a[a.length]=Ye("row",i.join(""),p))}if(m)for(;f<m.length;++f)m&&m[f]&&(p={r:f+1},y=m[f],y.hidden&&(p.hidden=1),b=-1,y.hpx?b=Bx(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(p.ht=b,p.customHeight=1),y.level&&(p.outlineLevel=y.level),a[a.length]=Ye("row","",p));return a.join("")}function u$(e,t,r,n){var a=[yn,Ye("worksheet",null,{xmlns:Jf[0],"xmlns:r":Pn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Wr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=pn(d)}n||(n={}),c["!comments"]=[];var f=[];Gae(c,r,e,t,a),a[a.length]=Ye("dimension",null,{ref:u}),a[a.length]=ese(c,t,e,r),t.sheetFormat&&(a[a.length]=Ye("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Jae(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=rse(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=Xae(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Zae(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=qae(c["!merges"]));var h=-1,m,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=Sr(n,-1,Nr(p[1].Target).replace(/#.*$/,""),ur.HLINK),m["r:id"]="rId"+g),(h=p[1].Target.indexOf("#"))>-1&&(m.location=Nr(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=Nr(p[1].Tooltip)),a[a.length]=Ye("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Qae(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Zn("ignoredErrors",Ye("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=Sr(n,-1,"../drawings/drawing"+(e+1)+".xml",ur.DRAW),a[a.length]=Ye("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Sr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ur.VML),a[a.length]=Ye("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function nse(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function ase(e,t,r){var n=Ae(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Bx(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Tr(u)];g&&(f<0&&(f=m),h=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function sse(e,t,r,n){var a=ase(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Le(e,0,a)}var ise=Cu,ose=eh;function lse(){}function cse(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=vte(e),r}function use(e,t,r){r==null&&(r=Ae(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Mx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),_5(e,r),r.slice(0,r.l)}function dse(e){var t=Vs(e);return[t]}function fse(e,t,r){return r==null&&(r=Ae(8)),Eu(t,r)}function hse(e){var t=Tu(e);return[t]}function mse(e,t,r){return r==null&&(r=Ae(4)),Au(t,r)}function pse(e){var t=Vs(e),r=e.read_shift(1);return[t,r,"b"]}function gse(e,t,r){return r==null&&(r=Ae(9)),Eu(t,r),r.write_shift(1,e.v?1:0),r}function xse(e){var t=Tu(e),r=e.read_shift(1);return[t,r,"b"]}function yse(e,t,r){return r==null&&(r=Ae(5)),Au(t,r),r.write_shift(1,e.v?1:0),r}function vse(e){var t=Vs(e),r=e.read_shift(1);return[t,r,"e"]}function wse(e,t,r){return r==null&&(r=Ae(9)),Eu(t,r),r.write_shift(1,e.v),r}function bse(e){var t=Tu(e),r=e.read_shift(1);return[t,r,"e"]}function jse(e,t,r){return r==null&&(r=Ae(8)),Au(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Sse(e){var t=Vs(e),r=e.read_shift(4);return[t,r,"s"]}function Nse(e,t,r){return r==null&&(r=Ae(12)),Eu(t,r),r.write_shift(4,t.v),r}function _se(e){var t=Tu(e),r=e.read_shift(4);return[t,r,"s"]}function Ese(e,t,r){return r==null&&(r=Ae(8)),Au(t,r),r.write_shift(4,t.v),r}function Tse(e){var t=Vs(e),r=th(e);return[t,r,"n"]}function Ase(e,t,r){return r==null&&(r=Ae(16)),Eu(t,r),hu(e.v,r),r}function Cse(e){var t=Tu(e),r=th(e);return[t,r,"n"]}function Dse(e,t,r){return r==null&&(r=Ae(12)),Au(t,r),hu(e.v,r),r}function kse(e){var t=Vs(e),r=E5(e);return[t,r,"n"]}function Ose(e,t,r){return r==null&&(r=Ae(12)),Eu(t,r),T5(e.v,r),r}function Pse(e){var t=Tu(e),r=E5(e);return[t,r,"n"]}function Ise(e,t,r){return r==null&&(r=Ae(8)),Au(t,r),T5(e.v,r),r}function Rse(e){var t=Vs(e),r=W2(e);return[t,r,"is"]}function Mse(e){var t=Vs(e),r=ga(e);return[t,r,"str"]}function Fse(e,t,r){return r==null&&(r=Ae(12+4*e.v.length)),Eu(t,r),Bn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Lse(e){var t=Tu(e),r=ga(e);return[t,r,"str"]}function $se(e,t,r){return r==null&&(r=Ae(8+4*e.v.length)),Au(t,r),Bn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Bse(e,t,r){var n=e.l+t,a=Vs(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=Vv(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}function Use(e,t,r){var n=e.l+t,a=Vs(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=Vv(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}function Vse(e,t,r){var n=e.l+t,a=Vs(e);a.r=r["!row"];var i=th(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=Vv(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}function Wse(e,t,r){var n=e.l+t,a=Vs(e);a.r=r["!row"];var i=ga(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=Vv(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}var Hse=Cu,zse=eh;function qse(e,t){return t==null&&(t=Ae(4)),t.write_shift(4,e),t}function Gse(e,t){var r=e.l+t,n=Cu(e),a=H2(e),i=ga(e),o=ga(e),l=ga(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function Kse(e,t){var r=Ae(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));eh({s:$n(e[0]),e:$n(e[0])},r),z2("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Bn(a||"",r),Bn(e[1].Tooltip||"",r),Bn("",r),r.slice(0,r.l)}function Yse(){}function Xse(e,t,r){var n=e.l+t,a=A5(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=Lae(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Qse(e,t,r){var n=e.l+t,a=Cu(e),i=[a];if(r.cellFormula){var o=Bae(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function Jse(e,t,r){r==null&&(r=Ae(18));var n=Wv(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var d$=["left","right","top","bottom","header","footer"];function Zse(e){var t={};return d$.forEach(function(r){t[r]=th(e)}),t}function eie(e,t){return t==null&&(t=Ae(6*8)),c$(e),d$.forEach(function(r){hu(e[r],t)}),t}function tie(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function rie(e,t,r){r==null&&(r=Ae(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function nie(e){var t=Ae(24);return t.write_shift(4,4),t.write_shift(4,1),eh(e,t),t}function aie(e,t){return t==null&&(t=Ae(16*4+2)),t.write_shift(2,e.password?q5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function sie(){}function iie(){}function oie(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ga(t),t.z=t.z||en[14],t.v=qa(Da(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=dc(a.cellXfs,t,a),t.l&&i["!links"].push([Tr(c),t.l]),t.c&&i["!comments"].push([Tr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=Q2(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Le(e,18,Ese(t,c)):Le(e,7,Nse(t,c))):(c.t="str",o?Le(e,17,$se(t,c)):Le(e,6,Fse(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Le(e,13,Ise(t,c)):Le(e,2,Ose(t,c)):o?Le(e,16,Dse(t,c)):Le(e,5,Ase(t,c)),!0;case"b":return c.t="b",o?Le(e,15,yse(t,c)):Le(e,4,gse(t,c)),!0;case"e":return c.t="e",o?Le(e,14,jse(t,c)):Le(e,3,wse(t,c)),!0}return o?Le(e,12,mse(t,c)):Le(e,1,fse(t,c)),!0}function lie(e,t,r,n){var a=Wr(t["!ref"]||"A1"),i,o="",l=[];Le(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=na(d),sse(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=pa(h)),i=l[h]+o;var m=c?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=oie(e,m,d,h,n,t,f)}}Le(e,146)}function cie(e,t){!t||!t["!merges"]||(Le(e,177,qse(t["!merges"].length)),t["!merges"].forEach(function(r){Le(e,176,zse(r))}),Le(e,178))}function uie(e,t){!t||!t["!cols"]||(Le(e,390),t["!cols"].forEach(function(r,n){r&&Le(e,60,Jse(n,r))}),Le(e,391))}function die(e,t){!t||!t["!ref"]||(Le(e,648),Le(e,649,nie(Wr(t["!ref"]))),Le(e,650))}function fie(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Sr(r,-1,n[1].Target.replace(/#.*$/,""),ur.HLINK);Le(e,494,Kse(n,a))}}),delete t["!links"]}function hie(e,t,r,n){if(t["!comments"].length>0){var a=Sr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ur.VML);Le(e,551,z2("rId"+a)),t["!legacy"]=a}}function mie(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:pn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=xs(i);l.s.r==l.e.r&&(l.e.r=xs(t["!ref"]).e.r,i=pn(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Le(e,161,eh(Wr(i))),Le(e,162)}}function pie(e,t,r){Le(e,133),Le(e,137,rie(t,r)),Le(e,138),Le(e,134)}function gie(e,t){t["!protect"]&&Le(e,535,aie(t["!protect"]))}function xie(e,t,r,n){var a=za(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Wr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Le(a,129),(r.vbaraw||o["!outline"])&&Le(a,147,use(l,o["!outline"])),Le(a,148,ose(c)),pie(a,o,r.Workbook),uie(a,o),lie(a,o,e,t),gie(a,o),mie(a,o,r,e),cie(a,o),fie(a,o,n),o["!margins"]&&Le(a,476,eie(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&die(a,o),hie(a,o,e,n),Le(a,130),a.end()}function yie(e,t){e.l+=10;var r=ga(e);return{name:r}}var vie=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function wie(e){return!e.Workbook||!e.Workbook.WBProps?"false":Qee(e.Workbook.WBProps.date1904)?"true":"false"}var bie="][*?/\\".split("");function f$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return bie.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function jie(e,t,r){e.forEach(function(n,a){f$(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Sie(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];jie(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)zae(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function h$(e){var t=[yn];t[t.length]=Ye("workbook",null,{xmlns:Jf[0],"xmlns:r":Pn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(vie.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ye("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Nr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ye("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Ye("definedName",Nr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Nie(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=rS(e),r.name=ga(e),r}function _ie(e,t){return t||(t=Ae(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),z2(e.strRelID,t),Bn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Eie(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ga(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Tie(e,t){t||(t=Ae(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),_5(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Aie(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=wte(e),o=$ae(e,0,r),l=H2(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Cie(e,t){Le(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Le(e,156,_ie(a))}Le(e,144)}function Die(e,t){t||(t=Ae(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Bn("SheetJS",t),Bn(Ax.version,t),Bn(Ax.version,t),Bn("7262",t),t.length>t.l?t.slice(0,t.l):t}function kie(e,t){t||(t=Ae(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Oie(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Le(e,135),Le(e,158,kie(a)),Le(e,136))}}function Pie(e,t){var r=za();return Le(r,131),Le(r,128,Die()),Le(r,153,Tie(e.Workbook&&e.Workbook.WBProps||null)),Oie(r,e),Cie(r,e),Le(r,132),r.end()}function Iie(e,t,r){return(t.slice(-4)===".bin"?Pie:h$)(e)}function Rie(e,t,r,n,a){return(t.slice(-4)===".bin"?xie:u$)(e,r,n,a)}function Mie(e,t,r){return(t.slice(-4)===".bin"?ene:Y5)(e,r)}function Fie(e,t,r){return(t.slice(-4)===".bin"?Tre:z5)(e,r)}function Lie(e,t,r){return(t.slice(-4)===".bin"?gne:e$)(e)}function $ie(e){return(e.slice(-4)===".bin"?lne:J5)()}function Bie(e,t){var r=[];return e.Props&&r.push(Mte(e.Props,t)),e.Custprops&&r.push(Fte(e.Props,e.Custprops)),r.join("")}function Uie(){return""}function Vie(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Ye("NumberFormat",null,{"ss:Format":Nr(en[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Ye("Style",i.join(""),o))}),Ye("Styles",r.join(""))}function m$(e){return Ye("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Y2(e.Ref,{r:0,c:0})})}function Wie(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(m$(a)))}return Ye("Names",r.join(""))}function Hie(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(m$(l)))}return i.join("")}function zie(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ye("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ye("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ye("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ye("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Zn("ProtectContents","True")),e["!protect"].objects&&a.push(Zn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Zn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Zn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Zn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Ye("WorksheetOptions",a.join(""),{xmlns:as.x})}function qie(e){return e.map(function(t){var r=Xee(t.t||""),n=Ye("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ye("Comment",n,{"ss:Author":t.a})}).join("")}function Gie(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Nr(Y2(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=$n(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Nr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Nr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=o0[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||en[14]);break;case"s":f="String",h=Yee(e.v||"");break}var m=dc(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var g=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=qie(e.c)),Ye("Cell",p,l)}function Kie(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=K5(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Yie(e,t,r,n){if(!e["!ref"])return"";var a=Wr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(y,b){G2(y);var x=!!y.width,w=Wv(b,y),v={"ss:Index":b+1};x&&(v["ss:Width"]=Lx(w.width)),y.hidden&&(v["ss:Hidden"]="1"),l.push(Ye("Column",null,v))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[Kie(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},g=Tr(m),p=c?(e[u]||[])[f]:e[g];d.push(Gie(p,g,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function Xie(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?Hie(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?Yie(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(zie(i,t,e,r)),n.join("")}function Qie(e,t){t||(t={}),e.SSF||(e.SSF=Ga(en)),e.SSF&&(Lv(),Fv(e.SSF),t.revssf=$v(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],dc(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Bie(e,t)),r.push(Uie()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ye("Worksheet",Xie(n,t,e),{"ss:Name":Nr(e.SheetNames[n])}));return r[2]=Vie(e,t),r[3]=Wie(e),yn+Ye("Workbook",r.join(""),{xmlns:as.ss,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:ss":as.ss,"xmlns:dt":as.dt,"xmlns:html":as.html})}var Uw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Jie(e,t){var r=[],n=[],a=[],i=0,o,l=fD(_D,"n"),c=fD(ED,"n");if(e.Props)for(o=ia(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=ia(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)L5.indexOf(a[i][0])>-1||R5.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Dr.utils.cfb_add(t,"/SummaryInformation",kD(n,Uw.SI,c,ED)),(r.length||u.length)&&Dr.utils.cfb_add(t,"/DocumentSummaryInformation",kD(r,Uw.DSI,l,_D,u.length?u:null,Uw.UDI))}function Zie(e,t){var r=t||{},n=Dr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Dr.utils.cfb_add(n,a,p$(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Jie(e,n),r.biff==8&&e.vbaraw&&xne(n,Dr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var eoe={0:{f:nse},1:{f:dse},2:{f:kse},3:{f:vse},4:{f:pse},5:{f:Tse},6:{f:Mse},7:{f:Sse},8:{f:Wse},9:{f:Vse},10:{f:Bse},11:{f:Use},12:{f:hse},13:{f:Pse},14:{f:bse},15:{f:xse},16:{f:Cse},17:{f:Lse},18:{f:_se},19:{f:W2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Aie},40:{},42:{},43:{f:Mre},44:{f:Ire},45:{f:$re},46:{f:Ure},47:{f:Bre},48:{},49:{f:hte},50:{},51:{f:nne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mre},62:{f:Rse},63:{f:cne},64:{f:sie},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tie},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cse},148:{f:ise,p:16},151:{f:Yse},152:{},153:{f:Eie},154:{},155:{},156:{f:Nie},157:{},158:{},159:{T:1,f:Nre},160:{T:-1},161:{T:1,f:Cu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Hse},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tne},336:{T:-1},337:{f:ine,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:rS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:lre},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Xse},427:{f:Qse},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Zse},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lse},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:rS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mne},633:{T:1},634:{T:-1},635:{T:1,f:fne},636:{T:-1},637:{f:xte},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:yie},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:iie},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Xe(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&B2(r)&&e.push(r)}}function toe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Xe(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function c0(e,t,r){return e||(e=Ae(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function roe(e,t,r,n){var a=Ae(9);return c0(a,e,t),B5(r,n||"b",a),a}function noe(e,t,r){var n=Ae(8+2*r.length);return c0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function aoe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?qa(Da(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Xe(e,2,yre(r,n,a)):Xe(e,3,xre(r,n,a));return;case"b":case"e":Xe(e,5,roe(r,n,t.v,t.t));return;case"s":case"str":Xe(e,4,noe(r,n,(t.v||"").slice(0,255)));return}Xe(e,1,c0(null,r,n))}function soe(e,t,r,n){var a=Array.isArray(t),i=Wr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=pn(i)}for(var u=i.s.r;u<=i.e.r;++u){l=na(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=pa(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&aoe(e,f,u,d)}}}function ioe(e,t){for(var r=t||{},n=za(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Xe(n,r.biff==4?1033:r.biff==3?521:9,q2(e,16,r)),soe(n,e.Sheets[e.SheetNames[a]],a,r),Xe(n,10),n.end()}function ooe(e,t,r){Xe(e,49,ere({sz:12,name:"Arial"},r))}function loe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Xe(e,1054,nre(a,t[a],r))})}function coe(e,t){var r=Ae(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Xe(e,2151,r),r=Ae(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),W5(Wr(t["!ref"]||"A1"),r),r.write_shift(4,4),Xe(e,2152,r)}function uoe(e,t){for(var r=0;r<16;++r)Xe(e,224,PD({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Xe(e,224,PD(n,0,t))})}function doe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Xe(e,440,dre(n)),n[1].Tooltip&&Xe(e,2048,fre(n))}delete t["!links"]}function foe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Xe(e,125,pre(Wv(a,n),a))})}}function hoe(e,t,r,n,a){var i=16+dc(a.cellXfs,t,a);if(t.v==null&&!t.bf){Xe(e,513,mu(r,n,i));return}if(t.bf)Xe(e,6,Fae(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?qa(Da(t.v)):t.v;Xe(e,515,ore(r,n,o,i));break;case"b":case"e":Xe(e,517,ire(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=Q2(a.Strings,t.v,a.revStrings);Xe(e,253,tre(r,n,l,i))}else Xe(e,516,rre(r,n,(t.v||"").slice(0,255),i,a));break;default:Xe(e,513,mu(r,n,i))}}function moe(e,t,r){var n=za(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Wr(i["!ref"]||"A1"),g=u?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}Xe(n,2057,q2(r,16,t)),Xe(n,13,As(1)),Xe(n,12,As(100)),Xe(n,15,Ea(!0)),Xe(n,17,Ea(!1)),Xe(n,16,hu(.001)),Xe(n,95,Ea(!0)),Xe(n,42,Ea(!1)),Xe(n,43,Ea(!1)),Xe(n,130,As(1)),Xe(n,128,sre()),Xe(n,131,Ea(!1)),Xe(n,132,Ea(!1)),u&&foe(n,i["!cols"]),Xe(n,512,are(m,t)),u&&(i["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){f=na(p);for(var y=m.s.c;y<=m.e.c;++y){p===m.s.r&&(h[y]=pa(y)),d=h[y]+f;var b=c?(i[p]||[])[y]:i[d];b&&(hoe(n,b,p,y,t),u&&b.l&&i["!links"].push([d,b.l]))}}var x=l.CodeName||l.name||a;return u&&Xe(n,574,Zte((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Xe(n,229,ure(i["!merges"])),u&&doe(n,i),Xe(n,442,V5(x)),u&&coe(n,i),Xe(n,10),n.end()}function poe(e,t,r){var n=za(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Xe(n,2057,q2(e,5,r)),r.bookType=="xla"&&Xe(n,135),Xe(n,225,l?As(1200):null),Xe(n,193,Bte(2)),c&&Xe(n,191),c&&Xe(n,192),Xe(n,226),Xe(n,92,Yte("SheetJS",r)),Xe(n,66,As(l?1200:1252)),l&&Xe(n,353,As(0)),l&&Xe(n,448),Xe(n,317,gre(e.SheetNames.length)),l&&e.vbaraw&&Xe(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Xe(n,442,V5(u))}Xe(n,156,As(17)),Xe(n,25,Ea(!1)),Xe(n,18,Ea(!1)),Xe(n,19,As(0)),l&&Xe(n,431,Ea(!1)),l&&Xe(n,444,As(0)),Xe(n,61,Jte()),Xe(n,64,Ea(!1)),Xe(n,141,As(0)),Xe(n,34,Ea(wie(e)=="true")),Xe(n,14,Ea(!0)),l&&Xe(n,439,Ea(!1)),Xe(n,218,As(0)),ooe(n,e,r),loe(n,e.SSF,r),uoe(n,r),l&&Xe(n,352,Ea(!1));var d=n.end(),f=za();l&&Xe(f,140,hre()),l&&r.Strings&&toe(f,252,Qte(r.Strings)),Xe(f,10);var h=f.end(),m=za(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var y=d.length+g+h.length;for(p=0;p<e.SheetNames.length;++p){var b=i[p]||{};Xe(m,133,Xte({pos:y,hs:b.Hidden||0,dt:0,name:e.SheetNames[p]},r)),y+=t[p].length}var x=m.end();if(g!=x.length)throw new Error("BS8 "+g+" != "+x.length);var w=[];return d.length&&w.push(d),x.length&&w.push(x),h.length&&w.push(h),Jn(w)}function goe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ga(en)),e&&e.SSF&&(Lv(),Fv(e.SSF),r.revssf=$v(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,J2(r),r.cellXfs=[],dc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=moe(a,r,e);return n.unshift(poe(e,n,r)),Jn(n)}function p$(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=xs(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return goe(e,t);case 4:case 3:case 2:return ioe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function xoe(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Tr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||Kee(f.w||(Uo(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(Ye("td",h,m))}}var g="<tr>";return g+i.join("")+"</tr>"}var yoe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',voe="</body></html>";function woe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function g$(e,t){var r=t||{},n=r.header!=null?r.header:yoe,a=r.footer!=null?r.footer:voe,i=[n],o=xs(e["!ref"]);r.dense=Array.isArray(e),i.push(woe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(xoe(e,o,l,r));return i.push("</table>"+a),i.join("")}function x$(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?$n(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=xs(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,y=0,b=0,x=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var v=l[g];if(BD(v)){if(n.display)continue;m[p]={hidden:!0}}var j=v.children;for(y=b=0;y<j.length;++y){var S=j[y];if(!(n.display&&BD(S))){var _=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):Jee(S.innerHTML),E=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==b+i&&T.s.r<p+a&&p+a<=T.e.r&&(b=T.e.c+1-i,h=-1)}w=+S.getAttribute("colspan")||1,((x=+S.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:b+i},e:{r:p+a+(x||1)-1,c:b+i+(w||1)-1}});var D={t:"s",v:_},O=S.getAttribute("data-t")||S.getAttribute("t")||"";_!=null&&(_.length==0?D.t=O||"z":n.raw||_.trim().length==0||O=="s"||(_==="TRUE"?D={t:"b",v:!0}:_==="FALSE"?D={t:"b",v:!1}:isNaN(To(_))?isNaN(zm(_).getDate())||(D={t:"d",v:Da(_)},n.cellDates||(D={t:"n",v:qa(D.v)}),D.z=n.dateNF||en[14]):D={t:"n",v:To(_)})),D.z===void 0&&E!=null&&(D.z=E);var A="",M=S.getElementsByTagName("A");if(M&&M.length)for(var U=0;U<M.length&&!(M[U].hasAttribute("href")&&(A=M[U].getAttribute("href"),A.charAt(0)!="#"));++U);A&&A.charAt(0)!="#"&&(D.l={Target:A}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][b+i]=D):e[Tr({c:b+i,r:p+a})]=D,u.e.c<b+i&&(u.e.c=b+i),b+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=pn(u),p>=c&&(e["!fullref"]=pn((u.e.r=l.length-g+p-1+a,u))),e}function y$(e,t){var r=t||{},n=r.dense?[]:{};return x$(n,e,t)}function boe(e,t){return _u(y$(e,t),t)}function BD(e){var t="",r=joe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function joe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Soe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Gm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return yn+t}}(),UD=function(){var e=function(i){return Nr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Nr(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=xs(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,g=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var p="",y=i["!rows"]||[];for(u=0;u<f.s.r;++u)p=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,x={},w="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(b=!0),x["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,x["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(b){c.push(r);continue}var v=Tr({r:u,c:d}),j=g?(i[u]||[])[d]:i[v];if(j&&j.f&&(x["table:formula"]=Nr(Wae(j.f)),j.F&&j.F.slice(0,v.length)==v)){var S=xs(j.F);x["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,x["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":w=j.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=j.v?"true":"false";break;case"n":w=j.w||String(j.v||0),x["office:value-type"]="float",x["office:value"]=j.v||0;break;case"s":case"str":w=j.v==null?"":j.v,x["office:value-type"]="string";break;case"d":w=j.w||Da(j.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Da(j.v).toISOString(),x["table:style-name"]="ce1";break;default:c.push(t);continue}var _=e(w);if(j.l&&j.l.Target){var E=j.l.Target;E=E.charAt(0)=="#"?"#"+Hae(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),_=Ye("text:a",_,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+Ye("table:table-cell",Ye("text:p",_,{}),x)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;G2(f),f.ods=l;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[yn],u=Gm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Gm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(P5().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function v$(e,t){if(t.bookType=="fods")return UD(e,t);var r=M2(),n="",a=[],i=[];return n="mimetype",Xt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Xt(r,n,UD(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Xt(r,n,Soe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Xt(r,n,yn+P5()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Xt(r,n,Rte(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Xt(r,n,Pte(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ux(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Noe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ii(qm(e))}function _oe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function rc(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Eoe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Km(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function br(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function kd(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Sn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Km(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Km(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Gn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(br(n*8+a.type)),a.type==2&&t.push(br(a.data.length)),t.push(a.data))})}),rc(t)}function qs(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Km(e,n),i=Sn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:kd(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Sn(l.data),u=kd(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=kd(i[3][0].data)>>>0>0),r.push(o)}return r}function Ku(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:br(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:br(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:br(o.data.length)}],n[2].push({data:Gn(o.meta),type:2})});var i=Gn(n);t.push(br(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),rc(t)}function Toe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Km(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[rc(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=rc(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Gs(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Toe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return rc(t)}function Yu(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=br(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return rc(t)}function Vw(e,t){var r=new Uint8Array(32),n=Ux(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Eoe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Ww(e,t){var r=new Uint8Array(32),n=Ux(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function rl(e){var t=Sn(e);return Km(t[1][0].data)}function Aoe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&kd(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Ux(e[7][0].data),d=0,f=[],h=Ux(e[4][0].data),m=0,g=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}u.setUint16(p*2,d,!0),h.setUint16(p*2,m,!0);var y,b;switch(typeof t[p]){case"string":y=Vw({t:"s",v:t[p]},r),b=Ww({t:"s",v:t[p]},r);break;case"number":y=Vw({t:"n",v:t[p]},r),b=Ww({t:"n",v:t[p]},r);break;case"boolean":y=Vw({t:"b",v:t[p]},r),b=Ww({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(y),d+=y.length,g.push(b),m+=b.length,++c}for(e[2][0].data=br(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=rc(f),e[3][0].data=rc(g),c}function Coe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=xs(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(pn(n)));var i=Vx(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(H){typeof H=="string"&&o.push(H)})});var l={},c=[],u=Dr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(q,H){return[q,u.FullPaths[H]]}).forEach(function(q){var H=q[0],K=q[1];if(H.type==2&&H.name.match(/\.iwa/)){var ce=H.content,ue=Gs(ce),ge=qs(ue);ge.forEach(function(le){c.push(le.id),l[le.id]={deps:[],location:K,type:kd(le.messages[0].meta[1][0].data)}})}}),c.sort(function(q,H){return q-H});var d=c.filter(function(q){return q>1}).map(function(q){return[q,br(q)]});u.FileIndex.map(function(q,H){return[q,u.FullPaths[H]]}).forEach(function(q){var H=q[0];if(q[1],!!H.name.match(/\.iwa/)){var K=qs(Gs(H.content));K.forEach(function(ce){ce.messages.forEach(function(ue){d.forEach(function(ge){ce.messages.some(function(le){return kd(le.meta[1][0].data)!=11006&&_oe(le.data,ge[1])})&&l[ge[0]].deps.push(ce.id)})})})}});for(var f=Dr.find(u,l[1].location),h=qs(Gs(f.content)),m,g=0;g<h.length;++g){var p=h[g];p.id==1&&(m=p)}var y=rl(Sn(m.messages[0].data)[1][0].data);for(f=Dr.find(u,l[y].location),h=qs(Gs(f.content)),g=0;g<h.length;++g)p=h[g],p.id==y&&(m=p);for(y=rl(Sn(m.messages[0].data)[2][0].data),f=Dr.find(u,l[y].location),h=qs(Gs(f.content)),g=0;g<h.length;++g)p=h[g],p.id==y&&(m=p);for(y=rl(Sn(m.messages[0].data)[2][0].data),f=Dr.find(u,l[y].location),h=qs(Gs(f.content)),g=0;g<h.length;++g)p=h[g],p.id==y&&(m=p);var b=Sn(m.messages[0].data);{b[6][0].data=br(n.e.r+1),b[7][0].data=br(n.e.c+1);var x=rl(b[46][0].data),w=Dr.find(u,l[x].location),v=qs(Gs(w.content));{for(var j=0;j<v.length&&v[j].id!=x;++j);if(v[j].id!=x)throw"Bad ColumnRowUIDMapArchive";var S=Sn(v[j].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var _=0;_<=n.e.c;++_){var E=[];E[1]=E[2]=[{type:0,data:br(_+420690)}],S[1].push({type:2,data:Gn(E)}),S[2].push({type:0,data:br(_)}),S[3].push({type:0,data:br(_)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=n.e.r;++T)E=[],E[1]=E[2]=[{type:0,data:br(T+726270)}],S[4].push({type:2,data:Gn(E)}),S[5].push({type:0,data:br(T)}),S[6].push({type:0,data:br(T)});v[j].messages[0].data=Gn(S)}w.content=Yu(Ku(v)),w.size=w.content.length,delete b[46];var D=Sn(b[4][0].data);{D[7][0].data=br(n.e.r+1);var O=Sn(D[1][0].data),A=rl(O[2][0].data);w=Dr.find(u,l[A].location),v=qs(Gs(w.content));{if(v[0].id!=A)throw"Bad HeaderStorageBucket";var M=Sn(v[0].messages[0].data);for(T=0;T<i.length;++T){var U=Sn(M[2][0].data);U[1][0].data=br(T),U[4][0].data=br(i[T].length),M[2][T]={type:M[2][0].type,data:Gn(U)}}v[0].messages[0].data=Gn(M)}w.content=Yu(Ku(v)),w.size=w.content.length;var B=rl(D[2][0].data);w=Dr.find(u,l[B].location),v=qs(Gs(w.content));{if(v[0].id!=B)throw"Bad HeaderStorageBucket";for(M=Sn(v[0].messages[0].data),_=0;_<=n.e.c;++_)U=Sn(M[2][0].data),U[1][0].data=br(_),U[4][0].data=br(n.e.r+1),M[2][_]={type:M[2][0].type,data:Gn(U)};v[0].messages[0].data=Gn(M)}w.content=Yu(Ku(v)),w.size=w.content.length;var I=rl(D[4][0].data);(function(){for(var q=Dr.find(u,l[I].location),H=qs(Gs(q.content)),K,ce=0;ce<H.length;++ce){var ue=H[ce];ue.id==I&&(K=ue)}var ge=Sn(K.messages[0].data);{ge[3]=[];var le=[];o.forEach(function(he,Me){le[1]=[{type:0,data:br(Me)}],le[2]=[{type:0,data:br(1)}],le[3]=[{type:2,data:Noe(he)}],ge[3].push({type:2,data:Gn(le)})})}K.messages[0].data=Gn(ge);var X=Ku(H),xe=Yu(X);q.content=xe,q.size=q.content.length})();var P=Sn(D[3][0].data);{var C=P[1][0];delete P[2];var F=Sn(C.data);{var R=rl(F[2][0].data);(function(){for(var q=Dr.find(u,l[R].location),H=qs(Gs(q.content)),K,ce=0;ce<H.length;++ce){var ue=H[ce];ue.id==R&&(K=ue)}var ge=Sn(K.messages[0].data);{delete ge[6],delete P[7];var le=new Uint8Array(ge[5][0].data);ge[5]=[];for(var X=0,xe=0;xe<=n.e.r;++xe){var he=Sn(le);X+=Aoe(he,i[xe],o),he[1][0].data=br(xe),ge[5].push({data:Gn(he),type:2})}ge[1]=[{type:0,data:br(n.e.c+1)}],ge[2]=[{type:0,data:br(n.e.r+1)}],ge[3]=[{type:0,data:br(X)}],ge[4]=[{type:0,data:br(n.e.r+1)}]}K.messages[0].data=Gn(ge);var Me=Ku(H),Pe=Yu(Me);q.content=Pe,q.size=q.content.length})()}C.data=Gn(F)}D[3][0].data=Gn(P)}b[4][0].data=Gn(D)}m.messages[0].data=Gn(b);var se=Ku(h),L=Yu(se);return f.content=L,f.size=f.content.length,u}function Doe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function J2(e){Doe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function koe(e,t){return t.bookType=="ods"?v$(e,t):t.bookType=="numbers"?Coe(e,t):t.bookType=="xlsb"?Ooe(e,t):Poe(e,t)}function Ooe(e,t){md=1024,e&&!e.SSF&&(e.SSF=Ga(en)),e&&e.SSF&&(Lv(),Fv(e.SSF),t.revssf=$v(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,mm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=t$.indexOf(t.bookType)>-1,a=D5();J2(t=t||{});var i=M2(),o="",l=0;if(t.cellXfs=[],dc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Xt(i,o,I5(e.Props,t)),a.coreprops.push(o),Sr(t.rels,2,o,ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Xt(i,o,M5(e.Props)),a.extprops.push(o),Sr(t.rels,3,o,ur.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Xt(i,o,F5(e.Custprops)),a.custprops.push(o),Sr(t.rels,4,o,ur.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Xt(i,o,Rie(l-1,o,t,e,d)),a.sheets.push(o),Sr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ur.WS[0])}if(f){var m=f["!comments"],g=!1,p="";m&&m.length>0&&(p="xl/comments"+l+"."+r,Xt(i,p,Lie(m,p)),a.comments.push(p),Sr(d,-1,"../comments"+l+"."+r,ur.CMNT),g=!0),f["!legacy"]&&g&&Xt(i,"xl/drawings/vmlDrawing"+l+".vml",Z5(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Xt(i,O5(o),Cd(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Xt(i,o,Fie(t.Strings,o,t)),a.strs.push(o),Sr(t.wbrels,-1,"sharedStrings."+r,ur.SST)),o="xl/workbook."+r,Xt(i,o,Iie(e,o)),a.workbooks.push(o),Sr(t.rels,1,o,ur.WB),o="xl/theme/theme1.xml",Xt(i,o,Q5(e.Themes,t)),a.themes.push(o),Sr(t.wbrels,-1,"theme/theme1.xml",ur.THEME),o="xl/styles."+r,Xt(i,o,Mie(e,o,t)),a.styles.push(o),Sr(t.wbrels,-1,"styles."+r,ur.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Xt(i,o,e.vbaraw),a.vba.push(o),Sr(t.wbrels,-1,"vbaProject.bin",ur.VBA)),o="xl/metadata."+r,Xt(i,o,$ie(o)),a.metadata.push(o),Sr(t.wbrels,-1,"metadata."+r,ur.XLMETA),Xt(i,"[Content_Types].xml",k5(a,t)),Xt(i,"_rels/.rels",Cd(t.rels)),Xt(i,"xl/_rels/workbook."+r+".rels",Cd(t.wbrels)),delete t.revssf,delete t.ssf,i}function Poe(e,t){md=1024,e&&!e.SSF&&(e.SSF=Ga(en)),e&&e.SSF&&(Lv(),Fv(e.SSF),t.revssf=$v(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,mm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=t$.indexOf(t.bookType)>-1,a=D5();J2(t=t||{});var i=M2(),o="",l=0;if(t.cellXfs=[],dc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Xt(i,o,I5(e.Props,t)),a.coreprops.push(o),Sr(t.rels,2,o,ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Xt(i,o,M5(e.Props)),a.extprops.push(o),Sr(t.rels,3,o,ur.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Xt(i,o,F5(e.Custprops)),a.custprops.push(o),Sr(t.rels,4,o,ur.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Xt(i,o,u$(l-1,t,e,f)),a.sheets.push(o),Sr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ur.WS[0])}if(h){var g=h["!comments"],p=!1,y="";if(g&&g.length>0){var b=!1;g.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+l+"."+r,Xt(i,y,une(g,d,t)),a.threadedcomments.push(y),Sr(f,-1,"../threadedComments/threadedComment"+l+"."+r,ur.TCMNT)),y="xl/comments"+l+"."+r,Xt(i,y,e$(g)),a.comments.push(y),Sr(f,-1,"../comments"+l+"."+r,ur.CMNT),p=!0}h["!legacy"]&&p&&Xt(i,"xl/drawings/vmlDrawing"+l+".vml",Z5(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Xt(i,O5(o),Cd(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Xt(i,o,z5(t.Strings,t)),a.strs.push(o),Sr(t.wbrels,-1,"sharedStrings."+r,ur.SST)),o="xl/workbook."+r,Xt(i,o,h$(e)),a.workbooks.push(o),Sr(t.rels,1,o,ur.WB),o="xl/theme/theme1.xml",Xt(i,o,Q5(e.Themes,t)),a.themes.push(o),Sr(t.wbrels,-1,"theme/theme1.xml",ur.THEME),o="xl/styles."+r,Xt(i,o,Y5(e,t)),a.styles.push(o),Sr(t.wbrels,-1,"styles."+r,ur.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Xt(i,o,e.vbaraw),a.vba.push(o),Sr(t.wbrels,-1,"vbaProject.bin",ur.VBA)),o="xl/metadata."+r,Xt(i,o,J5()),a.metadata.push(o),Sr(t.wbrels,-1,"metadata."+r,ur.XLMETA),d.length>1&&(o="xl/persons/person.xml",Xt(i,o,dne(d)),a.people.push(o),Sr(t.wbrels,-1,"persons/person.xml",ur.PEOPLE)),Xt(i,"[Content_Types].xml",k5(a,t)),Xt(i,"_rels/.rels",Cd(t.rels)),Xt(i,"xl/_rels/workbook."+r+".rels",Cd(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ioe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Bo(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function w$(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return s0(t.file,Dr.write(e,{type:hr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Dr.write(e,t)}function Roe(e,t){var r=Ga(t||{}),n=koe(e,r);return Moe(n,r)}function Moe(e,t){var r={},n=hr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Dr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Mv(a))}return t.password&&typeof encrypt_agile<"u"?w$(encrypt_agile(a,t.password),t):t.type==="file"?s0(t.file,a):t.type=="string"?um(a):a}function Foe(e,t){var r=t||{},n=Zie(e,r);return w$(n,r)}function Di(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Hm(qm(n));case"binary":return qm(n);case"string":return e;case"file":return s0(t.file,n,"utf8");case"buffer":return hr?qo(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Di(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Loe(e,t){switch(t.type){case"base64":return Hm(e);case"binary":return e;case"string":return e;case"file":return s0(t.file,e,"binary");case"buffer":return hr?qo(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function tg(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Hm(r):t.type=="string"?um(r):r;case"file":return s0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Ym(e,t){fee(),Sie(e);var r=Ga(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Ym(e,r);return r.type="array",Mv(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Di(Qie(e,r),r);case"slk":case"sylk":return Di(wre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Di(g$(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Loe(b$(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Di(Z2(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Di(bre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return tg(vre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Di(jre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Di(Cre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Di(H5.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Di(v$(e,r),r);case"wk1":return tg(ID.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return tg(ID.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),tg(p$(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Foe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Roe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function $oe(e,t,r,n,a,i,o,l){var c=na(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=o?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&p===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:Uo(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function Vx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Wr(d);break;case"number":c=Wr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=na(c.s.r),h=[],m=[],g=0,p=0,y=Array.isArray(e),b=c.s.r,x=0,w={};y&&!e[b]&&(e[b]=[]);var v=u.skipHidden&&e["!cols"]||[],j=u.skipHidden&&e["!rows"]||[];for(x=c.s.c;x<=c.e.c;++x)if(!(v[x]||{}).hidden)switch(h[x]=pa(x),r=y?e[b][x]:e[h[x]+f],n){case 1:i[x]=x-c.s.c;break;case 2:i[x]=h[x];break;case 3:i[x]=u.header[x-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Uo(r,null,u),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[x]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(j[b]||{}).hidden){var S=$oe(e,c,b,h,n,i,y,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=S.row)}return m.length=g,m}var VD=/"/g;function Boe(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=na(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:Uo(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===i||p===34||l.forceQuotes){d='"'+d.replace(VD,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(VD,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function Z2(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Wr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=pa(g));for(var p=0,y=a.s.r;y<=a.e.r;++y)(m[y]||{}).hidden||(d=Boe(e,a,y,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function b$(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Z2(e,t);return r}function Uoe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Wr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=pa(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=na(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function j$(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?$n(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Wr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,y){ia(p).forEach(function(b){(m=h.indexOf(b))==-1&&(h[m=h.length]=b);var x=p[b],w="z",v="",j=Tr({c:l+m,r:o+y+a});u=Xm(i,j),x&&typeof x=="object"&&!(x instanceof Date)?i[j]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",n.cellDates||(w="n",x=qa(x)),v=n.dateNF||en[14]):x===null&&n.nullError&&(w="e",x=0),u?(u.t=w,u.v=x,delete u.w,delete u.R,v&&(u.z=v)):i[j]=u={t:w,v:x},v&&(u.z=v))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=na(o);if(a)for(m=0;m<h.length;++m)i[pa(m+l)+g]={t:"s",v:h[m]};return i["!ref"]=pn(d),i}function Voe(e,t){return j$(null,e,t)}function Xm(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=$n(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Xm(e,Tr(t)):Xm(e,Tr({r:t,c:r||0}))}function Woe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Hoe(){return{SheetNames:[],Sheets:{}}}function zoe(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(f$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function qoe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Woe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Goe(e,t){return e.z=t,e}function S$(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Koe(e,t,r){return S$(e,"#"+t,r)}function Yoe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Xoe(e,t,r,n){for(var a=typeof t!="string"?t:Wr(t),i=typeof t=="string"?t:pn(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Xm(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Os={encode_col:pa,encode_row:na,encode_cell:Tr,encode_range:pn,decode_col:V2,decode_row:U2,split_cell:fte,decode_cell:$n,decode_range:xs,format_cell:Uo,sheet_add_aoa:N5,sheet_add_json:j$,sheet_add_dom:x$,aoa_to_sheet:Zf,json_to_sheet:Voe,table_to_sheet:y$,table_to_book:boe,sheet_to_csv:Z2,sheet_to_txt:b$,sheet_to_json:Vx,sheet_to_html:g$,sheet_to_formulae:Uoe,sheet_to_row_object_array:Vx,sheet_get_cell:Xm,book_new:Hoe,book_append_sheet:zoe,book_set_sheet_visibility:qoe,cell_set_number_format:Goe,cell_set_hyperlink:S$,cell_set_internal_link:Koe,cell_add_comment:Yoe,sheet_set_array_formula:Xoe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Qoe({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const[a,i]=N.useState(null),[o,l]=N.useState("balances"),[c,u]=N.useState([]),[d,f]=N.useState([]),[h,m]=N.useState(!1),{toast:g}=qr(),{data:p=[]}=Fe({queryKey:["/api/companies"]}),{data:y=[]}=Fe({queryKey:["/api/leave-types"]}),b=S=>{var E;const _=(E=S.target.files)==null?void 0:E[0];if(_&&(i(_),u([]),f([]),m(!1),!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(_.type))){g({title:"Invalid File Type",description:"Please upload a CSV or Excel file (.csv, .xls, .xlsx)",variant:"destructive"}),i(null);return}},x=Bt({mutationFn:async S=>{const _=new FormData;return _.append("file",S),_.append("importType",o),(await Tt("POST","/api/import-leave-data/validate",_)).json()},onSuccess:S=>{u(S.preview),f(S.errors||[]),m(S.errors.length===0),S.errors.length===0?g({title:"Validation Successful",description:`File validated successfully. Found ${S.preview.length} records.`}):g({title:"Validation Issues Found",description:`Found ${S.errors.length} validation errors. Please review and fix them.`,variant:"destructive"})},onError:S=>{console.error("File validation error:",S),g({title:"Validation Failed",description:"Failed to validate file. Please check the file format and try again.",variant:"destructive"})}}),w=Bt({mutationFn:async()=>{if(!a)throw new Error("No file selected");const S=new FormData;S.append("file",a),S.append("importType",o);const _=localStorage.getItem("jwt_token");return _?(S.append("jwtToken",_),console.log(`[ImportSetup] ✅ Passing JWT token for ${o} import`)):console.warn(`[ImportSetup] ⚠️ No JWT token found - ${o} import may fail`),(await Tt("POST","/api/import-leave-data/execute",S)).json()},onSuccess:S=>{qe.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),qe.invalidateQueries({queryKey:["/api/leave-balance-transactions"]});let _=`Successfully imported ${S.imported} of ${S.total} records`;S.importStats&&S.total-S.imported>0&&(_+=`

Skipped records breakdown:`,S.importStats.skippedEmpty>0&&(_+=`
• Empty/missing fields: ${S.importStats.skippedEmpty}`),S.importStats.skippedHeaders>0&&(_+=`
• Header rows: ${S.importStats.skippedHeaders}`),S.importStats.skippedMissingEmployee>0&&(_+=`
• Employee not found: ${S.importStats.skippedMissingEmployee}`),S.importStats.skippedMissingLeaveType>0&&(_+=`
• Leave type not found: ${S.importStats.skippedMissingLeaveType}`),S.importStats.processingErrors>0&&(_+=`
• Processing errors: ${S.importStats.processingErrors}`)),g({title:"Import Successful",description:_}),i(null),u([]),f([]),m(!1),qe.invalidateQueries({queryKey:["/api/leave-types"]}),qe.invalidateQueries({queryKey:["/api/leave-variants"]})},onError:S=>{console.error("Import error:",S),g({title:"Import Failed",description:"Failed to import data. Please try again.",variant:"destructive"})}}),v=async S=>{try{const _=await ji();console.log(`[ImportLeaveDataSetup] External API returned ${_.length} employees`),_.length===0&&(console.log("No employee data available, generating template with empty employee fields"),g({title:"No Employee Data",description:"Could not fetch employee data from external API. Template will have empty employee fields.",variant:"default"}));let E=[];if(S==="balances")E=[["Leave balance details for the current calendar year as on migration"],[],["EmpNumber","EmpName","LeaveType","LeaveOpeningBalance","LeaveEncashed","LeaveLapsed"]];else{E=[["Leave availed details from the beginning of the current calendar year till migration cut off date"],[],["EmpNumber","EmpName","LeaveType","LeaveTakenStartDate","Is Start Date a Half Day","LeaveTakenEndDate","Is End Date a Half Day","TotalLeaveDays","Status"]];const P=y;console.log("[ImportLeaveDataSetup] Transaction template: Only including column headers, no employee data");const C=Os.book_new(),F=Os.aoa_to_sheet(E);F["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:18},{wch:20},{wch:18},{wch:20},{wch:15},{wch:12}],F["!merges"]||(F["!merges"]=[]),F["!merges"].push({s:{r:0,c:0},e:{r:0,c:7}}),Os.book_append_sheet(C,F,"Leave Transaction Import");const se=Ym(C,{bookType:"xlsx",type:"array"}),L=new Blob([se],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),q=window.URL.createObjectURL(L),H=document.createElement("a");H.href=q,H.download="leave_transaction_import_template.xlsx",document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(q),g({title:"Template Downloaded",description:"Transaction template with column headers only"});return}const T=y;if(_.length>0)for(const P of T)try{const C=localStorage.getItem("org_id")||"38";console.log(`[ImportLeaveDataSetup] Fetching variants for leave type ${P.name} with org_id: ${C}`);const F=await fetch("/api/leave-variants",{credentials:"include",headers:{"X-Org-Id":C}});if(F.ok){const se=(await F.json()).filter(H=>H.leaveTypeName===P.name);console.log(`[ImportLeaveDataSetup] Found ${se.length} variants for leave type ${P.name}:`,se.map(H=>`ID: ${H.id}`));const L=new Set;for(const H of se)try{console.log(`[ImportLeaveDataSetup] Fetching assignments for variant ${H.id}`);const K=await fetch(`/api/employee-assignments/${H.id}`,{credentials:"include"});if(K.ok){const ce=await K.json();console.log(`[ImportLeaveDataSetup] Found ${ce.length} assignments for variant ${H.id}:`,ce),ce.forEach(ue=>{L.add(ue.userId)})}else console.log(`[ImportLeaveDataSetup] Failed to fetch assignments for variant ${H.id}:`,K.status)}catch(K){console.log(`[ImportLeaveDataSetup] Error fetching assignments for variant ${H.id}:`,K)}console.log(`[ImportLeaveDataSetup] Total assigned employee IDs for ${P.name}:`,Array.from(L)),console.log(`[ImportLeaveDataSetup] Processing ${_.length} employees for leave type ${P.name}`);let q=0;_.forEach(H=>{const K=H.user_id||H.id,ce=H.employeeNumber||H.employee_number,ue=H.user_name||H.name||`${H.firstName||""} ${H.lastName||""}`.trim()||"";console.log(`[ImportLeaveDataSetup] Checking employee: ID=${K}, Number=${ce}, Name=${ue}, Assigned=${L.has(K)}`),L.has(K)&&ce&&(q++,console.log(`[ImportLeaveDataSetup] Adding employee ${ue} (${ce}) to ${P.name} template`),S==="balances"?E.push([ce,ue,P.name,"","",""]):E.push([ce,ue,P.name,"","","","approved"]))}),console.log(`[ImportLeaveDataSetup] Added ${q} employees for leave type ${P.name}`)}}catch(C){console.log(`Error processing leave type ${P.name}:`,C)}else T.forEach(P=>{S==="balances"?E.push(["EMP001","Sample Employee",P.name,"","",""]):E.push(["EMP001","Sample Employee",P.name,"","","","approved"])});const D=Os.book_new(),O=Os.aoa_to_sheet(E);S==="balances"?(O["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:20},{wch:15},{wch:12}],O["!merges"]||(O["!merges"]=[]),O["!merges"].push({s:{r:0,c:0},e:{r:0,c:5}})):(O["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:12},{wch:12},{wch:8},{wch:10}],O["!merges"]||(O["!merges"]=[]),O["!merges"].push({s:{r:0,c:0},e:{r:0,c:6}}));const A=S==="balances"?"Leave Balance Import":"Leave Transaction Import";Os.book_append_sheet(D,O,A);const M=Ym(D,{bookType:"xlsx",type:"array"}),U=new Blob([M],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),B=window.URL.createObjectURL(U),I=document.createElement("a");I.href=B,I.download=`leave_${S}_import_template.xlsx`,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(B),g({title:"Template Downloaded",description:`Successfully downloaded ${S} template with ${E.length-3} employee records.`})}catch(_){console.error("Error generating template:",_),g({title:"Download Failed",description:"Failed to generate template. Please try again.",variant:"destructive"})}},j=()=>{if(!h||d.length>0){g({title:"Validation Required",description:"Please validate the file and fix all errors before importing.",variant:"destructive"});return}w.mutate()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Import Leave Data"}),s.jsx("p",{className:"text-gray-600",children:"Upload employee leave balance or transaction data to import into the system."})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Import Instructions"})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-blue-200 bg-blue-50 p-4 rounded-lg",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Select Template Type"}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"balances",checked:o==="balances",onChange:S=>l(S.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Balance Template"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"transactions",checked:o==="transactions",onChange:S=>l(S.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Transaction Template"})]})]})]}),s.jsx("div",{className:"space-y-3 text-sm text-gray-600",children:o==="balances"?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import employee leave balance data from your previous system."}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Required Format for Leave Balances:"}),s.jsxs("ul",{className:"text-blue-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveOpeningBalance:"})," Current available balance"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveEncashed:"})," Amount encashed (if applicable)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveLapsed:"})," Amount that expired/lapsed"]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import historical leave transactions that employees have already taken."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Required Format for Leave Transactions:"}),s.jsxs("ul",{className:"text-green-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenStartDate:"})," Leave start date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is Start Date a Half Day:"})," TRUE/FALSE for half day start"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenEndDate:"})," Leave end date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is End Date a Half Day:"})," TRUE/FALSE for half day end"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"TotalLeaveDays:"})," Number of leave days taken (must be greater than 0)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Status:"})," Approved/1 (deducts balance), Rejected/0 (no deduction), or Pending/2 (no deduction)"]})]}),s.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800",children:[s.jsx("strong",{children:"Important:"})," Ensure TotalLeaveDays column contains actual day counts (e.g., 1, 2, 0.5) and not zero values."]})]})]})})]})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Upload Data File"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ne,{variant:"outline",onClick:()=>v("balances"),className:"flex items-center space-x-2",children:[s.jsx(Wi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Balance Template"})]}),s.jsxs(ne,{variant:"outline",onClick:()=>v("transactions"),className:"flex items-center space-x-2",children:[s.jsx(Wi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Transaction Template"})]})]})]})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"file",className:"text-sm font-medium text-gray-700",children:"Select File"}),s.jsx(pt,{id:"file",type:"file",accept:".csv,.xls,.xlsx",onChange:b,className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: CSV, Excel (.xls, .xlsx)"})]}),a&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(lF,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:a.name}),s.jsxs("p",{className:"text-xs text-blue-600",children:[(a.size/1024).toFixed(1)," KB"]})]}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>x.mutate(a),disabled:x.isPending,children:x.isPending?"Validating...":"Validate"})]})]})})]}),(c.length>0||d.length>0)&&s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center space-x-2",children:[d.length>0?s.jsx(rf,{className:"w-5 h-5 text-red-500"}):s.jsx(Qn,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Validation Results"})]})}),s.jsxs(De,{className:"space-y-4",children:[d.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-600 mb-2",children:"Validation Errors"}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:d.map((S,_)=>s.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:S},_))})]}),c.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2",children:["Data Preview (",c.length," records)"]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:Object.keys(c[0]||{}).map(S=>s.jsx("th",{className:"border px-2 py-1 text-left",children:S},S))})}),s.jsx("tbody",{children:c.slice(0,5).map((S,_)=>s.jsx("tr",{children:Object.values(S).map((E,T)=>s.jsx("td",{className:"border px-2 py-1",children:String(E)},T))},_))})]}),c.length>5&&s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Showing first 5 rows of ",c.length," total records."]})]})]}),h&&d.length===0&&s.jsx(ne,{onClick:j,disabled:w.isPending,className:"w-full",children:w.isPending?"Importing...":"Import Data"})]})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(ne,{variant:"outline",onClick:t,children:"Previous"}),s.jsx(ne,{onClick:e,disabled:n,children:r?"Complete Setup":"Next"})]})]})}function Joe({company:e}){var h;const[,t]=Uf(),[r,n]=N.useState(()=>{if(!e)return localStorage.removeItem("setupWizardStep"),0;const m=localStorage.getItem("setupWizardStep");return m?parseInt(m,10):0}),[a,i]=N.useState(!1);N.useEffect(()=>{e||(localStorage.removeItem("setupWizardStep"),n(0))},[e]),N.useEffect(()=>{localStorage.setItem("setupWizardStep",r.toString())},[r]);const o=[{name:"Effective Date",component:OJ},{name:"Leave Types",component:w6},{name:"Comp off",component:W6},{name:"PTO",component:H6},{name:"Import Leave Data",component:Qoe},{name:"Roles",component:b6},{name:"Workflow",component:aee}],l=()=>{console.log("Start setup clicked, setting currentStep to 1"),console.log("Current step before:",r),n(1),console.log("Current step after setState call:",r)},c=()=>{console.log("nextStep called, currentStep:",r,"steps.length:",o.length);const m=r+1;console.log("Setting currentStep to:",m),m<=o.length?n(m):i(!0)},u=()=>{r>1&&n(r-1)},d=Bt({mutationFn:async()=>{const m=qe.getQueryData(["/api/company"]),g=localStorage.getItem("org_id");if(m&&m.id){const p={"Content-Type":"application/json"};g&&(p["X-Org-Id"]=g);const y=await fetch(`/api/company/${m.id}`,{method:"PATCH",headers:p,body:JSON.stringify({setupStatus:"completed"}),credentials:"include"});if(!y.ok)throw new Error("Failed to complete setup");return y.json()}throw new Error("No company found")},onSuccess:m=>{console.log("Setup completion successful:",m),localStorage.removeItem("setupWizardStep"),qe.invalidateQueries({queryKey:["/api/company"]}),setTimeout(()=>{console.log("Navigating to admin overview"),t("/overview")},100)},onError:m=>{console.error("Setup completion failed:",m)}});if(a)return s.jsx("div",{className:"h-full flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm",children:"✓"})})}),s.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Setup Complete!"}),s.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Your leave management system is now ready to use. You can start managing leave requests and configure additional settings as needed."}),s.jsx(ne,{onClick:()=>window.location.href="/",className:"bg-primary hover:bg-primary/90",children:"Go to Dashboard"})]})});const f=(h=o[r-1])==null?void 0:h.component;return console.log("SetupWizard render - currentStep:",r),console.log("CurrentStepComponent:",f),console.log("steps array:",o),s.jsxs("div",{className:"fixed inset-0 z-50 flex h-screen bg-gray-50",children:[s.jsx("div",{className:"w-64 bg-gray-900 text-white",children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-center mb-8",children:s.jsx("img",{src:"/eziileave-logo.png",alt:"EziiLeave",className:"h-6 w-auto"})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-white mb-4",children:[s.jsx("div",{className:"w-5 h-5 bg-white rounded flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 font-bold text-xs",children:"□"})}),s.jsx("span",{className:"font-medium text-sm",children:"Setup"})]}),s.jsx("div",{className:"text-xs text-gray-400 ml-7",children:"Leave"})]}),s.jsx("div",{className:"space-y-2",children:o.map((m,g)=>s.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded transition-colors ${r===g+1?"bg-gray-800 text-white":"text-gray-300 hover:text-white"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center text-xs font-medium ${r===g+1?"border-white bg-white text-gray-900":r>g+1?"border-green-400 bg-green-400 text-white":"border-gray-500 text-gray-500"}`,children:g+1}),s.jsx("span",{className:"text-sm",children:m.name})]},g))})]})}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Leave Management"})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"p-6",children:r===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"This module has not been enabled for this organisation"}),s.jsx(ne,{onClick:l,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2",children:"Enable Module →"})]})}):f?s.jsx(f,{onNext:c,onPrevious:u,onComplete:r===o.length?()=>d.mutate():void 0,isLast:r===o.length,isLoading:d.isPending,company:e}):null})})]})]})}function eE(){const{isAuthenticated:e,user:t}=Kp(),[r,n]=N.useState({reportees:[],isReportingManager:!1,isLoading:!1,error:null});console.log("[ReportingManager] Hook called - isAuthenticated:",e,"user:",!!t);const a=async i=>{console.log("[ReportingManager] Fetching reportees for user_id:",i),n(o=>({...o,isLoading:!0,error:null}));try{const o=localStorage.getItem("jwtToken")||localStorage.getItem("jwt_token")||localStorage.getItem("token");if(console.log("[ReportingManager] JWT token found:",!!o),console.log("[ReportingManager] JWT token length:",o==null?void 0:o.length),!o){console.log("[ReportingManager] No JWT token found in localStorage, showing all employees"),console.log("[ReportingManager] Available localStorage keys:",Object.keys(localStorage)),n({reportees:[],isReportingManager:!1,isLoading:!1,error:null});return}console.log("[ReportingManager] Making API call to:",`https://qa-api.resolveindia.com/organization/reporting-manager/${i}/reportees`),console.log("[ReportingManager] Using JWT token:",(o==null?void 0:o.substring(0,50))+"...");const l=await fetch(`https://qa-api.resolveindia.com/organization/reporting-manager/${i}/reportees`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(console.log("[ReportingManager] API Response status:",l.status),!l.ok){console.log("[ReportingManager] API call failed with status:",l.status);const u=await l.text();console.log("[ReportingManager] Error response:",u),n({reportees:[],isReportingManager:!1,isLoading:!1,error:null});return}const c=await l.json();if(console.log("[ReportingManager] API Response:",c),c.result==="Success"&&Array.isArray(c.data)){const u=c.data,d=u.length>0;n({reportees:u,isReportingManager:d,isLoading:!1,error:null}),console.log(`[ReportingManager] User is ${d?"a reporting manager":"not a reporting manager"} with ${u.length} reportees`)}else n({reportees:[],isReportingManager:!1,isLoading:!1,error:null})}catch(o){console.error("[ReportingManager] Error fetching reportees:",o),n({reportees:[],isReportingManager:!1,isLoading:!1,error:null})}};return N.useEffect(()=>{if(console.log("[ReportingManager] Effect triggered - isAuthenticated:",e,"user:",!!t),e&&t){const i=localStorage.getItem("user_id")||t.id;console.log("[ReportingManager] User authenticated, calling reporting manager API for user_id:",i),console.log("[ReportingManager] localStorage contents:",Object.keys(localStorage)),console.log("[ReportingManager] Available tokens:",{jwtToken:!!localStorage.getItem("jwtToken"),jwt_token:!!localStorage.getItem("jwt_token"),token:!!localStorage.getItem("token")}),a(i)}else console.log("[ReportingManager] Not calling API - isAuthenticated:",e,"user:",!!t)},[e,t]),N.useEffect(()=>{const i=localStorage.getItem("user_id")||"1";console.log("[ReportingManager] Force calling API immediately for testing with user_id:",i),console.log("[ReportingManager] Current localStorage keys:",Object.keys(localStorage)),a(i)},[]),N.useEffect(()=>{console.log("[ReportingManager] Hook mounted - forcing API call");const i=localStorage.getItem("user_id")||"1";setTimeout(()=>{console.log("[ReportingManager] Delayed API call with user_id:",i),a(i)},1e3)},[]),r}function rh(){const[e,t]=N.useState(null),[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(null);N.useEffect(()=>{(async()=>{var m;try{i(!0);const g=localStorage.getItem("jwt_token");let p=localStorage.getItem("user_id");if(p==="1"&&(console.log("[WorkPattern] Current user_id is 1, keeping as is"),p="1435"),!g){console.log("⚠️  [WorkPattern] No JWT token found, cannot fetch work pattern"),i(!1);return}if(!p){console.log("[WorkPattern] No user ID found"),l("No user ID found"),i(!1);return}console.log("[WorkPattern] Fetching work patterns for user:",p);const y=await fetch("https://qa-api.resolveindia.com/organization/get-work-patterns",{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(console.log("[WorkPattern] Work pattern API Response status:",y.status),y.ok){const b=await y.json();if(console.log("[WorkPattern] Work pattern data:",b),console.log("[WorkPattern] Full API response structure:",JSON.stringify(b,null,2)),b.data&&b.data.length>0){const x=b.data.find(v=>v.employees&&v.employees.includes(parseInt(p)))||b.data[0];console.log("[WorkPattern] Found user work pattern:",x),console.log("[WorkPattern] Work pattern structure details:",{patternName:x.patternName,patternId:x.id,userIdInPattern:(m=x.employees)==null?void 0:m.includes(parseInt(p)),currentUserId:parseInt(p),employeesInPattern:x.employees,nonWorkingDays:x.nonWorkingDays,numberOfWorkingDays:x.numberOfWorkingDays,numberOfNonWorkingDays:x.numberOfNonWorkingDays,fullStructure:JSON.stringify(x,null,2)}),t(x),console.log("[WorkPattern] Fetching external holidays...");const w=await fetch("https://qa-api.resolveindia.com/organization/holidays",{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(console.log("[WorkPattern] External holidays API response status:",w.status),w.ok){const v=await w.json();console.log("[WorkPattern] External holidays data:",v);const j=v.data||[];if(userWorkPattern.selectedHolidays&&userWorkPattern.selectedHolidays.length>0){const S=j.filter(_=>userWorkPattern.selectedHolidays.includes(_.id));console.log("[WorkPattern] Filtered holidays matching work pattern:",S),n(S)}else console.log("[WorkPattern] No selected holidays in work pattern"),n([])}else{const v=await w.text();console.log("[WorkPattern] Failed to fetch external holidays:",w.status,v),n([])}}else console.log("[WorkPattern] No work pattern found for user"),l("No work pattern found for user"),n([])}else{const b=await y.text();console.log("[WorkPattern] Work pattern API Error:",y.status,b),l(`Work pattern API error: ${y.status}`),n([])}}catch(g){console.error("[WorkPattern] Error fetching work pattern:",g),l("Failed to fetch work pattern"),n([])}finally{i(!1)}})()},[]);const c=h=>{if(!r||r.length===0)return!1;const m=h.toISOString().split("T")[0];return!!r.find(p=>(p.selectedDate||p.date)===m)},u=h=>{if(!r||r.length===0)return null;const m=h.toISOString().split("T")[0];return r.find(g=>(g.selectedDate||g.date)===m)||null},d=h=>{var b;const m=h.getDay(),p=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][m];if(console.log(`[WorkPattern] isWorkingDay check for ${h.toISOString().split("T")[0]} (${p}):`,{dayOfWeek:m,dayName:p,isHoliday:c(h),workPatternExists:!!e,nonWorkingDaysCount:((b=e==null?void 0:e.nonWorkingDays)==null?void 0:b.length)||0,nonWorkingDaysStructure:e==null?void 0:e.nonWorkingDays}),c(h))return console.log(`[WorkPattern] ${p} is a holiday, returning false`),!1;if(e!=null&&e.nonWorkingDays&&e.nonWorkingDays.length>0){const x=e.nonWorkingDays.some(w=>{console.log("[WorkPattern] Checking pattern:",w);const v=w.days.some(j=>{const S=j.toLowerCase()===p;return console.log(`[WorkPattern] Pattern day "${j}" vs "${p}": ${S}`),S});return console.log(`[WorkPattern] Pattern result for ${p}:`,v),v});return console.log(`[WorkPattern] Final isNonWorking result for ${p}:`,x),!x}const y=h.getDay()===0||h.getDay()===6;return console.log(`[WorkPattern] No work pattern, using weekend fallback for ${p}: isWeekend=${y}`),!y};return{workPattern:e,holidays:r,isLoading:a,error:o,isHoliday:c,getHolidayDetails:u,isWorkingDay:d,calculateWorkingDays:(h,m)=>{let g=0;const p=new Date(h);for(;p<=m;)d(p)&&g++,p.setDate(p.getDate()+1);return g}}}function Zoe(){const[e,t]=N.useState("Leaves"),[r,n]=N.useState("All"),[a,i]=N.useState(new Date),o=localStorage.getItem("currentView")||"admin",{data:l=[]}=Fe({queryKey:["/api/leave-requests"],enabled:o==="admin"}),{data:c=[]}=Fe({queryKey:["/api/leave-types"]}),{data:u=[]}=Fe({queryKey:["/api/users"]}),{data:d=[],isLoading:f}=Fe({queryKey:["external-employees"],queryFn:ji,staleTime:5*60*1e3});eE(),localStorage.getItem("user_id");const{isHoliday:h,isWorkingDay:m}=rh(),{data:g}=Fe({queryKey:["/api/comp-off-config"]}),p=()=>{i(new Date(a.getFullYear(),a.getMonth()-1,1))},y=()=>{i(new Date(a.getFullYear(),a.getMonth()+1,1))},b=()=>{i(new Date)},x=h,w=B=>!m(B),v=B=>{if(!B)return"Employee";const I=d.find(F=>{var R;return F.user_id===B||F.user_id===parseInt(B)||((R=F.user_id)==null?void 0:R.toString())===B});if(I&&I.user_name)return I.user_name;if(I&&(I.first_name||I.last_name)){const F=`${I.first_name||""} ${I.last_name||""}`.trim();if(F)return F}const P=u.find(F=>F.id===B);return P&&P.firstName?`${P.firstName} ${P.lastName||""}`.trim():{225:"Ashwani Khanna",231:"Sumalatha Thadimari",7243:"Sumalatha Thadimari",7244:"Ashwani Khanna",12080:"Rahul Sharma",7246:"Anjali Kumari"}[B]||`Employee ${B}`},{data:j}=Fe({queryKey:["/api/pto-config"]}),S=l,_=S.filter(B=>B.status==="pending"),E=S.filter(B=>B.status==="approved"),T=S.filter(B=>B.status==="rejected"),O=(()=>{switch(r){case"Pending":return _;case"Approved":return E;case"Rejected":return T;default:return S}})(),A=c.length,M=j!=null&&j.enabled?1:0,U=g!=null&&g.enabled?1:0;return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Leaves"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:A})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-6 h-6 text-blue-500"})})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"PTO"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:M})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(kj,{className:"w-6 h-6 text-green-500"})})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"CompOff"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:U})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(ea,{className:"w-6 h-6 text-orange-500"})})]})})})]}),s.jsxs(Ee,{className:"mb-8",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Approval Requests"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ne,{variant:e==="Leaves"?"default":"outline",size:"sm",className:e==="Leaves"?"bg-gray-900 text-white":"",onClick:()=>t("Leaves"),children:["Leaves (",S.length,")"]}),s.jsx(ne,{variant:e==="PTO"?"default":"outline",size:"sm",className:e==="PTO"?"bg-gray-900 text-white":"",onClick:()=>t("PTO"),children:"PTO (0)"}),s.jsx(ne,{variant:e==="CompOff"?"default":"outline",size:"sm",className:e==="CompOff"?"bg-gray-900 text-white":"",onClick:()=>t("CompOff"),children:"CompOff (0)"})]})]}),s.jsxs("div",{className:"flex space-x-6 mt-4 text-sm",children:[s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="All"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("All"),children:["All (",S.length,")"]}),s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="Pending"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("Pending"),children:[s.jsxs("span",{children:["Pending (",_.length,")"]}),s.jsx(ea,{className:"w-3 h-3"})]}),s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="Approved"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("Approved"),children:[s.jsxs("span",{children:["Approved (",E.length,")"]}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="Rejected"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("Rejected"),children:[s.jsxs("span",{children:["Rejected (",T.length,")"]}),s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:e==="PTO"?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(kj,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No PTO requests"}),s.jsx("p",{className:"text-gray-600",children:"PTO requests will appear here when submitted by employees."})]}):e==="CompOff"?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ea,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No CompOff requests"}),s.jsx("p",{className:"text-gray-600",children:"Compensatory off requests will appear here when submitted by employees."})]}):O.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Pr,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No leave requests"}),s.jsx("p",{className:"text-gray-600",children:"Employee leave requests will appear here for approval."})]}):O.slice(0,3).map(B=>{u.find(P=>P.id===B.userId);const I=c.find(P=>P.id===B.leaveTypeId);return s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-600",children:v(B.userId).split(" ").map(F=>F[0]).join("").slice(0,2)||"UN"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:v(B.userId)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[(I==null?void 0:I.name)||"Leave"," • ",new Date(B.startDate).toLocaleDateString()," - ",new Date(B.endDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kt,{variant:B.status==="pending"?"default":B.status==="approved"?"secondary":"destructive",children:B.status}),s.jsxs("p",{className:"text-sm text-gray-500",children:[B.workingDays," days"]})]})]})},B.id)})}),S.length>3&&s.jsx("div",{className:"p-4 text-center border-t",children:s.jsx(zh,{href:"/approvals",children:s.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:["View all ",S.length," requests"]})})})]}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Calendar"}),s.jsx(ne,{variant:"outline",size:"sm",className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Set Block-out Period +"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ne,{size:"sm",variant:"outline",className:"bg-gray-600 text-white border-gray-600",onClick:b,children:"today"}),s.jsx(ne,{variant:"outline",size:"sm",onClick:p,children:s.jsx(Hf,{className:"w-4 h-4"})}),s.jsx(ne,{variant:"outline",size:"sm",onClick:y,children:s.jsx(No,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(B=>s.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-600",children:B},B))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const B=a.getFullYear(),I=a.getMonth(),P=new Date(B,I,1),C=new Date(P);C.setDate(C.getDate()-P.getDay());const F=[];for(let R=0;R<42;R++){const se=new Date(C);se.setDate(C.getDate()+R);const L=se.getMonth()===I,q=se.getDate(),H=x(se),K=w(se),ce=L?E.filter(ge=>{const le=new Date(ge.startDate),X=new Date(ge.endDate);return se>=le&&se<=X}):[],ue=ce.length>0;F.push(s.jsxs("div",{className:`p-3 h-16 border border-gray-200 text-sm ${L?H?"bg-red-300 border-red-400 text-red-900":K?"bg-gray-400 text-white":ue?"bg-green-100":"bg-white hover:bg-gray-50":"bg-gray-50 text-gray-400"} cursor-pointer`,children:[s.jsx("div",{className:"font-medium",children:q}),H&&L&&s.jsx("div",{className:"text-xs text-red-700 font-medium mt-1",children:"HOLIDAY"}),K&&!H&&L&&s.jsx("div",{className:"text-xs text-white font-medium mt-1",children:"NON-WORK"}),ue&&L&&!H&&!K&&ce.slice(0,2).map((ge,le)=>{const X=v(ge.userId),xe=c.find(he=>he.id===ge.leaveTypeId);return s.jsxs("div",{className:"text-xs text-green-700 mt-1 truncate",children:[X," - ",(xe==null?void 0:xe.name)||"Leave"]},le)})]},R))}return F})()})]})]})]})})}var ele=Array.isArray,Ya=ele,tle=typeof v0=="object"&&v0&&v0.Object===Object&&v0,N$=tle,rle=N$,nle=typeof self=="object"&&self&&self.Object===Object&&self,ale=rle||nle||Function("return this")(),to=ale,sle=to,ile=sle.Symbol,u0=ile,WD=u0,_$=Object.prototype,ole=_$.hasOwnProperty,lle=_$.toString,kh=WD?WD.toStringTag:void 0;function cle(e){var t=ole.call(e,kh),r=e[kh];try{e[kh]=void 0;var n=!0}catch{}var a=lle.call(e);return n&&(t?e[kh]=r:delete e[kh]),a}var ule=cle,dle=Object.prototype,fle=dle.toString;function hle(e){return fle.call(e)}var mle=hle,HD=u0,ple=ule,gle=mle,xle="[object Null]",yle="[object Undefined]",zD=HD?HD.toStringTag:void 0;function vle(e){return e==null?e===void 0?yle:xle:zD&&zD in Object(e)?ple(e):gle(e)}var Go=vle;function wle(e){return e!=null&&typeof e=="object"}var Ko=wle,ble=Go,jle=Ko,Sle="[object Symbol]";function Nle(e){return typeof e=="symbol"||jle(e)&&ble(e)==Sle}var nh=Nle,_le=Ya,Ele=nh,Tle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ale=/^\w*$/;function Cle(e,t){if(_le(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ele(e)?!0:Ale.test(e)||!Tle.test(e)||t!=null&&e in Object(t)}var tE=Cle;function Dle(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fc=Dle;const ah=Or(fc);var kle=Go,Ole=fc,Ple="[object AsyncFunction]",Ile="[object Function]",Rle="[object GeneratorFunction]",Mle="[object Proxy]";function Fle(e){if(!Ole(e))return!1;var t=kle(e);return t==Ile||t==Rle||t==Ple||t==Mle}var rE=Fle;const Qt=Or(rE);var Lle=to,$le=Lle["__core-js_shared__"],Ble=$le,Hw=Ble,qD=function(){var e=/[^.]+$/.exec(Hw&&Hw.keys&&Hw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ule(e){return!!qD&&qD in e}var Vle=Ule,Wle=Function.prototype,Hle=Wle.toString;function zle(e){if(e!=null){try{return Hle.call(e)}catch{}try{return e+""}catch{}}return""}var E$=zle,qle=rE,Gle=Vle,Kle=fc,Yle=E$,Xle=/[\\^$.*+?()[\]{}|]/g,Qle=/^\[object .+?Constructor\]$/,Jle=Function.prototype,Zle=Object.prototype,ece=Jle.toString,tce=Zle.hasOwnProperty,rce=RegExp("^"+ece.call(tce).replace(Xle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nce(e){if(!Kle(e)||Gle(e))return!1;var t=qle(e)?rce:Qle;return t.test(Yle(e))}var ace=nce;function sce(e,t){return e==null?void 0:e[t]}var ice=sce,oce=ace,lce=ice;function cce(e,t){var r=lce(e,t);return oce(r)?r:void 0}var Du=cce,uce=Du,dce=uce(Object,"create"),Hv=dce,GD=Hv;function fce(){this.__data__=GD?GD(null):{},this.size=0}var hce=fce;function mce(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pce=mce,gce=Hv,xce="__lodash_hash_undefined__",yce=Object.prototype,vce=yce.hasOwnProperty;function wce(e){var t=this.__data__;if(gce){var r=t[e];return r===xce?void 0:r}return vce.call(t,e)?t[e]:void 0}var bce=wce,jce=Hv,Sce=Object.prototype,Nce=Sce.hasOwnProperty;function _ce(e){var t=this.__data__;return jce?t[e]!==void 0:Nce.call(t,e)}var Ece=_ce,Tce=Hv,Ace="__lodash_hash_undefined__";function Cce(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tce&&t===void 0?Ace:t,this}var Dce=Cce,kce=hce,Oce=pce,Pce=bce,Ice=Ece,Rce=Dce;function sh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sh.prototype.clear=kce;sh.prototype.delete=Oce;sh.prototype.get=Pce;sh.prototype.has=Ice;sh.prototype.set=Rce;var Mce=sh;function Fce(){this.__data__=[],this.size=0}var Lce=Fce;function $ce(e,t){return e===t||e!==e&&t!==t}var nE=$ce,Bce=nE;function Uce(e,t){for(var r=e.length;r--;)if(Bce(e[r][0],t))return r;return-1}var zv=Uce,Vce=zv,Wce=Array.prototype,Hce=Wce.splice;function zce(e){var t=this.__data__,r=Vce(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Hce.call(t,r,1),--this.size,!0}var qce=zce,Gce=zv;function Kce(e){var t=this.__data__,r=Gce(t,e);return r<0?void 0:t[r][1]}var Yce=Kce,Xce=zv;function Qce(e){return Xce(this.__data__,e)>-1}var Jce=Qce,Zce=zv;function eue(e,t){var r=this.__data__,n=Zce(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var tue=eue,rue=Lce,nue=qce,aue=Yce,sue=Jce,iue=tue;function ih(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ih.prototype.clear=rue;ih.prototype.delete=nue;ih.prototype.get=aue;ih.prototype.has=sue;ih.prototype.set=iue;var qv=ih,oue=Du,lue=to,cue=oue(lue,"Map"),aE=cue,KD=Mce,uue=qv,due=aE;function fue(){this.size=0,this.__data__={hash:new KD,map:new(due||uue),string:new KD}}var hue=fue;function mue(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var pue=mue,gue=pue;function xue(e,t){var r=e.__data__;return gue(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Gv=xue,yue=Gv;function vue(e){var t=yue(this,e).delete(e);return this.size-=t?1:0,t}var wue=vue,bue=Gv;function jue(e){return bue(this,e).get(e)}var Sue=jue,Nue=Gv;function _ue(e){return Nue(this,e).has(e)}var Eue=_ue,Tue=Gv;function Aue(e,t){var r=Tue(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Cue=Aue,Due=hue,kue=wue,Oue=Sue,Pue=Eue,Iue=Cue;function oh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}oh.prototype.clear=Due;oh.prototype.delete=kue;oh.prototype.get=Oue;oh.prototype.has=Pue;oh.prototype.set=Iue;var sE=oh,T$=sE,Rue="Expected a function";function iE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Rue);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(iE.Cache||T$),r}iE.Cache=T$;var A$=iE;const Mue=Or(A$);var Fue=A$,Lue=500;function $ue(e){var t=Fue(e,function(n){return r.size===Lue&&r.clear(),n}),r=t.cache;return t}var Bue=$ue,Uue=Bue,Vue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wue=/\\(\\)?/g,Hue=Uue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Vue,function(r,n,a,i){t.push(a?i.replace(Wue,"$1"):n||r)}),t}),zue=Hue;function que(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var oE=que,YD=u0,Gue=oE,Kue=Ya,Yue=nh,XD=YD?YD.prototype:void 0,QD=XD?XD.toString:void 0;function C$(e){if(typeof e=="string")return e;if(Kue(e))return Gue(e,C$)+"";if(Yue(e))return QD?QD.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Xue=C$,Que=Xue;function Jue(e){return e==null?"":Que(e)}var D$=Jue,Zue=Ya,ede=tE,tde=zue,rde=D$;function nde(e,t){return Zue(e)?e:ede(e,t)?[e]:tde(rde(e))}var k$=nde,ade=nh;function sde(e){if(typeof e=="string"||ade(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Kv=sde,ide=k$,ode=Kv;function lde(e,t){t=ide(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ode(t[r++])];return r&&r==n?e:void 0}var lE=lde,cde=lE;function ude(e,t,r){var n=e==null?void 0:cde(e,t);return n===void 0?r:n}var O$=ude;const Fs=Or(O$);function dde(e){return e==null}var fde=dde;const pr=Or(fde);var hde=Go,mde=Ya,pde=Ko,gde="[object String]";function xde(e){return typeof e=="string"||!mde(e)&&pde(e)&&hde(e)==gde}var yde=xde;const pu=Or(yde);var P$={exports:{}},Ar={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=Symbol.for("react.element"),uE=Symbol.for("react.portal"),Yv=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),Qv=Symbol.for("react.profiler"),Jv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),vde=Symbol.for("react.server_context"),e1=Symbol.for("react.forward_ref"),t1=Symbol.for("react.suspense"),r1=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),a1=Symbol.for("react.lazy"),wde=Symbol.for("react.offscreen"),I$;I$=Symbol.for("react.module.reference");function Ws(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cE:switch(e=e.type,e){case Yv:case Qv:case Xv:case t1:case r1:return e;default:switch(e=e&&e.$$typeof,e){case vde:case Zv:case e1:case a1:case n1:case Jv:return e;default:return t}}case uE:return t}}}Ar.ContextConsumer=Zv;Ar.ContextProvider=Jv;Ar.Element=cE;Ar.ForwardRef=e1;Ar.Fragment=Yv;Ar.Lazy=a1;Ar.Memo=n1;Ar.Portal=uE;Ar.Profiler=Qv;Ar.StrictMode=Xv;Ar.Suspense=t1;Ar.SuspenseList=r1;Ar.isAsyncMode=function(){return!1};Ar.isConcurrentMode=function(){return!1};Ar.isContextConsumer=function(e){return Ws(e)===Zv};Ar.isContextProvider=function(e){return Ws(e)===Jv};Ar.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cE};Ar.isForwardRef=function(e){return Ws(e)===e1};Ar.isFragment=function(e){return Ws(e)===Yv};Ar.isLazy=function(e){return Ws(e)===a1};Ar.isMemo=function(e){return Ws(e)===n1};Ar.isPortal=function(e){return Ws(e)===uE};Ar.isProfiler=function(e){return Ws(e)===Qv};Ar.isStrictMode=function(e){return Ws(e)===Xv};Ar.isSuspense=function(e){return Ws(e)===t1};Ar.isSuspenseList=function(e){return Ws(e)===r1};Ar.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yv||e===Qv||e===Xv||e===t1||e===r1||e===wde||typeof e=="object"&&e!==null&&(e.$$typeof===a1||e.$$typeof===n1||e.$$typeof===Jv||e.$$typeof===Zv||e.$$typeof===e1||e.$$typeof===I$||e.getModuleId!==void 0)};Ar.typeOf=Ws;P$.exports=Ar;var bde=P$.exports,jde=Go,Sde=Ko,Nde="[object Number]";function _de(e){return typeof e=="number"||Sde(e)&&jde(e)==Nde}var R$=_de;const Ede=Or(R$);var Tde=R$;function Ade(e){return Tde(e)&&e!=+e}var Cde=Ade;const d0=Or(Cde);var di=function(t){return t===0?0:t>0?1:-1},Pc=function(t){return pu(t)&&t.indexOf("%")===t.length-1},Ze=function(t){return Ede(t)&&!d0(t)},Dde=function(t){return pr(t)},An=function(t){return Ze(t)||pu(t)},kde=0,s1=function(t){var r=++kde;return"".concat(t||"").concat(r)},gu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&!pu(t))return n;var i;if(Pc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return d0(i)&&(i=n),a&&i>r&&(i=r),i},dl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ode=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xu=function(t,r){return Ze(t)&&Ze(r)?function(n){return t+n*(r-t)}:function(){return r}};function aS(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Fs(n,t))===r})}var Pde=function(t,r){return Ze(t)&&Ze(r)?t-r:pu(t)&&pu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Od(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function sS(e){"@babel/helpers - typeof";return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sS(e)}var Ide=["viewBox","children"],Rde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JD=["points","pathLength"],zw={svg:Ide,polygon:JD,polyline:JD},dE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!ah(n))return null;var a={};return Object.keys(n).forEach(function(i){dE.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Mde=function(t,r,n){return function(a){return t(r,n,a),null}},Hx=function(t,r,n){if(!ah(t)||sS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];dE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Mde(o,r,n))}),a},Fde=["children"],Lde=["children"];function ZD(e,t){if(e==null)return{};var r=$de(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $de(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ek={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Co=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},tk=null,qw=null,fE=function e(t){if(t===tk&&Array.isArray(qw))return qw;var r=[];return N.Children.forEach(t,function(n){pr(n)||(bde.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),qw=r,tk=t,r};function pi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Co(a)}):n=[Co(t)],fE(e).forEach(function(a){var i=Fs(a,"type.displayName")||Fs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function es(e,t){var r=pi(e,t);return r&&r[0]}var rk=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ze(n)||n<=0||!Ze(a)||a<=0)},Bde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ude=function(t){return t&&t.type&&pu(t.type)&&Bde.indexOf(t.type)>=0},Vde=function(t,r,n,a){var i,o=(i=zw==null?void 0:zw[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Qt(t)&&(a&&o.includes(r)||Rde.includes(r))||n&&dE.includes(r)},mr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!ah(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Vde((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},iS=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return nk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!nk(i,o))return!1}return!0},nk=function(t,r){if(pr(t)&&pr(r))return!0;if(!pr(t)&&!pr(r)){var n=t.props||{},a=n.children,i=ZD(n,Fde),o=r.props||{},l=o.children,c=ZD(o,Lde);return a&&l?Od(i,c)&&iS(a,l):!a&&!l?Od(i,c):!1}return!1},ak=function(t,r){var n=[],a={};return fE(t).forEach(function(i,o){if(Ude(i))n.push(i);else if(i){var l=Co(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Wde=function(t){var r=t&&t.type;return r&&ek[r]?ek[r]:null},Hde=function(t,r){return fE(r).indexOf(t)},zde=["children","width","height","viewBox","className","style","title","desc"];function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(this,arguments)}function qde(e,t){if(e==null)return{};var r=Gde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lS(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=qde(e,zde),d=a||{width:r,height:n,x:0,y:0},f=or("recharts-surface",i);return de.createElement("svg",oS({},mr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),de.createElement("title",null,l),de.createElement("desc",null,c),t)}var Kde=["children","className"];function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function Yde(e,t){if(e==null)return{};var r=Xde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var In=de.forwardRef(function(e,t){var r=e.children,n=e.className,a=Yde(e,Kde),i=or("recharts-layer",n);return de.createElement("g",cS({className:i},mr(a,!0),{ref:t}),r)}),Do=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Qde(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Jde=Qde,Zde=Jde;function efe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Zde(e,t,r)}var tfe=efe,rfe="\\ud800-\\udfff",nfe="\\u0300-\\u036f",afe="\\ufe20-\\ufe2f",sfe="\\u20d0-\\u20ff",ife=nfe+afe+sfe,ofe="\\ufe0e\\ufe0f",lfe="\\u200d",cfe=RegExp("["+lfe+rfe+ife+ofe+"]");function ufe(e){return cfe.test(e)}var M$=ufe;function dfe(e){return e.split("")}var ffe=dfe,F$="\\ud800-\\udfff",hfe="\\u0300-\\u036f",mfe="\\ufe20-\\ufe2f",pfe="\\u20d0-\\u20ff",gfe=hfe+mfe+pfe,xfe="\\ufe0e\\ufe0f",yfe="["+F$+"]",uS="["+gfe+"]",dS="\\ud83c[\\udffb-\\udfff]",vfe="(?:"+uS+"|"+dS+")",L$="[^"+F$+"]",$$="(?:\\ud83c[\\udde6-\\uddff]){2}",B$="[\\ud800-\\udbff][\\udc00-\\udfff]",wfe="\\u200d",U$=vfe+"?",V$="["+xfe+"]?",bfe="(?:"+wfe+"(?:"+[L$,$$,B$].join("|")+")"+V$+U$+")*",jfe=V$+U$+bfe,Sfe="(?:"+[L$+uS+"?",uS,$$,B$,yfe].join("|")+")",Nfe=RegExp(dS+"(?="+dS+")|"+Sfe+jfe,"g");function _fe(e){return e.match(Nfe)||[]}var Efe=_fe,Tfe=ffe,Afe=M$,Cfe=Efe;function Dfe(e){return Afe(e)?Cfe(e):Tfe(e)}var kfe=Dfe,Ofe=tfe,Pfe=M$,Ife=kfe,Rfe=D$;function Mfe(e){return function(t){t=Rfe(t);var r=Pfe(t)?Ife(t):void 0,n=r?r[0]:t.charAt(0),a=r?Ofe(r,1).join(""):t.slice(1);return n[e]()+a}}var Ffe=Mfe,Lfe=Ffe,$fe=Lfe("toUpperCase"),Bfe=$fe;const i1=Or(Bfe);function Rr(e){return function(){return e}}const W$=Math.cos,zx=Math.sin,Ni=Math.sqrt,qx=Math.PI,o1=2*qx,fS=Math.PI,hS=2*fS,Nc=1e-6,Ufe=hS-Nc;function H$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Vfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return H$;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Wfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?H$:Vfe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Nc)if(!(Math.abs(f*c-u*d)>Nc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,y=m*m+g*g,b=Math.sqrt(p),x=Math.sqrt(h),w=i*Math.tan((fS-Math.acos((p+h-y)/(2*b*x)))/2),v=w/x,j=w/b;Math.abs(v-1)>Nc&&this._append`L${t+v*d},${r+v*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Nc||Math.abs(this._y1-d)>Nc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%hS+hS),h>Ufe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Nc&&this._append`A${n},${n},0,${+(h>=fS)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function hE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Wfe(t)}function mE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z$(e){this._context=e}z$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function l1(e){return new z$(e)}function q$(e){return e[0]}function G$(e){return e[1]}function K$(e,t){var r=Rr(!0),n=null,a=l1,i=null,o=hE(l);e=typeof e=="function"?e:e===void 0?q$:Rr(e),t=typeof t=="function"?t:t===void 0?G$:Rr(t);function l(c){var u,d=(c=mE(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Rr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Rr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Rr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function rg(e,t,r){var n=null,a=Rr(!0),i=null,o=l1,l=null,c=hE(u);e=typeof e=="function"?e:e===void 0?q$:Rr(+e),t=typeof t=="function"?t:Rr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?G$:Rr(+r);function u(f){var h,m,g,p=(f=mE(f)).length,y,b=!1,x,w=new Array(p),v=new Array(p);for(i==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&a(y=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],v[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(y,h,f),v[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):v[h]))}if(x)return l=null,x+""||null}function d(){return K$().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Rr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Rr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Rr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Rr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Rr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Rr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Rr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Y${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Hfe(e){return new Y$(e,!0)}function zfe(e){return new Y$(e,!1)}const pE={draw(e,t){const r=Ni(t/qx);e.moveTo(r,0),e.arc(0,0,r,0,o1)}},qfe={draw(e,t){const r=Ni(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},X$=Ni(1/3),Gfe=X$*2,Kfe={draw(e,t){const r=Ni(t/Gfe),n=r*X$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Yfe={draw(e,t){const r=Ni(t),n=-r/2;e.rect(n,n,r,r)}},Xfe=.8908130915292852,Q$=zx(qx/10)/zx(7*qx/10),Qfe=zx(o1/10)*Q$,Jfe=-W$(o1/10)*Q$,Zfe={draw(e,t){const r=Ni(t*Xfe),n=Qfe*r,a=Jfe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=o1*i/5,l=W$(o),c=zx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Gw=Ni(3),ehe={draw(e,t){const r=-Ni(t/(Gw*3));e.moveTo(0,r*2),e.lineTo(-Gw*r,-r),e.lineTo(Gw*r,-r),e.closePath()}},Ss=-.5,Ns=Ni(3)/2,mS=1/Ni(12),the=(mS/2+1)*3,rhe={draw(e,t){const r=Ni(t/the),n=r/2,a=r*mS,i=n,o=r*mS+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ss*n-Ns*a,Ns*n+Ss*a),e.lineTo(Ss*i-Ns*o,Ns*i+Ss*o),e.lineTo(Ss*l-Ns*c,Ns*l+Ss*c),e.lineTo(Ss*n+Ns*a,Ss*a-Ns*n),e.lineTo(Ss*i+Ns*o,Ss*o-Ns*i),e.lineTo(Ss*l+Ns*c,Ss*c-Ns*l),e.closePath()}};function nhe(e,t){let r=null,n=hE(a);e=typeof e=="function"?e:Rr(e||pE),t=typeof t=="function"?t:Rr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Rr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Rr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Gx(){}function Kx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function J$(e){this._context=e}J$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ahe(e){return new J$(e)}function Z$(e){this._context=e}Z$.prototype={areaStart:Gx,areaEnd:Gx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function she(e){return new Z$(e)}function e8(e){this._context=e}e8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ihe(e){return new e8(e)}function t8(e){this._context=e}t8.prototype={areaStart:Gx,areaEnd:Gx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ohe(e){return new t8(e)}function sk(e){return e<0?-1:1}function ik(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(sk(i)+sk(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ok(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Yx(e){this._context=e}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kw(this,this._t0,ok(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kw(this,ok(this,r=ik(this,e,t)),r);break;default:Kw(this,this._t0,r=ik(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function r8(e){this._context=new n8(e)}(r8.prototype=Object.create(Yx.prototype)).point=function(e,t){Yx.prototype.point.call(this,t,e)};function n8(e){this._context=e}n8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function lhe(e){return new Yx(e)}function che(e){return new r8(e)}function a8(e){this._context=e}a8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=lk(e),a=lk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function uhe(e){return new a8(e)}function c1(e,t){this._context=e,this._t=t}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dhe(e){return new c1(e,.5)}function fhe(e){return new c1(e,0)}function hhe(e){return new c1(e,1)}function xf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function pS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mhe(e,t){return e[t]}function phe(e){const t=[];return t.key=e,t}function ghe(){var e=Rr([]),t=pS,r=xf,n=mhe;function a(i){var o=Array.from(e.apply(this,arguments),phe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=mE(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Rr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Rr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?pS:typeof i=="function"?i:Rr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??xf,a):r},a}function xhe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}xf(e,t)}}function yhe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}xf(e,t)}}function vhe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],y=p[n][1]||0,b=p[n-1][1]||0;m+=y-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,xf(e,t)}}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}var whe=["type","size","sizeType"];function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){bhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bhe(e,t,r){return t=jhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jhe(e){var t=She(e,"string");return Qm(t)=="symbol"?t:t+""}function She(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nhe(e,t){if(e==null)return{};var r=_he(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _he(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var s8={symbolCircle:pE,symbolCross:qfe,symbolDiamond:Kfe,symbolSquare:Yfe,symbolStar:Zfe,symbolTriangle:ehe,symbolWye:rhe},Ehe=Math.PI/180,The=function(t){var r="symbol".concat(i1(t));return s8[r]||pE},Ahe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Ehe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Che=function(t,r){s8["symbol".concat(i1(t))]=r},gE=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Nhe(t,whe),u=uk(uk({},c),{},{type:n,size:i,sizeType:l}),d=function(){var y=The(n),b=nhe().type(y).size(Ahe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=mr(u,!0);return h===+h&&m===+m&&i===+i?de.createElement("path",gS({},g,{className:or("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};gE.registerSymbol=Che;function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(this,arguments)}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){Jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function khe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ohe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o8(n.key),n)}}function Phe(e,t,r){return t&&Ohe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ihe(e,t,r){return t=Xx(t),Rhe(e,i8()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function Rhe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(e)}function Mhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function Fhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yS(e,t)}function Jm(e,t,r){return t=o8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8(e){var t=Lhe(e,"string");return yf(t)=="symbol"?t:t+""}function Lhe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _s=32,xE=function(e){function t(){return khe(this,t),Ihe(this,t,arguments)}return Fhe(t,e),Phe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=_s/2,o=_s/6,l=_s/3,c=n.inactive?a:n.color;if(n.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:_s,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(_s,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return de.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_s/8,"h").concat(_s,"v").concat(_s*3/4,"h").concat(-_s,"z"),className:"recharts-legend-icon"});if(de.isValidElement(n.legendIcon)){var u=Dhe({},n);return delete u.legendIcon,de.cloneElement(n.legendIcon,u)}return de.createElement(gE,{fill:c,cx:i,cy:i,size:_s,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:_s,height:_s},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,y=or(Jm(Jm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Qt(m.value)?null:m.value;Do(!Qt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return de.createElement("li",xS({className:y,style:f,key:"legend-item-".concat(g)},Hx(n.props,m,g)),de.createElement(lS,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Jm(xE,"displayName","Legend");Jm(xE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $he=qv;function Bhe(){this.__data__=new $he,this.size=0}var Uhe=Bhe;function Vhe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Whe=Vhe;function Hhe(e){return this.__data__.get(e)}var zhe=Hhe;function qhe(e){return this.__data__.has(e)}var Ghe=qhe,Khe=qv,Yhe=aE,Xhe=sE,Qhe=200;function Jhe(e,t){var r=this.__data__;if(r instanceof Khe){var n=r.__data__;if(!Yhe||n.length<Qhe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Xhe(n)}return r.set(e,t),this.size=r.size,this}var Zhe=Jhe,eme=qv,tme=Uhe,rme=Whe,nme=zhe,ame=Ghe,sme=Zhe;function lh(e){var t=this.__data__=new eme(e);this.size=t.size}lh.prototype.clear=tme;lh.prototype.delete=rme;lh.prototype.get=nme;lh.prototype.has=ame;lh.prototype.set=sme;var l8=lh,ime="__lodash_hash_undefined__";function ome(e){return this.__data__.set(e,ime),this}var lme=ome;function cme(e){return this.__data__.has(e)}var ume=cme,dme=sE,fme=lme,hme=ume;function Qx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new dme;++t<r;)this.add(e[t])}Qx.prototype.add=Qx.prototype.push=fme;Qx.prototype.has=hme;var c8=Qx;function mme(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var u8=mme;function pme(e,t){return e.has(t)}var d8=pme,gme=c8,xme=u8,yme=d8,vme=1,wme=2;function bme(e,t,r,n,a,i){var o=r&vme,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&wme?new gme:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var y=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!xme(t,function(b,x){if(!yme(m,x)&&(g===b||a(g,b,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var f8=bme,jme=to,Sme=jme.Uint8Array,Nme=Sme;function _me(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Eme=_me;function Tme(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var yE=Tme,fk=u0,hk=Nme,Ame=nE,Cme=f8,Dme=Eme,kme=yE,Ome=1,Pme=2,Ime="[object Boolean]",Rme="[object Date]",Mme="[object Error]",Fme="[object Map]",Lme="[object Number]",$me="[object RegExp]",Bme="[object Set]",Ume="[object String]",Vme="[object Symbol]",Wme="[object ArrayBuffer]",Hme="[object DataView]",mk=fk?fk.prototype:void 0,Yw=mk?mk.valueOf:void 0;function zme(e,t,r,n,a,i,o){switch(r){case Hme:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Wme:return!(e.byteLength!=t.byteLength||!i(new hk(e),new hk(t)));case Ime:case Rme:case Lme:return Ame(+e,+t);case Mme:return e.name==t.name&&e.message==t.message;case $me:case Ume:return e==t+"";case Fme:var l=Dme;case Bme:var c=n&Ome;if(l||(l=kme),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Pme,o.set(e,t);var d=Cme(l(e),l(t),n,a,i,o);return o.delete(e),d;case Vme:if(Yw)return Yw.call(e)==Yw.call(t)}return!1}var qme=zme;function Gme(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var h8=Gme,Kme=h8,Yme=Ya;function Xme(e,t,r){var n=t(e);return Yme(e)?n:Kme(n,r(e))}var Qme=Xme;function Jme(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Zme=Jme;function epe(){return[]}var tpe=epe,rpe=Zme,npe=tpe,ape=Object.prototype,spe=ape.propertyIsEnumerable,pk=Object.getOwnPropertySymbols,ipe=pk?function(e){return e==null?[]:(e=Object(e),rpe(pk(e),function(t){return spe.call(e,t)}))}:npe,ope=ipe;function lpe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cpe=lpe,upe=Go,dpe=Ko,fpe="[object Arguments]";function hpe(e){return dpe(e)&&upe(e)==fpe}var mpe=hpe,gk=mpe,ppe=Ko,m8=Object.prototype,gpe=m8.hasOwnProperty,xpe=m8.propertyIsEnumerable,ype=gk(function(){return arguments}())?gk:function(e){return ppe(e)&&gpe.call(e,"callee")&&!xpe.call(e,"callee")},vE=ype,Jx={exports:{}};function vpe(){return!1}var wpe=vpe;Jx.exports;(function(e,t){var r=to,n=wpe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Jx,Jx.exports);var p8=Jx.exports,bpe=9007199254740991,jpe=/^(?:0|[1-9]\d*)$/;function Spe(e,t){var r=typeof e;return t=t??bpe,!!t&&(r=="number"||r!="symbol"&&jpe.test(e))&&e>-1&&e%1==0&&e<t}var wE=Spe,Npe=9007199254740991;function _pe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Npe}var bE=_pe,Epe=Go,Tpe=bE,Ape=Ko,Cpe="[object Arguments]",Dpe="[object Array]",kpe="[object Boolean]",Ope="[object Date]",Ppe="[object Error]",Ipe="[object Function]",Rpe="[object Map]",Mpe="[object Number]",Fpe="[object Object]",Lpe="[object RegExp]",$pe="[object Set]",Bpe="[object String]",Upe="[object WeakMap]",Vpe="[object ArrayBuffer]",Wpe="[object DataView]",Hpe="[object Float32Array]",zpe="[object Float64Array]",qpe="[object Int8Array]",Gpe="[object Int16Array]",Kpe="[object Int32Array]",Ype="[object Uint8Array]",Xpe="[object Uint8ClampedArray]",Qpe="[object Uint16Array]",Jpe="[object Uint32Array]",Br={};Br[Hpe]=Br[zpe]=Br[qpe]=Br[Gpe]=Br[Kpe]=Br[Ype]=Br[Xpe]=Br[Qpe]=Br[Jpe]=!0;Br[Cpe]=Br[Dpe]=Br[Vpe]=Br[kpe]=Br[Wpe]=Br[Ope]=Br[Ppe]=Br[Ipe]=Br[Rpe]=Br[Mpe]=Br[Fpe]=Br[Lpe]=Br[$pe]=Br[Bpe]=Br[Upe]=!1;function Zpe(e){return Ape(e)&&Tpe(e.length)&&!!Br[Epe(e)]}var e0e=Zpe;function t0e(e){return function(t){return e(t)}}var g8=t0e,Zx={exports:{}};Zx.exports;(function(e,t){var r=N$,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Zx,Zx.exports);var r0e=Zx.exports,n0e=e0e,a0e=g8,xk=r0e,yk=xk&&xk.isTypedArray,s0e=yk?a0e(yk):n0e,x8=s0e,i0e=cpe,o0e=vE,l0e=Ya,c0e=p8,u0e=wE,d0e=x8,f0e=Object.prototype,h0e=f0e.hasOwnProperty;function m0e(e,t){var r=l0e(e),n=!r&&o0e(e),a=!r&&!n&&c0e(e),i=!r&&!n&&!a&&d0e(e),o=r||n||a||i,l=o?i0e(e.length,String):[],c=l.length;for(var u in e)(t||h0e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||u0e(u,c)))&&l.push(u);return l}var p0e=m0e,g0e=Object.prototype;function x0e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||g0e;return e===r}var y0e=x0e;function v0e(e,t){return function(r){return e(t(r))}}var y8=v0e,w0e=y8,b0e=w0e(Object.keys,Object),j0e=b0e,S0e=y0e,N0e=j0e,_0e=Object.prototype,E0e=_0e.hasOwnProperty;function T0e(e){if(!S0e(e))return N0e(e);var t=[];for(var r in Object(e))E0e.call(e,r)&&r!="constructor"&&t.push(r);return t}var A0e=T0e,C0e=rE,D0e=bE;function k0e(e){return e!=null&&D0e(e.length)&&!C0e(e)}var f0=k0e,O0e=p0e,P0e=A0e,I0e=f0;function R0e(e){return I0e(e)?O0e(e):P0e(e)}var u1=R0e,M0e=Qme,F0e=ope,L0e=u1;function $0e(e){return M0e(e,L0e,F0e)}var B0e=$0e,vk=B0e,U0e=1,V0e=Object.prototype,W0e=V0e.hasOwnProperty;function H0e(e,t,r,n,a,i){var o=r&U0e,l=vk(e),c=l.length,u=vk(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:W0e.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=o?n(x,b,h,t,e,i):n(b,x,h,e,t,i);if(!(w===void 0?b===x||a(b,x,r,n,i):w)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var v=e.constructor,j=t.constructor;v!=j&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var z0e=H0e,q0e=Du,G0e=to,K0e=q0e(G0e,"DataView"),Y0e=K0e,X0e=Du,Q0e=to,J0e=X0e(Q0e,"Promise"),Z0e=J0e,ege=Du,tge=to,rge=ege(tge,"Set"),v8=rge,nge=Du,age=to,sge=nge(age,"WeakMap"),ige=sge,vS=Y0e,wS=aE,bS=Z0e,jS=v8,SS=ige,w8=Go,ch=E$,wk="[object Map]",oge="[object Object]",bk="[object Promise]",jk="[object Set]",Sk="[object WeakMap]",Nk="[object DataView]",lge=ch(vS),cge=ch(wS),uge=ch(bS),dge=ch(jS),fge=ch(SS),_c=w8;(vS&&_c(new vS(new ArrayBuffer(1)))!=Nk||wS&&_c(new wS)!=wk||bS&&_c(bS.resolve())!=bk||jS&&_c(new jS)!=jk||SS&&_c(new SS)!=Sk)&&(_c=function(e){var t=w8(e),r=t==oge?e.constructor:void 0,n=r?ch(r):"";if(n)switch(n){case lge:return Nk;case cge:return wk;case uge:return bk;case dge:return jk;case fge:return Sk}return t});var hge=_c,Xw=l8,mge=f8,pge=qme,gge=z0e,_k=hge,Ek=Ya,Tk=p8,xge=x8,yge=1,Ak="[object Arguments]",Ck="[object Array]",ng="[object Object]",vge=Object.prototype,Dk=vge.hasOwnProperty;function wge(e,t,r,n,a,i){var o=Ek(e),l=Ek(t),c=o?Ck:_k(e),u=l?Ck:_k(t);c=c==Ak?ng:c,u=u==Ak?ng:u;var d=c==ng,f=u==ng,h=c==u;if(h&&Tk(e)){if(!Tk(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Xw),o||xge(e)?mge(e,t,r,n,a,i):pge(e,t,c,r,n,a,i);if(!(r&yge)){var m=d&&Dk.call(e,"__wrapped__"),g=f&&Dk.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,y=g?t.value():t;return i||(i=new Xw),a(p,y,r,n,i)}}return h?(i||(i=new Xw),gge(e,t,r,n,a,i)):!1}var bge=wge,jge=bge,kk=Ko;function b8(e,t,r,n,a){return e===t?!0:e==null||t==null||!kk(e)&&!kk(t)?e!==e&&t!==t:jge(e,t,r,n,b8,a)}var jE=b8,Sge=l8,Nge=jE,_ge=1,Ege=2;function Tge(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Sge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Nge(d,u,_ge|Ege,n,f):h))return!1}}return!0}var Age=Tge,Cge=fc;function Dge(e){return e===e&&!Cge(e)}var j8=Dge,kge=j8,Oge=u1;function Pge(e){for(var t=Oge(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,kge(a)]}return t}var Ige=Pge;function Rge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var S8=Rge,Mge=Age,Fge=Ige,Lge=S8;function $ge(e){var t=Fge(e);return t.length==1&&t[0][2]?Lge(t[0][0],t[0][1]):function(r){return r===e||Mge(r,e,t)}}var Bge=$ge;function Uge(e,t){return e!=null&&t in Object(e)}var Vge=Uge,Wge=k$,Hge=vE,zge=Ya,qge=wE,Gge=bE,Kge=Kv;function Yge(e,t,r){t=Wge(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Kge(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Gge(a)&&qge(o,a)&&(zge(e)||Hge(e)))}var Xge=Yge,Qge=Vge,Jge=Xge;function Zge(e,t){return e!=null&&Jge(e,t,Qge)}var exe=Zge,txe=jE,rxe=O$,nxe=exe,axe=tE,sxe=j8,ixe=S8,oxe=Kv,lxe=1,cxe=2;function uxe(e,t){return axe(e)&&sxe(t)?ixe(oxe(e),t):function(r){var n=rxe(r,e);return n===void 0&&n===t?nxe(r,e):txe(t,n,lxe|cxe)}}var dxe=uxe;function fxe(e){return e}var uh=fxe;function hxe(e){return function(t){return t==null?void 0:t[e]}}var mxe=hxe,pxe=lE;function gxe(e){return function(t){return pxe(t,e)}}var xxe=gxe,yxe=mxe,vxe=xxe,wxe=tE,bxe=Kv;function jxe(e){return wxe(e)?yxe(bxe(e)):vxe(e)}var Sxe=jxe,Nxe=Bge,_xe=dxe,Exe=uh,Txe=Ya,Axe=Sxe;function Cxe(e){return typeof e=="function"?e:e==null?Exe:typeof e=="object"?Txe(e)?_xe(e[0],e[1]):Nxe(e):Axe(e)}var hc=Cxe;function Dxe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var N8=Dxe;function kxe(e){return e!==e}var Oxe=kxe;function Pxe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Ixe=Pxe,Rxe=N8,Mxe=Oxe,Fxe=Ixe;function Lxe(e,t,r){return t===t?Fxe(e,t,r):Rxe(e,Mxe,r)}var $xe=Lxe,Bxe=$xe;function Uxe(e,t){var r=e==null?0:e.length;return!!r&&Bxe(e,t,0)>-1}var Vxe=Uxe;function Wxe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Hxe=Wxe;function zxe(){}var qxe=zxe,Qw=v8,Gxe=qxe,Kxe=yE,Yxe=1/0,Xxe=Qw&&1/Kxe(new Qw([,-0]))[1]==Yxe?function(e){return new Qw(e)}:Gxe,Qxe=Xxe,Jxe=c8,Zxe=Vxe,eye=Hxe,tye=d8,rye=Qxe,nye=yE,aye=200;function sye(e,t,r){var n=-1,a=Zxe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=eye;else if(i>=aye){var u=t?null:rye(e);if(u)return nye(u);o=!1,a=tye,c=new Jxe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var iye=sye,oye=hc,lye=iye;function cye(e,t){return e&&e.length?lye(e,oye(t)):[]}var uye=cye;const Ok=Or(uye);function _8(e,t,r){return t===!0?Ok(e,r):Qt(t)?Ok(e,t):e}function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}var dye=["ref"];function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){d1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ik(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T8(n.key),n)}}function hye(e,t,r){return t&&Ik(e.prototype,t),r&&Ik(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mye(e,t,r){return t=ey(t),pye(e,E8()?Reflect.construct(t,r||[],ey(e).constructor):t.apply(e,r))}function pye(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(e)}function gye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function xye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NS(e,t)}function NS(e,t){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NS(e,t)}function d1(e,t,r){return t=T8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T8(e){var t=yye(e,"string");return vf(t)=="symbol"?t:t+""}function yye(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vye(e,t){if(e==null)return{};var r=wye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bye(e){return e.value}function jye(e,t){if(de.isValidElement(e))return de.cloneElement(e,t);if(typeof e=="function")return de.createElement(e,t);t.ref;var r=vye(t,dye);return de.createElement(xE,r)}var Rk=1,Pd=function(e){function t(){var r;fye(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mye(this,t,[].concat(a)),d1(r,"lastBoundingBox",{width:-1,height:-1}),r}return xye(t,e),hye(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Rk||Math.abs(a.height-this.lastBoundingBox.height)>Rk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return io(io({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=io(io({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},jye(i,io(io({},this.props),{},{payload:_8(d,u,bye)})))}}],[{key:"getWithHeight",value:function(n,a){var i=io(io({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ze(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);d1(Pd,"displayName","Legend");d1(Pd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Mk=u0,Sye=vE,Nye=Ya,Fk=Mk?Mk.isConcatSpreadable:void 0;function _ye(e){return Nye(e)||Sye(e)||!!(Fk&&e&&e[Fk])}var Eye=_ye,Tye=h8,Aye=Eye;function A8(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Aye),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?A8(l,t-1,r,n,a):Tye(a,l):n||(a[a.length]=l)}return a}var C8=A8;function Cye(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Dye=Cye,kye=Dye,Oye=kye(),Pye=Oye,Iye=Pye,Rye=u1;function Mye(e,t){return e&&Iye(e,t,Rye)}var D8=Mye,Fye=f0;function Lye(e,t){return function(r,n){if(r==null)return r;if(!Fye(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var $ye=Lye,Bye=D8,Uye=$ye,Vye=Uye(Bye),SE=Vye,Wye=SE,Hye=f0;function zye(e,t){var r=-1,n=Hye(e)?Array(e.length):[];return Wye(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var k8=zye;function qye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Gye=qye,Lk=nh;function Kye(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Lk(e),o=t!==void 0,l=t===null,c=t===t,u=Lk(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Yye=Kye,Xye=Yye;function Qye(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Xye(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Jye=Qye,Jw=oE,Zye=lE,eve=hc,tve=k8,rve=Gye,nve=g8,ave=Jye,sve=uh,ive=Ya;function ove(e,t,r){t.length?t=Jw(t,function(i){return ive(i)?function(o){return Zye(o,i.length===1?i[0]:i)}:i}):t=[sve];var n=-1;t=Jw(t,nve(eve));var a=tve(e,function(i,o,l){var c=Jw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return rve(a,function(i,o){return ave(i,o,r)})}var lve=ove;function cve(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uve=cve,dve=uve,$k=Math.max;function fve(e,t,r){return t=$k(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=$k(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),dve(e,this,l)}}var hve=fve;function mve(e){return function(){return e}}var pve=mve,gve=Du,xve=function(){try{var e=gve(Object,"defineProperty");return e({},"",{}),e}catch{}}(),O8=xve,yve=pve,Bk=O8,vve=uh,wve=Bk?function(e,t){return Bk(e,"toString",{configurable:!0,enumerable:!1,value:yve(t),writable:!0})}:vve,bve=wve,jve=800,Sve=16,Nve=Date.now;function _ve(e){var t=0,r=0;return function(){var n=Nve(),a=Sve-(n-r);if(r=n,a>0){if(++t>=jve)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Eve=_ve,Tve=bve,Ave=Eve,Cve=Ave(Tve),Dve=Cve,kve=uh,Ove=hve,Pve=Dve;function Ive(e,t){return Pve(Ove(e,t,kve),e+"")}var Rve=Ive,Mve=nE,Fve=f0,Lve=wE,$ve=fc;function Bve(e,t,r){if(!$ve(r))return!1;var n=typeof t;return(n=="number"?Fve(r)&&Lve(t,r.length):n=="string"&&t in r)?Mve(r[t],e):!1}var f1=Bve,Uve=C8,Vve=lve,Wve=Rve,Uk=f1,Hve=Wve(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Uk(e,t[0],t[1])?t=[]:r>2&&Uk(t[0],t[1],t[2])&&(t=[t[0]]),Vve(e,Uve(t,1),[])}),zve=Hve;const NE=Or(zve);function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}function qve(e,t){return Xve(e)||Yve(e,t)||Kve(e,t)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kve(e,t){if(e){if(typeof e=="string")return Vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(e,t)}}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xve(e){if(Array.isArray(e))return e}function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){Qve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qve(e,t,r){return t=Jve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jve(e){var t=Zve(e,"string");return Zm(t)=="symbol"?t:t+""}function Zve(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1e(e){return Array.isArray(e)&&An(e[0])&&An(e[1])?e.join(" ~ "):e}var t1e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,y=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var A={padding:0,margin:0},M=(h?NE(d,h):d).map(function(U,B){if(U.type==="none")return null;var I=Zw({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),P=U.formatter||f||e1e,C=U.value,F=U.name,R=C,se=F;if(P&&R!=null&&se!=null){var L=P(C,F,U,B,d);if(Array.isArray(L)){var q=qve(L,2);R=q[0],se=q[1]}else R=L}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:I},An(se)?de.createElement("span",{className:"recharts-tooltip-item-name"},se):null,An(se)?de.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,de.createElement("span",{className:"recharts-tooltip-item-value"},R),de.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:A},M)}return null},v=Zw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Zw({margin:0},u),S=!pr(p),_=S?p:"",E=or("recharts-default-tooltip",m),T=or("recharts-tooltip-label",g);S&&y&&d!==void 0&&d!==null&&(_=y(p,d));var D=x?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",_S({className:E,style:v},D),de.createElement("p",{className:T,style:j},de.isValidElement(_)?_:"".concat(_)),w())};function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function ag(e,t,r){return t=r1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r1e(e){var t=n1e(e,"string");return ep(t)=="symbol"?t:t+""}function n1e(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oh="recharts-tooltip-wrapper",a1e={visibility:"hidden"};function s1e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return or(Oh,ag(ag(ag(ag({},"".concat(Oh,"-right"),Ze(r)&&t&&Ze(t.x)&&r>=t.x),"".concat(Oh,"-left"),Ze(r)&&t&&Ze(t.x)&&r<t.x),"".concat(Oh,"-bottom"),Ze(n)&&t&&Ze(t.y)&&n>=t.y),"".concat(Oh,"-top"),Ze(n)&&t&&Ze(t.y)&&n<t.y))}function Hk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ze(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function i1e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function o1e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Hk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Hk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=i1e({translateX:d,translateY:f,useTranslate3d:l})):u=a1e,{cssProperties:u,cssClasses:s1e({translateX:d,translateY:f,coordinate:r})}}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){TS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I8(n.key),n)}}function u1e(e,t,r){return t&&c1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d1e(e,t,r){return t=ty(t),f1e(e,P8()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function f1e(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(e)}function h1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P8=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function m1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ES(e,t)}function ES(e,t){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ES(e,t)}function TS(e,t,r){return t=I8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8(e){var t=p1e(e,"string");return wf(t)=="symbol"?t:t+""}function p1e(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gk=1,g1e=function(e){function t(){var r;l1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=d1e(this,t,[].concat(a)),TS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),TS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return m1e(t,e),u1e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Gk||Math.abs(n.height-this.state.lastBoundingBox.height)>Gk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,w=o1e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),v=w.cssClasses,j=w.cssProperties,S=qk(qk({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return de.createElement("div",{tabIndex:-1,className:v,style:S,ref:function(E){n.wrapperNode=E}},u)}}])}(N.PureComponent),x1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},h0={isSsr:x1e()};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){_E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M8(n.key),n)}}function w1e(e,t,r){return t&&v1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b1e(e,t,r){return t=ry(t),j1e(e,R8()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function j1e(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1e(e)}function S1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AS(e,t)}function AS(e,t){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AS(e,t)}function _E(e,t,r){return t=M8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M8(e){var t=_1e(e,"string");return bf(t)=="symbol"?t:t+""}function _1e(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E1e(e){return e.dataKey}function T1e(e,t){return de.isValidElement(e)?de.cloneElement(e,t):typeof e=="function"?de.createElement(e,t):de.createElement(t1e,t)}var co=function(e){function t(){return y1e(this,t),b1e(this,t,arguments)}return N1e(t,e),w1e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,y=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,v=a.wrapperStyle,j=g??[];f&&j.length&&(j=_8(g.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),p,E1e));var S=j.length>0;return de.createElement(g1e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:y,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:v},T1e(u,Yk(Yk({},this.props),{},{payload:j})))}}])}(N.PureComponent);_E(co,"displayName","Tooltip");_E(co,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!h0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var A1e=to,C1e=function(){return A1e.Date.now()},D1e=C1e,k1e=/\s/;function O1e(e){for(var t=e.length;t--&&k1e.test(e.charAt(t)););return t}var P1e=O1e,I1e=P1e,R1e=/^\s+/;function M1e(e){return e&&e.slice(0,I1e(e)+1).replace(R1e,"")}var F1e=M1e,L1e=F1e,Xk=fc,$1e=nh,Qk=NaN,B1e=/^[-+]0x[0-9a-f]+$/i,U1e=/^0b[01]+$/i,V1e=/^0o[0-7]+$/i,W1e=parseInt;function H1e(e){if(typeof e=="number")return e;if($1e(e))return Qk;if(Xk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=L1e(e);var r=U1e.test(e);return r||V1e.test(e)?W1e(e.slice(2),r?2:8):B1e.test(e)?Qk:+e}var F8=H1e,z1e=fc,eb=D1e,Jk=F8,q1e="Expected a function",G1e=Math.max,K1e=Math.min;function Y1e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(q1e);t=Jk(t)||0,z1e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?G1e(Jk(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var _=n,E=a;return n=a=void 0,u=S,o=e.apply(E,_),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var _=S-c,E=S-u,T=t-_;return f?K1e(T,i-E):T}function y(S){var _=S-c,E=S-u;return c===void 0||_>=t||_<0||f&&E>=i}function b(){var S=eb();if(y(S))return x(S);l=setTimeout(b,p(S))}function x(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function v(){return l===void 0?o:x(eb())}function j(){var S=eb(),_=y(S);if(n=arguments,a=this,c=S,_){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=v,j}var X1e=Y1e,Q1e=X1e,J1e=fc,Z1e="Expected a function";function ewe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Z1e);return J1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Q1e(e,t,{leading:n,maxWait:t,trailing:a})}var twe=ewe;const L8=Or(twe);function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(n){rwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rwe(e,t,r){return t=nwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nwe(e){var t=awe(e,"string");return tp(t)=="symbol"?t:t+""}function awe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function swe(e,t){return cwe(e)||lwe(e,t)||owe(e,t)||iwe()}function iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function owe(e,t){if(e){if(typeof e=="string")return eO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(e,t)}}function eO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cwe(e){if(Array.isArray(e))return e}var uwe=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,y=e.id,b=e.className,x=e.onResize,w=e.style,v=w===void 0?{}:w,j=N.useRef(null),S=N.useRef();S.current=x,N.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=N.useState({containerWidth:a.width,containerHeight:a.height}),E=swe(_,2),T=E[0],D=E[1],O=N.useCallback(function(M,U){D(function(B){var I=Math.round(M),P=Math.round(U);return B.containerWidth===I&&B.containerHeight===P?B:{containerWidth:I,containerHeight:P}})},[]);N.useEffect(function(){var M=function(F){var R,se=F[0].contentRect,L=se.width,q=se.height;O(L,q),(R=S.current)===null||R===void 0||R.call(S,L,q)};p>0&&(M=L8(M,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),B=j.current.getBoundingClientRect(),I=B.width,P=B.height;return O(I,P),U.observe(j.current),function(){U.disconnect()}},[O,p]);var A=N.useMemo(function(){var M=T.containerWidth,U=T.containerHeight;if(M<0||U<0)return null;Do(Pc(o)||Pc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Do(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Pc(o)?M:o,I=Pc(c)?U:c;r&&r>0&&(B?I=B/r:I&&(B=I*r),h&&I>h&&(I=h)),Do(B>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,I,o,c,d,f,r);var P=!Array.isArray(m)&&Co(m.type).endsWith("Chart");return de.Children.map(m,function(C){return de.isValidElement(C)?N.cloneElement(C,sg({width:B,height:I},P?{style:sg({height:"100%",width:"100%",maxHeight:I,maxWidth:B},C.props.style)}:{})):C})},[r,m,c,h,f,d,T,o]);return de.createElement("div",{id:y?"".concat(y):void 0,className:or("recharts-responsive-container",b),style:sg(sg({},v),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},A)}),$8=function(t){return null};$8.displayName="Cell";function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){dwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dwe(e,t,r){return t=fwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fwe(e){var t=hwe(e,"string");return rp(t)=="symbol"?t:t+""}function hwe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qu={widthCache:{},cacheCount:0},mwe=2e3,pwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rO="recharts_measurement_span";function gwe(e){var t=CS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var pm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||h0.isSsr)return{width:0,height:0};var n=gwe(r),a=JSON.stringify({text:t,copyStyle:n});if(Qu.widthCache[a])return Qu.widthCache[a];try{var i=document.getElementById(rO);i||(i=document.createElement("span"),i.setAttribute("id",rO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=CS(CS({},pwe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Qu.widthCache[a]=c,++Qu.cacheCount>mwe&&(Qu.cacheCount=0,Qu.widthCache={}),c}catch{return{width:0,height:0}}},xwe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function ny(e,t){return bwe(e)||wwe(e,t)||vwe(e,t)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(e,t){if(e){if(typeof e=="string")return nO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(e,t)}}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bwe(e){if(Array.isArray(e))return e}function jwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nwe(n.key),n)}}function Swe(e,t,r){return t&&aO(e.prototype,t),r&&aO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nwe(e){var t=_we(e,"string");return np(t)=="symbol"?t:t+""}function _we(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ewe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Twe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Awe=Object.keys(B8),pd="NaN";function Cwe(e,t){return e*B8[t]}var ig=function(){function e(t,r){jwe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Ewe.test(r)&&(this.num=NaN,this.unit=""),Awe.includes(r)&&(this.num=Cwe(t,r),this.unit="px")}return Swe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Twe.exec(r))!==null&&n!==void 0?n:[],i=ny(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function U8(e){if(e.includes(pd))return pd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=sO.exec(t))!==null&&r!==void 0?r:[],a=ny(n,4),i=a[1],o=a[2],l=a[3],c=ig.parse(i??""),u=ig.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return pd;t=t.replace(sO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=iO.exec(t))!==null&&f!==void 0?f:[],m=ny(h,4),g=m[1],p=m[2],y=m[3],b=ig.parse(g??""),x=ig.parse(y??""),w=p==="+"?b.add(x):b.subtract(x);if(w.isNaN())return pd;t=t.replace(iO,w.toString())}return t}var oO=/\(([^()]*)\)/;function Dwe(e){for(var t=e;t.includes("(");){var r=oO.exec(t),n=ny(r,2),a=n[1];t=t.replace(oO,U8(a))}return t}function kwe(e){var t=e.replace(/\s+/g,"");return t=Dwe(t),t=U8(t),t}function Owe(e){try{return kwe(e)}catch{return pd}}function tb(e){var t=Owe(e.slice(5,-1));return t===pd?"":t}var Pwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Iwe=["dx","dy","angle","className","breakAll"];function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DS.apply(this,arguments)}function lO(e,t){if(e==null)return{};var r=Rwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cO(e,t){return $we(e)||Lwe(e,t)||Fwe(e,t)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fwe(e,t){if(e){if(typeof e=="string")return uO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uO(e,t)}}function uO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $we(e){if(Array.isArray(e))return e}var V8=/[ \f\n\r\t\v\u2028\u2029]+/,W8=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];pr(r)||(n?i=r.toString().split(""):i=r.toString().split(V8));var o=i.map(function(c){return{word:c,width:pm(c,a).width}}),l=n?0:pm(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Bwe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ze(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(I,P){var C=P.word,F=P.width,R=I[I.length-1];if(R&&(a==null||i||R.width+F+n<Number(a)))R.words.push(C),R.width+=F+n;else{var se={words:[C],width:F};I.push(se)}return I},[])},m=h(r),g=function(B){return B.reduce(function(I,P){return I.width>P.width?I:P})};if(!d)return m;for(var p="…",y=function(B){var I=f.slice(0,B),P=W8({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,C=h(P),F=C.length>o||g(C).width>Number(a);return[F,C]},b=0,x=f.length-1,w=0,v;b<=x&&w<=f.length-1;){var j=Math.floor((b+x)/2),S=j-1,_=y(S),E=cO(_,2),T=E[0],D=E[1],O=y(j),A=cO(O,1),M=A[0];if(!T&&!M&&(b=j+1),T&&M&&(x=j-1),!T&&M){v=D;break}w++}return v||m},dO=function(t){var r=pr(t)?[]:t.toString().split(V8);return[{words:r}]},Uwe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!h0.isSsr){var c,u,d=W8({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return dO(a);return Bwe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return dO(a)},fO="#808080",ay=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,y=t.fill,b=y===void 0?fO:y,x=lO(t,Pwe),w=N.useMemo(function(){return Uwe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),v=x.dx,j=x.dy,S=x.angle,_=x.className,E=x.breakAll,T=lO(x,Iwe);if(!An(n)||!An(i))return null;var D=n+(Ze(v)?v:0),O=i+(Ze(j)?j:0),A;switch(p){case"start":A=tb("calc(".concat(u,")"));break;case"middle":A=tb("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=tb("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(f){var U=w[0].width,B=x.width;M.push("scale(".concat((Ze(B)?B/U:1)/U,")"))}return S&&M.push("rotate(".concat(S,", ").concat(D,", ").concat(O,")")),M.length&&(T.transform=M.join(" ")),de.createElement("text",DS({},mr(T,!0),{x:D,y:O,className:or("recharts-text",_),textAnchor:m,fill:b.includes("url")?fO:b}),w.map(function(I,P){var C=I.words.join(E?"":" ");return de.createElement("tspan",{x:D,dy:P===0?A:l,key:"".concat(C,"-").concat(P)},C)}))};function Wl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Vwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EE(e){let t,r,n;e.length!==2?(t=Wl,r=(l,c)=>Wl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Wl||e===Vwe?e:Wwe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Wwe(){return 0}function H8(e){return e===null?NaN:+e}function*Hwe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zwe=EE(Wl),m0=zwe.right;EE(H8).center;class hO extends Map{constructor(t,r=Kwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(mO(this,t))}has(t){return super.has(mO(this,t))}set(t,r){return super.set(qwe(this,t),r)}delete(t){return super.delete(Gwe(this,t))}}function mO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function qwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Gwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Kwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ywe(e=Wl){if(e===Wl)return z8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function z8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Xwe=Math.sqrt(50),Qwe=Math.sqrt(10),Jwe=Math.sqrt(2);function sy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Xwe?10:i>=Qwe?5:i>=Jwe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?sy(e,t,r*2):[l,c,u]}function kS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?sy(t,e,r):sy(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function OS(e,t,r){return t=+t,e=+e,r=+r,sy(e,t,r)[2]}function PS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?OS(t,e,r):OS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function pO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function q8(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?z8:Ywe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));q8(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Ph(e,r,t),a(e[n],i)>0&&Ph(e,r,n);o<l;){for(Ph(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Ph(e,r,l):(++l,Ph(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ph(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Zwe(e,t,r){if(e=Float64Array.from(Hwe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gO(e);if(t>=1)return pO(e);var n,a=(n-1)*t,i=Math.floor(a),o=pO(q8(e,i).subarray(0,i+1)),l=gO(e.subarray(i+1));return o+(l-o)*(a-i)}}function ebe(e,t,r=H8){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function tbe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Hs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const IS=Symbol("implicit");function TE(){var e=new hO,t=[],r=[],n=IS;function a(i){let o=e.get(i);if(o===void 0){if(n!==IS)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new hO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return TE(t,r).unknown(n)},Hs.apply(a,arguments),a}function ap(){var e=TE().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=tbe(h).map(function(b){return g+i*b});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ap(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hs.apply(f(),arguments)}function G8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return G8(t())},e}function gm(){return G8(ap.apply(null,arguments).paddingInner(1))}function AE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function K8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function p0(){}var sp=.7,iy=1/sp,Id="\\s*([+-]?\\d+)\\s*",ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rbe=/^#([0-9a-f]{3,8})$/,nbe=new RegExp(`^rgb\\(${Id},${Id},${Id}\\)$`),abe=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),sbe=new RegExp(`^rgba\\(${Id},${Id},${Id},${ip}\\)$`),ibe=new RegExp(`^rgba\\(${qi},${qi},${qi},${ip}\\)$`),obe=new RegExp(`^hsl\\(${ip},${qi},${qi}\\)$`),lbe=new RegExp(`^hsla\\(${ip},${qi},${qi},${ip}\\)$`),xO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AE(p0,op,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yO,formatHex:yO,formatHex8:cbe,formatHsl:ube,formatRgb:vO,toString:vO});function yO(){return this.rgb().formatHex()}function cbe(){return this.rgb().formatHex8()}function ube(){return Y8(this).formatHsl()}function vO(){return this.rgb().formatRgb()}function op(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wO(t):r===3?new Ba(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?og(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?og(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nbe.exec(e))?new Ba(t[1],t[2],t[3],1):(t=abe.exec(e))?new Ba(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sbe.exec(e))?og(t[1],t[2],t[3],t[4]):(t=ibe.exec(e))?og(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=obe.exec(e))?SO(t[1],t[2]/100,t[3]/100,1):(t=lbe.exec(e))?SO(t[1],t[2]/100,t[3]/100,t[4]):xO.hasOwnProperty(e)?wO(xO[e]):e==="transparent"?new Ba(NaN,NaN,NaN,0):null}function wO(e){return new Ba(e>>16&255,e>>8&255,e&255,1)}function og(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ba(e,t,r,n)}function dbe(e){return e instanceof p0||(e=op(e)),e?(e=e.rgb(),new Ba(e.r,e.g,e.b,e.opacity)):new Ba}function RS(e,t,r,n){return arguments.length===1?dbe(e):new Ba(e,t,r,n??1)}function Ba(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}AE(Ba,RS,K8(p0,{brighter(e){return e=e==null?iy:Math.pow(iy,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ba(Yc(this.r),Yc(this.g),Yc(this.b),oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bO,formatHex:bO,formatHex8:fbe,formatRgb:jO,toString:jO}));function bO(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}`}function fbe(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}${Ic((isNaN(this.opacity)?1:this.opacity)*255)}`}function jO(){const e=oy(this.opacity);return`${e===1?"rgb(":"rgba("}${Yc(this.r)}, ${Yc(this.g)}, ${Yc(this.b)}${e===1?")":`, ${e})`}`}function oy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ic(e){return e=Yc(e),(e<16?"0":"")+e.toString(16)}function SO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oi(e,t,r,n)}function Y8(e){if(e instanceof oi)return new oi(e.h,e.s,e.l,e.opacity);if(e instanceof p0||(e=op(e)),!e)return new oi;if(e instanceof oi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new oi(o,l,c,e.opacity)}function hbe(e,t,r,n){return arguments.length===1?Y8(e):new oi(e,t,r,n??1)}function oi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}AE(oi,hbe,K8(p0,{brighter(e){return e=e==null?iy:Math.pow(iy,e),new oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ba(rb(e>=240?e-240:e+120,a,n),rb(e,a,n),rb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new oi(NO(this.h),lg(this.s),lg(this.l),oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oy(this.opacity);return`${e===1?"hsl(":"hsla("}${NO(this.h)}, ${lg(this.s)*100}%, ${lg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NO(e){return e=(e||0)%360,e<0?e+360:e}function lg(e){return Math.max(0,Math.min(1,e||0))}function rb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const CE=e=>()=>e;function mbe(e,t){return function(r){return e+r*t}}function pbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gbe(e){return(e=+e)==1?X8:function(t,r){return r-t?pbe(t,r,e):CE(isNaN(t)?r:t)}}function X8(e,t){var r=t-e;return r?mbe(e,r):CE(isNaN(e)?t:e)}const _O=function e(t){var r=gbe(t);function n(a,i){var o=r((a=RS(a)).r,(i=RS(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=X8(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function xbe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function ybe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vbe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=dh(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function wbe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ly(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bbe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=dh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var MS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nb=new RegExp(MS.source,"g");function jbe(e){return function(){return e}}function Sbe(e){return function(t){return e(t)+""}}function Nbe(e,t){var r=MS.lastIndex=nb.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=MS.exec(e))&&(a=nb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ly(n,a)})),r=nb.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Sbe(c[0].x):jbe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function dh(e,t){var r=typeof t,n;return t==null||r==="boolean"?CE(t):(r==="number"?ly:r==="string"?(n=op(t))?(t=n,_O):Nbe:t instanceof op?_O:t instanceof Date?wbe:ybe(t)?xbe:Array.isArray(t)?vbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bbe:ly)(e,t)}function DE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function _be(e,t){t===void 0&&(t=e,e=dh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Ebe(e){return function(){return e}}function cy(e){return+e}var EO=[0,1];function Aa(e){return e}function FS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Ebe(isNaN(t)?NaN:.5)}function Tbe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Abe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=FS(a,n),i=r(o,i)):(n=FS(n,a),i=r(i,o)),function(l){return i(n(l))}}function Cbe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=FS(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=m0(e,l,1,n)-1;return i[c](a[c](l))}}function g0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function h1(){var e=EO,t=EO,r=dh,n,a,i,o=Aa,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Aa&&(o=Tbe(e[0],e[h-1])),l=h>2?Cbe:Abe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ly)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,cy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=DE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Aa,d()):o!==Aa},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function kE(){return h1()(Aa,Aa)}function Dbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function jf(e){return e=uy(Math.abs(e)),e?e[1]:NaN}function kbe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Obe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Pbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lp(e){if(!(t=Pbe.exec(e)))throw new Error("invalid format: "+e);var t;return new OE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lp.prototype=OE.prototype;function OE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ibe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Q8;function Rbe(e,t){var r=uy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Q8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+uy(e,Math.max(0,t+i-1))[0]}function TO(e,t){var r=uy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const AO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TO(e*100,t),r:TO,s:Rbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function CO(e){return e}var DO=Array.prototype.map,kO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Mbe(e){var t=e.grouping===void 0||e.thousands===void 0?CO:kbe(DO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?CO:Obe(DO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=lp(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,y=f.zero,b=f.width,x=f.comma,w=f.precision,v=f.trim,j=f.type;j==="n"?(x=!0,j="g"):AO[j]||(w===void 0&&(w=12),v=!0,j="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=p==="$"?n:/[%p]/.test(j)?o:"",E=AO[j],T=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(O){var A=S,M=_,U,B,I;if(j==="c")M=E(O)+M,O="";else{O=+O;var P=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),w),v&&(O=Ibe(O)),P&&+O==0&&g!=="+"&&(P=!1),A=(P?g==="("?g:l:g==="-"||g==="("?"":g)+A,M=(j==="s"?kO[8+Q8/3]:"")+M+(P&&g==="("?")":""),T){for(U=-1,B=O.length;++U<B;)if(I=O.charCodeAt(U),48>I||I>57){M=(I===46?a+O.slice(U+1):O.slice(U))+M,O=O.slice(0,U);break}}}x&&!y&&(O=t(O,1/0));var C=A.length+O.length+M.length,F=C<b?new Array(b-C+1).join(h):"";switch(x&&y&&(O=t(F+O,F.length?b-M.length:1/0),F=""),m){case"<":O=A+O+M+F;break;case"=":O=A+F+O+M;break;case"^":O=F.slice(0,C=F.length>>1)+A+O+M+F.slice(C);break;default:O=F+A+O+M;break}return i(O)}return D.toString=function(){return f+""},D}function d(f,h){var m=u((f=lp(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(jf(h)/3)))*3,p=Math.pow(10,-g),y=kO[8+g/3];return function(b){return m(p*b)+y}}return{format:u,formatPrefix:d}}var cg,PE,J8;Fbe({thousands:",",grouping:[3],currency:["$",""]});function Fbe(e){return cg=Mbe(e),PE=cg.format,J8=cg.formatPrefix,cg}function Lbe(e){return Math.max(0,-jf(Math.abs(e)))}function $be(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jf(t)/3)))*3-jf(Math.abs(e)))}function Bbe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jf(t)-jf(e))+1}function Z8(e,t,r,n){var a=PS(e,t,r),i;switch(n=lp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=$be(a,o))&&(n.precision=i),J8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Bbe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Lbe(a))&&(n.precision=i-(n.type==="%")*2);break}}return PE(n)}function mc(e){var t=e.domain;return e.ticks=function(r){var n=t();return kS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Z8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=OS(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function dy(){var e=kE();return e.copy=function(){return g0(e,dy())},Hs.apply(e,arguments),mc(e)}function eB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return eB(e).unknown(t)},e=arguments.length?Array.from(e,cy):[0,1],mc(r)}function tB(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function OO(e){return Math.log(e)}function PO(e){return Math.exp(e)}function Ube(e){return-Math.log(-e)}function Vbe(e){return-Math.exp(-e)}function Wbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Hbe(e){return e===10?Wbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IO(e){return(t,r)=>-e(-t,r)}function IE(e){const t=e(OO,PO),r=t.domain;let n=10,a,i;function o(){return a=zbe(n),i=Hbe(n),r()[0]<0?(a=IO(a),i=IO(i),e(Ube,Vbe)):e(OO,PO),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const y=l==null?10:+l;let b=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<y&&(b=kS(u,d,y))}else b=kS(h,m,Math.min(m-h,y)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=lp(c)).precision==null&&(c.trim=!0),c=PE(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(tB(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function rB(){const e=IE(h1()).domain([1,10]);return e.copy=()=>g0(e,rB()).base(e.base()),Hs.apply(e,arguments),e}function RO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function RE(e){var t=1,r=e(RO(t),MO(t));return r.constant=function(n){return arguments.length?e(RO(t=+n),MO(t)):t},mc(r)}function nB(){var e=RE(h1());return e.copy=function(){return g0(e,nB()).constant(e.constant())},Hs.apply(e,arguments)}function FO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gbe(e){return e<0?-e*e:e*e}function ME(e){var t=e(Aa,Aa),r=1;function n(){return r===1?e(Aa,Aa):r===.5?e(qbe,Gbe):e(FO(r),FO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},mc(t)}function FE(){var e=ME(h1());return e.copy=function(){return g0(e,FE()).exponent(e.exponent())},Hs.apply(e,arguments),e}function Kbe(){return FE.apply(null,arguments).exponent(.5)}function LO(e){return Math.sign(e)*e*e}function Ybe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aB(){var e=kE(),t=[0,1],r=!1,n;function a(i){var o=Ybe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(LO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,cy)).map(LO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return aB(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hs.apply(a,arguments),mc(a)}function sB(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=ebe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[m0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return sB().domain(e).range(t).unknown(n)},Hs.apply(i,arguments)}function iB(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[m0(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return iB().domain([e,t]).range(a).unknown(i)},Hs.apply(mc(o),arguments)}function oB(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[m0(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oB().domain(e).range(t).unknown(r)},Hs.apply(a,arguments)}const ab=new Date,sb=new Date;function Cn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Cn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(ab.setTime(+i),sb.setTime(+o),e(ab),e(sb),Math.floor(r(ab,sb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fy=Cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fy);fy.range;const wo=1e3,Rs=wo*60,bo=Rs*60,Vo=bo*24,LE=Vo*7,$O=Vo*30,ib=Vo*365,Rc=Cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getUTCSeconds());Rc.range;const $E=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wo)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());$E.range;const BE=Cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());BE.range;const UE=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wo-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*bo)},(e,t)=>(t-e)/bo,e=>e.getHours());UE.range;const VE=Cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bo)},(e,t)=>(t-e)/bo,e=>e.getUTCHours());VE.range;const x0=Cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/Vo,e=>e.getDate()-1);x0.range;const m1=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vo,e=>e.getUTCDate()-1);m1.range;const lB=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vo,e=>Math.floor(e/Vo));lB.range;function ku(e){return Cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/LE)}const p1=ku(0),hy=ku(1),Xbe=ku(2),Qbe=ku(3),Sf=ku(4),Jbe=ku(5),Zbe=ku(6);p1.range;hy.range;Xbe.range;Qbe.range;Sf.range;Jbe.range;Zbe.range;function Ou(e){return Cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/LE)}const g1=Ou(0),my=Ou(1),eje=Ou(2),tje=Ou(3),Nf=Ou(4),rje=Ou(5),nje=Ou(6);g1.range;my.range;eje.range;tje.range;Nf.range;rje.range;nje.range;const WE=Cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());WE.range;const HE=Cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HE.range;const Wo=Cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wo.range;const Ho=Cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ho.range;function cB(e,t,r,n,a,i){const o=[[Rc,1,wo],[Rc,5,5*wo],[Rc,15,15*wo],[Rc,30,30*wo],[i,1,Rs],[i,5,5*Rs],[i,15,15*Rs],[i,30,30*Rs],[a,1,bo],[a,3,3*bo],[a,6,6*bo],[a,12,12*bo],[n,1,Vo],[n,2,2*Vo],[r,1,LE],[t,1,$O],[t,3,3*$O],[e,1,ib]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=EE(([,,y])=>y).right(o,h);if(m===o.length)return e.every(PS(u/ib,d/ib,f));if(m===0)return fy.every(Math.max(PS(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[aje,sje]=cB(Ho,HE,g1,lB,VE,BE),[ije,oje]=cB(Wo,WE,p1,x0,UE,$E);function ob(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ih(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function lje(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Rh(a),d=Mh(a),f=Rh(i),h=Mh(i),m=Rh(o),g=Mh(o),p=Rh(l),y=Mh(l),b=Rh(c),x=Mh(c),w={a:P,A:C,b:F,B:R,c:null,d:zO,e:zO,f:kje,g:Uje,G:Wje,H:Aje,I:Cje,j:Dje,L:uB,m:Oje,M:Pje,p:se,q:L,Q:KO,s:YO,S:Ije,u:Rje,U:Mje,V:Fje,w:Lje,W:$je,x:null,X:null,y:Bje,Y:Vje,Z:Hje,"%":GO},v={a:q,A:H,b:K,B:ce,c:null,d:qO,e:qO,f:Kje,g:aSe,G:iSe,H:zje,I:qje,j:Gje,L:fB,m:Yje,M:Xje,p:ue,q:ge,Q:KO,s:YO,S:Qje,u:Jje,U:Zje,V:eSe,w:tSe,W:rSe,x:null,X:null,y:nSe,Y:sSe,Z:oSe,"%":GO},j={a:D,A:O,b:A,B:M,c:U,d:WO,e:WO,f:Nje,g:VO,G:UO,H:HO,I:HO,j:wje,L:Sje,m:vje,M:bje,p:T,q:yje,Q:Eje,s:Tje,S:jje,u:hje,U:mje,V:pje,w:fje,W:gje,x:B,X:I,y:VO,Y:UO,Z:xje,"%":_je};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),v.x=S(r,v),v.X=S(n,v),v.c=S(t,v);function S(le,X){return function(xe){var he=[],Me=-1,Pe=0,Be=le.length,Ie,W,be;for(xe instanceof Date||(xe=new Date(+xe));++Me<Be;)le.charCodeAt(Me)===37&&(he.push(le.slice(Pe,Me)),(W=BO[Ie=le.charAt(++Me)])!=null?Ie=le.charAt(++Me):W=Ie==="e"?" ":"0",(be=X[Ie])&&(Ie=be(xe,W)),he.push(Ie),Pe=Me+1);return he.push(le.slice(Pe,Me)),he.join("")}}function _(le,X){return function(xe){var he=Ih(1900,void 0,1),Me=E(he,le,xe+="",0),Pe,Be;if(Me!=xe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(X&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Pe=lb(Ih(he.y,0,1)),Be=Pe.getUTCDay(),Pe=Be>4||Be===0?my.ceil(Pe):my(Pe),Pe=m1.offset(Pe,(he.V-1)*7),he.y=Pe.getUTCFullYear(),he.m=Pe.getUTCMonth(),he.d=Pe.getUTCDate()+(he.w+6)%7):(Pe=ob(Ih(he.y,0,1)),Be=Pe.getDay(),Pe=Be>4||Be===0?hy.ceil(Pe):hy(Pe),Pe=x0.offset(Pe,(he.V-1)*7),he.y=Pe.getFullYear(),he.m=Pe.getMonth(),he.d=Pe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Be="Z"in he?lb(Ih(he.y,0,1)).getUTCDay():ob(Ih(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Be+5)%7:he.w+he.U*7-(Be+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,lb(he)):ob(he)}}function E(le,X,xe,he){for(var Me=0,Pe=X.length,Be=xe.length,Ie,W;Me<Pe;){if(he>=Be)return-1;if(Ie=X.charCodeAt(Me++),Ie===37){if(Ie=X.charAt(Me++),W=j[Ie in BO?X.charAt(Me++):Ie],!W||(he=W(le,xe,he))<0)return-1}else if(Ie!=xe.charCodeAt(he++))return-1}return he}function T(le,X,xe){var he=u.exec(X.slice(xe));return he?(le.p=d.get(he[0].toLowerCase()),xe+he[0].length):-1}function D(le,X,xe){var he=m.exec(X.slice(xe));return he?(le.w=g.get(he[0].toLowerCase()),xe+he[0].length):-1}function O(le,X,xe){var he=f.exec(X.slice(xe));return he?(le.w=h.get(he[0].toLowerCase()),xe+he[0].length):-1}function A(le,X,xe){var he=b.exec(X.slice(xe));return he?(le.m=x.get(he[0].toLowerCase()),xe+he[0].length):-1}function M(le,X,xe){var he=p.exec(X.slice(xe));return he?(le.m=y.get(he[0].toLowerCase()),xe+he[0].length):-1}function U(le,X,xe){return E(le,t,X,xe)}function B(le,X,xe){return E(le,r,X,xe)}function I(le,X,xe){return E(le,n,X,xe)}function P(le){return o[le.getDay()]}function C(le){return i[le.getDay()]}function F(le){return c[le.getMonth()]}function R(le){return l[le.getMonth()]}function se(le){return a[+(le.getHours()>=12)]}function L(le){return 1+~~(le.getMonth()/3)}function q(le){return o[le.getUTCDay()]}function H(le){return i[le.getUTCDay()]}function K(le){return c[le.getUTCMonth()]}function ce(le){return l[le.getUTCMonth()]}function ue(le){return a[+(le.getUTCHours()>=12)]}function ge(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var X=S(le+="",w);return X.toString=function(){return le},X},parse:function(le){var X=_(le+="",!1);return X.toString=function(){return le},X},utcFormat:function(le){var X=S(le+="",v);return X.toString=function(){return le},X},utcParse:function(le){var X=_(le+="",!0);return X.toString=function(){return le},X}}}var BO={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,cje=/^%/,uje=/[\\^$*+?|[\]().{}]/g;function fr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function dje(e){return e.replace(uje,"\\$&")}function Rh(e){return new RegExp("^(?:"+e.map(dje).join("|")+")","i")}function Mh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function fje(e,t,r){var n=Wn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function hje(e,t,r){var n=Wn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function mje(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function pje(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function gje(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function UO(e,t,r){var n=Wn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function VO(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yje(e,t,r){var n=Wn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function vje(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function WO(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wje(e,t,r){var n=Wn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function HO(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bje(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function jje(e,t,r){var n=Wn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Sje(e,t,r){var n=Wn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Nje(e,t,r){var n=Wn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _je(e,t,r){var n=cje.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Eje(e,t,r){var n=Wn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Tje(e,t,r){var n=Wn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function zO(e,t){return fr(e.getDate(),t,2)}function Aje(e,t){return fr(e.getHours(),t,2)}function Cje(e,t){return fr(e.getHours()%12||12,t,2)}function Dje(e,t){return fr(1+x0.count(Wo(e),e),t,3)}function uB(e,t){return fr(e.getMilliseconds(),t,3)}function kje(e,t){return uB(e,t)+"000"}function Oje(e,t){return fr(e.getMonth()+1,t,2)}function Pje(e,t){return fr(e.getMinutes(),t,2)}function Ije(e,t){return fr(e.getSeconds(),t,2)}function Rje(e){var t=e.getDay();return t===0?7:t}function Mje(e,t){return fr(p1.count(Wo(e)-1,e),t,2)}function dB(e){var t=e.getDay();return t>=4||t===0?Sf(e):Sf.ceil(e)}function Fje(e,t){return e=dB(e),fr(Sf.count(Wo(e),e)+(Wo(e).getDay()===4),t,2)}function Lje(e){return e.getDay()}function $je(e,t){return fr(hy.count(Wo(e)-1,e),t,2)}function Bje(e,t){return fr(e.getFullYear()%100,t,2)}function Uje(e,t){return e=dB(e),fr(e.getFullYear()%100,t,2)}function Vje(e,t){return fr(e.getFullYear()%1e4,t,4)}function Wje(e,t){var r=e.getDay();return e=r>=4||r===0?Sf(e):Sf.ceil(e),fr(e.getFullYear()%1e4,t,4)}function Hje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fr(t/60|0,"0",2)+fr(t%60,"0",2)}function qO(e,t){return fr(e.getUTCDate(),t,2)}function zje(e,t){return fr(e.getUTCHours(),t,2)}function qje(e,t){return fr(e.getUTCHours()%12||12,t,2)}function Gje(e,t){return fr(1+m1.count(Ho(e),e),t,3)}function fB(e,t){return fr(e.getUTCMilliseconds(),t,3)}function Kje(e,t){return fB(e,t)+"000"}function Yje(e,t){return fr(e.getUTCMonth()+1,t,2)}function Xje(e,t){return fr(e.getUTCMinutes(),t,2)}function Qje(e,t){return fr(e.getUTCSeconds(),t,2)}function Jje(e){var t=e.getUTCDay();return t===0?7:t}function Zje(e,t){return fr(g1.count(Ho(e)-1,e),t,2)}function hB(e){var t=e.getUTCDay();return t>=4||t===0?Nf(e):Nf.ceil(e)}function eSe(e,t){return e=hB(e),fr(Nf.count(Ho(e),e)+(Ho(e).getUTCDay()===4),t,2)}function tSe(e){return e.getUTCDay()}function rSe(e,t){return fr(my.count(Ho(e)-1,e),t,2)}function nSe(e,t){return fr(e.getUTCFullYear()%100,t,2)}function aSe(e,t){return e=hB(e),fr(e.getUTCFullYear()%100,t,2)}function sSe(e,t){return fr(e.getUTCFullYear()%1e4,t,4)}function iSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Nf(e):Nf.ceil(e),fr(e.getUTCFullYear()%1e4,t,4)}function oSe(){return"+0000"}function GO(){return"%"}function KO(e){return+e}function YO(e){return Math.floor(+e/1e3)}var Ju,mB,pB;lSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lSe(e){return Ju=lje(e),mB=Ju.format,Ju.parse,pB=Ju.utcFormat,Ju.utcParse,Ju}function cSe(e){return new Date(e)}function uSe(e){return e instanceof Date?+e:+new Date(+e)}function zE(e,t,r,n,a,i,o,l,c,u){var d=kE(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),v=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:i(S)<S?y:n(S)<S?a(S)<S?b:x:r(S)<S?w:v)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,uSe)):h().map(cSe)},d.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},d.tickFormat=function(S,_){return _==null?j:u(_)},d.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(tB(_,S)):d},d.copy=function(){return g0(d,zE(e,t,r,n,a,i,o,l,c,u))},d}function dSe(){return Hs.apply(zE(ije,oje,Wo,WE,p1,x0,UE,$E,Rc,mB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fSe(){return Hs.apply(zE(aje,sje,Ho,HE,g1,m1,VE,BE,Rc,pB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function x1(){var e=0,t=1,r,n,a,i,o=Aa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(dh),u.rangeRound=d(DE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function pc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gB(){var e=mc(x1()(Aa));return e.copy=function(){return pc(e,gB())},Yo.apply(e,arguments)}function xB(){var e=IE(x1()).domain([1,10]);return e.copy=function(){return pc(e,xB()).base(e.base())},Yo.apply(e,arguments)}function yB(){var e=RE(x1());return e.copy=function(){return pc(e,yB()).constant(e.constant())},Yo.apply(e,arguments)}function qE(){var e=ME(x1());return e.copy=function(){return pc(e,qE()).exponent(e.exponent())},Yo.apply(e,arguments)}function hSe(){return qE.apply(null,arguments).exponent(.5)}function vB(){var e=[],t=Aa;function r(n){if(n!=null&&!isNaN(n=+n))return t((m0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Zwe(e,i/n))},r.copy=function(){return vB(t).domain(e)},Yo.apply(r,arguments)}function y1(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Aa,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(y){var b,x,w;return arguments.length?([b,x,w]=y,u=_be(p,[b,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(dh),m.rangeRound=g(DE),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function wB(){var e=mc(y1()(Aa));return e.copy=function(){return pc(e,wB())},Yo.apply(e,arguments)}function bB(){var e=IE(y1()).domain([.1,1,10]);return e.copy=function(){return pc(e,bB()).base(e.base())},Yo.apply(e,arguments)}function jB(){var e=RE(y1());return e.copy=function(){return pc(e,jB()).constant(e.constant())},Yo.apply(e,arguments)}function GE(){var e=ME(y1());return e.copy=function(){return pc(e,GE()).exponent(e.exponent())},Yo.apply(e,arguments)}function mSe(){return GE.apply(null,arguments).exponent(.5)}const XO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ap,scaleDiverging:wB,scaleDivergingLog:bB,scaleDivergingPow:GE,scaleDivergingSqrt:mSe,scaleDivergingSymlog:jB,scaleIdentity:eB,scaleImplicit:IS,scaleLinear:dy,scaleLog:rB,scaleOrdinal:TE,scalePoint:gm,scalePow:FE,scaleQuantile:sB,scaleQuantize:iB,scaleRadial:aB,scaleSequential:gB,scaleSequentialLog:xB,scaleSequentialPow:qE,scaleSequentialQuantile:vB,scaleSequentialSqrt:hSe,scaleSequentialSymlog:yB,scaleSqrt:Kbe,scaleSymlog:nB,scaleThreshold:oB,scaleTime:dSe,scaleUtc:fSe,tickFormat:Z8},Symbol.toStringTag,{value:"Module"}));var pSe=nh;function gSe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!pSe(o):r(o,l)))var l=o,c=i}return c}var SB=gSe;function xSe(e,t){return e>t}var ySe=xSe,vSe=SB,wSe=ySe,bSe=uh;function jSe(e){return e&&e.length?vSe(e,bSe,wSe):void 0}var SSe=jSe;const v1=Or(SSe);function NSe(e,t){return e<t}var _Se=NSe,ESe=SB,TSe=_Se,ASe=uh;function CSe(e){return e&&e.length?ESe(e,ASe,TSe):void 0}var DSe=CSe;const w1=Or(DSe);var kSe=oE,OSe=hc,PSe=k8,ISe=Ya;function RSe(e,t){var r=ISe(e)?kSe:PSe;return r(e,OSe(t))}var MSe=RSe,FSe=C8,LSe=MSe;function $Se(e,t){return FSe(LSe(e,t),1)}var BSe=$Se;const USe=Or(BSe);var VSe=jE;function WSe(e,t){return VSe(e,t)}var HSe=WSe;const KE=Or(HSe);var fh=1e9,zSe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XE,zr=!0,Bs="[DecimalError] ",Xc=Bs+"Invalid argument: ",YE=Bs+"Exponent out of range: ",hh=Math.floor,Ec=Math.pow,qSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,os,kn=1e7,Ur=7,NB=9007199254740991,py=hh(NB/Ur),xt={};xt.absoluteValue=xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xt.comparedTo=xt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ur;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xt.dividedBy=xt.div=function(e){return ko(this,new this.constructor(e))};xt.dividedToIntegerBy=xt.idiv=function(e){var t=this,r=t.constructor;return Ir(ko(t,new r(e),0,1),r.precision)};xt.equals=xt.eq=function(e){return!this.cmp(e)};xt.exponent=function(){return gn(this)};xt.greaterThan=xt.gt=function(e){return this.cmp(e)>0};xt.greaterThanOrEqualTo=xt.gte=function(e){return this.cmp(e)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(e){return this.cmp(e)<0};xt.lessThanOrEqualTo=xt.lte=function(e){return this.cmp(e)<1};xt.logarithm=xt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(os))throw Error(Bs+"NaN");if(r.s<1)throw Error(Bs+(r.s?"NaN":"-Infinity"));return r.eq(os)?new n(0):(zr=!1,t=ko(cp(r,i),cp(e,i),i),zr=!0,Ir(t,a))};xt.minus=xt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TB(t,e):_B(t,(e.s=-e.s,e))};xt.modulo=xt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Bs+"NaN");return r.s?(zr=!1,t=ko(r,e,0,1).times(e),zr=!0,r.minus(t)):Ir(new n(r),a)};xt.naturalExponential=xt.exp=function(){return EB(this)};xt.naturalLogarithm=xt.ln=function(){return cp(this)};xt.negated=xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xt.plus=xt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_B(t,e):TB(t,(e.s=-e.s,e))};xt.precision=xt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xc+e);if(t=gn(a)+1,n=a.d.length-1,r=n*Ur+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xt.squareRoot=xt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Bs+"NaN")}for(e=gn(l),zr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Bi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=hh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ko(l,i,o+2)).times(.5),Bi(i.d).slice(0,o)===(t=Bi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ir(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return zr=!0,Ir(n,r)};xt.times=xt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%kn|0,t=l/kn|0;i[a]=(i[a]+t)%kn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,zr?Ir(e,f.precision):e};xt.toDecimalPlaces=xt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ji(e,0,fh),t===void 0?t=n.rounding:Ji(t,0,8),Ir(r,e+gn(r)+1,t))};xt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=xu(n,!0):(Ji(e,0,fh),t===void 0?t=a.rounding:Ji(t,0,8),n=Ir(new a(n),e+1,t),r=xu(n,!0,e+1)),r};xt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?xu(a):(Ji(e,0,fh),t===void 0?t=i.rounding:Ji(t,0,8),n=Ir(new i(a),e+gn(a)+1,t),r=xu(n.abs(),!1,e+gn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xt.toInteger=xt.toint=function(){var e=this,t=e.constructor;return Ir(new t(e),gn(e)+1,t.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(os);if(l=new c(l),!l.s){if(e.s<1)throw Error(Bs+"Infinity");return l}if(l.eq(os))return l;if(n=c.precision,e.eq(os))return Ir(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=NB){for(a=new c(os),t=Math.ceil(n/Ur+4),zr=!1;r%2&&(a=a.times(l),JO(a.d,t)),r=hh(r/2),r!==0;)l=l.times(l),JO(l.d,t);return zr=!0,e.s<0?new c(os).div(a):Ir(a,n)}}else if(i<0)throw Error(Bs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,zr=!1,a=e.times(cp(l,n+u)),zr=!0,a=EB(a),a.s=i,a};xt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=gn(a),n=xu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ji(e,1,fh),t===void 0?t=i.rounding:Ji(t,0,8),a=Ir(new i(a),e,t),r=gn(a),n=xu(a,e<=r||r<=i.toExpNeg,e)),n};xt.toSignificantDigits=xt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ji(e,1,fh),t===void 0?t=n.rounding:Ji(t,0,8)),Ir(new n(r),e,t)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),r=e.constructor;return xu(e,t<=r.toExpNeg||t>=r.toExpPos)};function _B(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),zr?Ir(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Ur),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/kn|0,c[i]%=kn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,zr?Ir(t,f):t}function Ji(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xc+e)}function Bi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ur-n.length,r&&(i+=ll(r)),i+=n;o=e[t],n=o+"",r=Ur-n.length,r&&(i+=ll(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ko=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%kn|0,o=i/kn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*kn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,g,p,y,b,x,w,v,j,S,_,E,T=n.constructor,D=n.s==a.s?1:-1,O=n.d,A=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Bs+"Division by zero");for(c=n.e-a.e,_=A.length,j=O.length,m=new T(D),g=m.d=[],u=0;A[u]==(O[u]||0);)++u;if(A[u]>(O[u]||0)&&--c,i==null?x=i=T.precision:o?x=i+(gn(n)-gn(a))+1:x=i,x<0)return new T(0);if(x=x/Ur+2|0,u=0,_==1)for(d=0,A=A[0],x++;(u<j||d)&&x--;u++)w=d*kn+(O[u]||0),g[u]=w/A|0,d=w%A|0;else{for(d=kn/(A[0]+1)|0,d>1&&(A=e(A,d),O=e(O,d),_=A.length,j=O.length),v=_,p=O.slice(0,_),y=p.length;y<_;)p[y++]=0;E=A.slice(),E.unshift(0),S=A[0],A[1]>=kn/2&&++S;do d=0,l=t(A,p,_,y),l<0?(b=p[0],_!=y&&(b=b*kn+(p[1]||0)),d=b/S|0,d>1?(d>=kn&&(d=kn-1),f=e(A,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,r(f,_<h?E:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<y&&f.unshift(0),r(p,f,y),l==-1&&(y=p.length,l=t(A,p,_,y),l<1&&(d++,r(p,_<y?E:A,y))),y=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[y++]=O[v]||0:(p=[O[v]],y=1);while((v++<j||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,Ir(m,o?i+gn(m)+1:i)}}();function EB(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(gn(e)>16)throw Error(YE+gn(e));if(!e.s)return new d(os);for(zr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ec(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(os),d.precision=l;;){if(a=Ir(a.times(e),l),r=r.times(++c),o=i.plus(ko(a,r,l)),Bi(o.d).slice(0,l)===Bi(i.d).slice(0,l)){for(;u--;)i=Ir(i.times(i),l);return d.precision=f,t==null?(zr=!0,Ir(i,f)):i}i=o}}function gn(e){for(var t=e.e*Ur,r=e.d[0];r>=10;r/=10)t++;return t}function cb(e,t,r){if(t>e.LN10.sd())throw zr=!0,r&&(e.precision=r),Error(Bs+"LN10 precision limit exceeded");return Ir(new e(e.LN10),t)}function ll(e){for(var t="";e--;)t+="0";return t}function cp(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,y=p.precision;if(m.s<1)throw Error(Bs+(m.s?"NaN":"-Infinity"));if(m.eq(os))return new p(0);if(t==null?(zr=!1,u=y):u=t,m.eq(10))return t==null&&(zr=!0),cb(p,u);if(u+=h,p.precision=u,r=Bi(g),n=r.charAt(0),i=gn(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Bi(m.d),n=r.charAt(0),f++;i=gn(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=cb(p,u+2,y).times(i+""),m=cp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=y,t==null?(zr=!0,Ir(m,y)):m;for(l=o=m=ko(m.minus(os),m.plus(os),u),d=Ir(m.times(m),u),a=3;;){if(o=Ir(o.times(d),u),c=l.plus(ko(o,new p(a),u)),Bi(c.d).slice(0,u)===Bi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(cb(p,u+2,y).times(i+""))),l=ko(l,new p(f),u),p.precision=y,t==null?(zr=!0,Ir(l,y)):l;l=c,a+=2}}function QO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=hh(r/Ur),e.d=[],n=(r+1)%Ur,r<0&&(n+=Ur),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ur;n<a;)e.d.push(+t.slice(n,n+=Ur));t=t.slice(n),n=Ur-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),zr&&(e.e>py||e.e<-py))throw Error(YE+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ir(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ur,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ur),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ur,a=n-Ur+o}if(r!==void 0&&(i=Ec(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ec(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=gn(e),f.length=1,t=t-i-1,f[0]=Ec(10,(Ur-t%Ur)%Ur),e.e=hh(-t/Ur)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ec(10,Ur-n),f[d]=a>0?(u/Ec(10,o-a)%Ec(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==kn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=kn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(zr&&(e.e>py||e.e<-py))throw Error(YE+gn(e));return e}function TB(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),zr?Ir(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Ur),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=kn-1;--c[i],c[a]+=kn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,zr?Ir(t,m):t):new h(0)}function xu(e,t,r){var n,a=gn(e),i=Bi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ll(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ll(-a-1)+i,r&&(n=r-o)>0&&(i+=ll(n))):a>=o?(i+=ll(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ll(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ll(n))),e.s<0?"-"+i:i}function JO(e,t){if(e.length>t)return e.length=t,!0}function AB(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Xc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return QO(o,i.toString())}else if(typeof i!="string")throw Error(Xc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,qSe.test(i))QO(o,i);else throw Error(Xc+i)}if(a.prototype=xt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=AB,a.config=a.set=GSe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function GSe(e){if(!e||typeof e!="object")throw Error(Bs+"Object expected");var t,r,n,a=["precision",1,fh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(hh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Xc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xc+r+": "+n);return this}var XE=AB(zSe);os=new XE(1);const kr=XE;function KSe(e){return JSe(e)||QSe(e)||XSe(e)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSe(e,t){if(e){if(typeof e=="string")return LS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LS(e,t)}}function QSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function JSe(e){if(Array.isArray(e))return LS(e)}function LS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ZSe=function(t){return t},CB={},DB=function(t){return t===CB},ZO=function(t){return function r(){return arguments.length===0||arguments.length===1&&DB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},eNe=function e(t,r){return t===1?r:ZO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==CB}).length;return o>=t?r.apply(void 0,a):e(t-o,ZO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return DB(f)?c.shift():f});return r.apply(void 0,KSe(d).concat(c))}))})},b1=function(t){return eNe(t.length,t)},$S=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},tNe=b1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),rNe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ZSe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},BS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},kB=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function nNe(e){var t;return e===0?t=1:t=Math.floor(new kr(e).abs().log(10).toNumber())+1,t}function aNe(e,t,r){for(var n=new kr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var sNe=b1(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),iNe=b1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),oNe=b1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const j1={rangeStep:aNe,getDigitCount:nNe,interpolateNumber:sNe,uninterpolateNumber:iNe,uninterpolateTruncation:oNe};function US(e){return uNe(e)||cNe(e)||OB(e)||lNe()}function lNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uNe(e){if(Array.isArray(e))return VS(e)}function up(e,t){return hNe(e)||fNe(e,t)||OB(e,t)||dNe()}function dNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OB(e,t){if(e){if(typeof e=="string")return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}}function VS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fNe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function hNe(e){if(Array.isArray(e))return e}function PB(e){var t=up(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function IB(e,t,r){if(e.lte(0))return new kr(0);var n=j1.getDigitCount(e.toNumber()),a=new kr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new kr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new kr(Math.ceil(c))}function mNe(e,t,r){var n=1,a=new kr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new kr(10).pow(j1.getDigitCount(e)-1),a=new kr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new kr(Math.floor(e)))}else e===0?a=new kr(Math.floor((t-1)/2)):r||(a=new kr(Math.floor(e)));var o=Math.floor((t-1)/2),l=rNe(tNe(function(c){return a.add(new kr(c-o).mul(n)).toNumber()}),$S);return l(0,t)}function RB(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new kr(0),tickMin:new kr(0),tickMax:new kr(0)};var i=IB(new kr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new kr(0):(o=new kr(e).add(t).div(2),o=o.sub(new kr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new kr(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?RB(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new kr(l).mul(i)),tickMax:o.add(new kr(c).mul(i))})}function pNe(e){var t=up(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=PB([r,n]),c=up(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(US($S(0,a-1).map(function(){return 1/0}))):[].concat(US($S(0,a-1).map(function(){return-1/0})),[d]);return r>n?BS(f):f}if(u===d)return mNe(u,a,i);var h=RB(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,y=j1.rangeStep(g,p.add(new kr(.1).mul(m)),m);return r>n?BS(y):y}function gNe(e,t){var r=up(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=PB([n,a]),l=up(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=IB(new kr(u).sub(c).div(d-1),i,0),h=[].concat(US(j1.rangeStep(new kr(c),new kr(u).sub(new kr(.99).mul(f)),f)),[u]);return n>a?BS(h):h}var xNe=kB(pNe),yNe=kB(gNe),vNe="Invariant failed";function yu(e,t){throw new Error(vNe)}var wNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function bNe(e,t){return _Ne(e)||NNe(e,t)||SNe(e,t)||jNe()}function jNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SNe(e,t){if(e){if(typeof e=="string")return eP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,t)}}function eP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Ne(e){if(Array.isArray(e))return e}function ENe(e,t){if(e==null)return{};var r=TNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ANe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function DNe(e,t,r){return t&&CNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kNe(e,t,r){return t=xy(t),ONe(e,MB()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function ONe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PNe(e)}function PNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MB=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function INe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WS(e,t)}function WS(e,t){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WS(e,t)}function FB(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=RNe(e,"string");return _f(t)=="symbol"?t:t+""}function RNe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S1=function(e){function t(){return ANe(this,t),kNe(this,t,arguments)}return INe(t,e),DNe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=ENe(n,wNe),m=mr(h,!1);this.props.direction==="x"&&d.type!=="number"&&yu();var g=c.map(function(p){var y=u(p,l),b=y.x,x=y.y,w=y.value,v=y.errorVal;if(!v)return null;var j=[],S,_;if(Array.isArray(v)){var E=bNe(v,2);S=E[0],_=E[1]}else S=_=v;if(i==="vertical"){var T=d.scale,D=x+a,O=D+o,A=D-o,M=T(w-S),U=T(w+_);j.push({x1:U,y1:O,x2:U,y2:A}),j.push({x1:M,y1:D,x2:U,y2:D}),j.push({x1:M,y1:O,x2:M,y2:A})}else if(i==="horizontal"){var B=f.scale,I=b+a,P=I-o,C=I+o,F=B(w-S),R=B(w+_);j.push({x1:P,y1:R,x2:C,y2:R}),j.push({x1:I,y1:F,x2:I,y2:R}),j.push({x1:P,y1:F,x2:C,y2:F})}return de.createElement(In,gy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},m),j.map(function(se){return de.createElement("line",gy({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return de.createElement(In,{className:"recharts-errorBars"},g)}}])}(de.Component);FB(S1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FB(S1,"displayName","ErrorBar");function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){MNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MNe(e,t,r){return t=FNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FNe(e){var t=LNe(e,"string");return dp(t)=="symbol"?t:t+""}function LNe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $B=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=es(r,Pd);if(!o)return null;var l=Pd.defaultProps,c=l!==void 0?wc(wc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?wc(wc({},h),f.props):{},g=m.dataKey,p=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||y||"square",color:QE(f),value:p||g,payload:m}}),wc(wc(wc({},c),Pd.getWithHeight(o,a)),{},{payload:u,item:o})};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function rP(e){return VNe(e)||UNe(e)||BNe(e)||$Ne()}function $Ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BNe(e,t){if(e){if(typeof e=="string")return HS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HS(e,t)}}function UNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VNe(e){if(Array.isArray(e))return HS(e)}function HS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){Rd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rd(e,t,r){return t=WNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WNe(e){var t=HNe(e,"string");return fp(t)=="symbol"?t:t+""}function HNe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zi(e,t,r){return pr(e)||pr(t)?r:An(t)?Fs(e,t,r):Qt(t)?t(e):r}function xm(e,t,r,n){var a=USe(e,function(l){return Zi(l,t)});if(r==="number"){var i=a.filter(function(l){return Ze(l)||parseFloat(l)});return i.length?[w1(i),v1(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!pr(l)}):a;return o.map(function(l){return An(l)||l instanceof Date?l:""})}var zNe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(di(f-d)!==di(h-f)){var g=[];if(di(h-f)===di(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var v=0;v<l;v++)if(v===0&&t<=(n[v].coordinate+n[v+1].coordinate)/2||v>0&&v<l-1&&t>(n[v].coordinate+n[v-1].coordinate)/2&&t<=(n[v].coordinate+n[v+1].coordinate)/2||v===l-1&&t>(n[v].coordinate+n[v-1].coordinate)/2){o=n[v].index;break}return o},QE=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Zr(Zr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},qNe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,y=g.cateAxisId,b=p.filter(function(_){return Co(_.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?Zr(Zr({},x),b[0].props):b[0].props,v=w.barSize,j=w[y];o[j]||(o[j]=[]);var S=pr(v)?r:v;o[j].push({item:b[0],stackList:b.slice(1),barSize:pr(S)?void 0:gu(S,n,0)})}}return o},GNe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=gu(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(v,j){return v+j.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,y={offset:p-u,size:0};d=o.reduce(function(v,j){var S={item:j.item,position:{offset:y.offset+y.size+u,size:h?m:j.barSize}},_=[].concat(rP(v),[S]);return y=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){_.push({item:E,position:y})}),_},f)}else{var b=gu(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=o.reduce(function(v,j,S){var _=[].concat(rP(v),[{item:j.item,position:{offset:b+(x+u)*S+(x-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},f)}return d},KNe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=$B({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Ze(t[m]))return Zr(Zr({},t),{},Rd({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Ze(t[g]))return Zr(Zr({},t),{},Rd({},g,t[g]+(h||0)))}return t},YNe=function(t,r,n){return pr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},BB=function(t,r,n,a,i){var o=r.props.children,l=pi(o,S1).filter(function(u){return YNe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Zi(d,n);if(pr(f))return u;var h=Array.isArray(f)?[w1(f),v1(f)]:[f,f],m=c.reduce(function(g,p){var y=Zi(d,p,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},XNe=function(t,r,n,a,i){var o=r.map(function(l){return BB(t,l,n,i,a)}).filter(function(l){return!pr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},UB=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&BB(t,c,u,a)||xm(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},VB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},WB=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},jo=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?di(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!d0(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},ub=new WeakMap,ug=function(t,r){if(typeof r!="function")return t;ub.has(t)||ub.set(t,new WeakMap);var n=ub.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},QNe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ap(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:dy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gm(),realScaleType:"point"}:i==="category"?{scale:ap(),realScaleType:"band"}:{scale:dy(),realScaleType:"linear"};if(pu(a)){var c="scale".concat(i1(a));return{scale:(XO[c]||gm)(),realScaleType:XO[c]?c:"point"}}return Qt(a)?{scale:a}:{scale:gm(),realScaleType:"point"}},aP=1e-4,JNe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-aP,o=Math.max(a[0],a[1])+aP,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},ZNe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},e_e=function(t,r){if(!r||r.length!==2||!Ze(r[0])||!Ze(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ze(t[0])||t[0]<n)&&(i[0]=n),(!Ze(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},t_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=d0(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},r_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=d0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},n_e={sign:t_e,expand:xhe,none:xf,silhouette:yhe,wiggle:vhe,positive:r_e},a_e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=n_e[n],o=ghe().keys(a).value(function(l,c){return+Zi(l,c,0)}).order(pS).offset(i);return o(t)},s_e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Zr(Zr({},h.type.defaultProps),h.props):h.props,p=g.stackId,y=g.hide;if(y)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(An(p)){var w=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[p]=w}else x.stackGroups[s1("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Zr(Zr({},f),{},Rd({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,y){var b=m.stackGroups[y];return Zr(Zr({},p),{},Rd({},y,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:a_e(t,b.items,i)}))},g)}return Zr(Zr({},f),{},Rd({},h,m))},d)},i_e=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=xNe(u,i,l);return t.domain([w1(d),v1(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=yNe(f,i,l);return{niceTicks:h}}return null},sP=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Zi(o,r.dataKey,r.domain[l]);return pr(c)?null:r.scale(c)-i/2+a},o_e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},l_e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Zr(Zr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(An(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},c_e=function(t){return t.reduce(function(r,n){return[w1(n.concat([r[0]]).filter(Ze)),v1(n.concat([r[1]]).filter(Ze))]},[1/0,-1/0])},HB=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=c_e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},iP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zS=function(t,r,n){if(Qt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ze(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(iP.test(t[0])){var i=+iP.exec(t[0])[1];a[0]=r[0]-i}else Qt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ze(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(oP.test(t[1])){var o=+oP.exec(t[1])[1];a[1]=r[1]+o}else Qt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},yy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=NE(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},lP=function(t,r,n){return!t||!t.length||KE(t,Fs(n,"type.defaultProps.domain"))?r:t},zB=function(t,r){var n=t.type.defaultProps?Zr(Zr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Zr(Zr({},mr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:QE(t),value:Zi(r,a),type:c,payload:r,chartType:u,hide:d})};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){u_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u_e(e,t,r){return t=d_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_e(e){var t=f_e(e,"string");return hp(t)=="symbol"?t:t+""}function f_e(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vy=Math.PI/180,h_e=function(t){return t*180/Math.PI},ta=function(t,r,n,a){return{x:t+Math.cos(-vy*a)*n,y:r+Math.sin(-vy*a)*n}},m_e=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},p_e=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=m_e({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:h_e(u),angleInRadian:u}},g_e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},x_e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},dP=function(t,r){var n=t.x,a=t.y,i=p_e({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=g_e(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?uP(uP({},r),{},{radius:o,angle:x_e(m,r)}):null};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}var y_e=["offset"];function v_e(e){return S_e(e)||j_e(e)||b_e(e)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b_e(e,t){if(e){if(typeof e=="string")return qS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(e,t)}}function j_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S_e(e){if(Array.isArray(e))return qS(e)}function qS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N_e(e,t){if(e==null)return{};var r=__e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function __e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){E_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_e(e,t,r){return t=T_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T_e(e){var t=A_e(e,"string");return mp(t)=="symbol"?t:t+""}function A_e(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}var C_e=function(t){var r=t.value,n=t.formatter,a=pr(t.children)?r:t.children;return Qt(n)?n(a):a},D_e=function(t,r){var n=di(r-t),a=Math.min(Math.abs(r-t),360);return n*a},k_e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,y=(f+h)/2,b=D_e(m,g),x=b>=0?1:-1,w,v;a==="insideStart"?(w=m+x*o,v=p):a==="insideEnd"?(w=g-x*o,v=!p):a==="end"&&(w=g+x*o,v=p),v=b<=0?v:!v;var j=ta(u,d,y,w),S=ta(u,d,y,w+(v?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(v?0:1,`,
    `).concat(S.x,",").concat(S.y),E=pr(t.id)?s1("recharts-radial-line-"):t.id;return de.createElement("text",pp({},n,{dominantBaseline:"central",className:or("recharts-radial-bar-label",l)}),de.createElement("defs",null,de.createElement("path",{id:E,d:_})),de.createElement("textPath",{xlinkHref:"#".concat(E)},r))},O_e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=ta(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=ta(o,l,y,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},P_e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,y=p*a,b=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return bn(bn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var v={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return bn(bn({},v),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return bn(bn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return bn(bn({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?bn({x:l+y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},_):i==="insideRight"?bn({x:l+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideTop"?bn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},_):i==="insideBottom"?bn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?bn({x:l+y,y:c+h,textAnchor:x,verticalAnchor:g},_):i==="insideTopRight"?bn({x:l+u-y,y:c+h,textAnchor:b,verticalAnchor:g},_):i==="insideBottomLeft"?bn({x:l+y,y:c+d-h,textAnchor:x,verticalAnchor:m},_):i==="insideBottomRight"?bn({x:l+u-y,y:c+d-h,textAnchor:b,verticalAnchor:m},_):ah(i)&&(Ze(i.x)||Pc(i.x))&&(Ze(i.y)||Pc(i.y))?bn({x:l+gu(i.x,u),y:c+gu(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):bn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},I_e=function(t){return"cx"in t&&Ze(t.cx)};function ha(e){var t=e.offset,r=t===void 0?5:t,n=N_e(e,y_e),a=bn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||pr(l)&&pr(c)&&!N.isValidElement(u)&&!Qt(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var m;if(Qt(u)){if(m=N.createElement(u,a),N.isValidElement(m))return m}else m=C_e(a);var g=I_e(i),p=mr(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return k_e(a,m,p);var y=g?O_e(a):P_e(a);return de.createElement(ay,pp({className:or("recharts-label",f)},p,y,{breakAll:h}),m)}ha.displayName="Label";var qB=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,y=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(Ze(p)&&Ze(y)){if(Ze(f)&&Ze(h))return{x:f,y:h,width:p,height:y};if(Ze(m)&&Ze(g))return{x:m,y:g,width:p,height:y}}return Ze(f)&&Ze(h)?{x:f,y:h,width:0,height:0}:Ze(r)&&Ze(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},R_e=function(t,r){return t?t===!0?de.createElement(ha,{key:"label-implicit",viewBox:r}):An(t)?de.createElement(ha,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===ha?N.cloneElement(t,{key:"label-implicit",viewBox:r}):de.createElement(ha,{key:"label-implicit",content:t,viewBox:r}):Qt(t)?de.createElement(ha,{key:"label-implicit",content:t,viewBox:r}):ah(t)?de.createElement(ha,pp({viewBox:r},t,{key:"label-implicit"})):null:null},M_e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=qB(t),o=pi(a,ha).map(function(c,u){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=R_e(t.label,r||i);return[l].concat(v_e(o))};ha.parseViewBox=qB;ha.renderCallByParent=M_e;function F_e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var L_e=F_e;const $_e=Or(L_e);function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}var B_e=["valueAccessor"],U_e=["data","dataKey","clockWise","id","textBreakAll"];function V_e(e){return q_e(e)||z_e(e)||H_e(e)||W_e()}function W_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H_e(e,t){if(e){if(typeof e=="string")return GS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GS(e,t)}}function z_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q_e(e){if(Array.isArray(e))return GS(e)}function GS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){G_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_e(e,t,r){return t=K_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_e(e){var t=Y_e(e,"string");return gp(t)=="symbol"?t:t+""}function Y_e(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pP(e,t){if(e==null)return{};var r=X_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Q_e=function(t){return Array.isArray(t.value)?$_e(t.value):t.value};function Qc(e){var t=e.valueAccessor,r=t===void 0?Q_e:t,n=pP(e,B_e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=pP(n,U_e);return!a||!a.length?null:de.createElement(In,{className:"recharts-label-list"},a.map(function(d,f){var h=pr(i)?r(d,f):Zi(d&&d.payload,i),m=pr(l)?{}:{id:"".concat(l,"-").concat(f)};return de.createElement(ha,wy({},mr(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:ha.parseViewBox(pr(o)?d:mP(mP({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Qc.displayName="LabelList";function J_e(e,t){return e?e===!0?de.createElement(Qc,{key:"labelList-implicit",data:t}):de.isValidElement(e)||Qt(e)?de.createElement(Qc,{key:"labelList-implicit",data:t,content:e}):ah(e)?de.createElement(Qc,wy({data:t},e,{key:"labelList-implicit"})):null:null}function Z_e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=pi(n,Qc).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=J_e(e.label,t);return[i].concat(V_e(a))}Qc.renderCallByParent=Z_e;function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(this,arguments)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){e2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e2e(e,t,r){return t=t2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2e(e){var t=r2e(e,"string");return xp(t)=="symbol"?t:t+""}function r2e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2e=function(t,r){var n=di(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},dg=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/vy,h=u?i:i+o*f,m=ta(r,n,d,h),g=ta(r,n,a,h),p=u?i-o*f:i,y=ta(r,n,d*Math.cos(f*vy),p);return{center:m,circleTangency:g,lineTangency:y,theta:f}},GB=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=n2e(o,l),u=o+c,d=ta(r,n,i,o),f=ta(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=ta(r,n,a,o),g=ta(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},a2e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=di(d-u),h=dg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,y=dg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,x=y.lineTangency,w=y.theta,v=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(v<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GB({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=dg({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,E=S.lineTangency,T=S.theta,D=dg({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=D.circleTangency,A=D.lineTangency,M=D.theta,U=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(U<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},s2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KB=function(t){var r=xP(xP({},s2e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=or("recharts-sector",h),g=o-i,p=gu(l,g,0,!0),y;return p>0&&Math.abs(d-f)<360?y=a2e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=GB({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),de.createElement("path",KS({},mr(r,!0),{className:m,d:y,role:"img"}))};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(this,arguments)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){i2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i2e(e,t,r){return t=o2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o2e(e){var t=l2e(e,"string");return yp(t)=="symbol"?t:t+""}function l2e(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wP={curveBasisClosed:she,curveBasisOpen:ihe,curveBasis:ahe,curveBumpX:Hfe,curveBumpY:zfe,curveLinearClosed:ohe,curveLinear:l1,curveMonotoneX:lhe,curveMonotoneY:che,curveNatural:uhe,curveStep:dhe,curveStepAfter:hhe,curveStepBefore:fhe},fg=function(t){return t.x===+t.x&&t.y===+t.y},Fh=function(t){return t.x},Lh=function(t){return t.y},c2e=function(t,r){if(Qt(t))return t;var n="curve".concat(i1(t));return(n==="curveMonotone"||n==="curveBump")&&r?wP["".concat(n).concat(r==="vertical"?"Y":"X")]:wP[n]||l1},u2e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=c2e(n,l),f=u?i.filter(function(p){return fg(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return fg(p)}):o,g=f.map(function(p,y){return vP(vP({},p),{},{base:m[y]})});return l==="vertical"?h=rg().y(Lh).x1(Fh).x0(function(p){return p.base.x}):h=rg().x(Fh).y1(Lh).y0(function(p){return p.base.y}),h.defined(fg).curve(d),h(g)}return l==="vertical"&&Ze(o)?h=rg().y(Lh).x1(Fh).x0(o):Ze(o)?h=rg().x(Fh).y1(Lh).y0(o):h=K$().x(Fh).y(Lh),h.defined(fg).curve(d),h(f)},bP=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?u2e(t):a;return N.createElement("path",YS({},mr(t,!1),Wx(t),{className:or("recharts-curve",r),d:o,ref:i}))},YB={exports:{}},d2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f2e=d2e,h2e=f2e;function XB(){}function QB(){}QB.resetWarningCache=XB;var m2e=function(){function e(n,a,i,o,l,c){if(c!==h2e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:QB,resetWarningCache:XB};return r.PropTypes=r,r};YB.exports=m2e();var p2e=YB.exports;const xr=Or(p2e);var g2e=Object.getOwnPropertyNames,x2e=Object.getOwnPropertySymbols,y2e=Object.prototype.hasOwnProperty;function jP(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function hg(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function SP(e){return g2e(e).concat(x2e(e))}var v2e=Object.hasOwn||function(e,t){return y2e.call(e,t)};function Pu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var w2e="__v",b2e="__o",j2e="_owner",NP=Object.getOwnPropertyDescriptor,_P=Object.keys;function S2e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function N2e(e,t){return Pu(e.getTime(),t.getTime())}function _2e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function E2e(e,t){return e===t}function EP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var T2e=Pu;function A2e(e,t,r){var n=_P(e),a=n.length;if(_P(t).length!==a)return!1;for(;a-- >0;)if(!JB(e,t,r,n[a]))return!1;return!0}function $h(e,t,r){var n=SP(e),a=n.length;if(SP(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!JB(e,t,r,i)||(o=NP(e,i),l=NP(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function C2e(e,t){return Pu(e.valueOf(),t.valueOf())}function D2e(e,t){return e.source===t.source&&e.flags===t.flags}function TP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function k2e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function O2e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function JB(e,t,r,n){return(n===j2e||n===b2e||n===w2e)&&(e.$$typeof||t.$$typeof)?!0:v2e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var P2e="[object Arguments]",I2e="[object Boolean]",R2e="[object Date]",M2e="[object Error]",F2e="[object Map]",L2e="[object Number]",$2e="[object Object]",B2e="[object RegExp]",U2e="[object Set]",V2e="[object String]",W2e="[object URL]",H2e=Array.isArray,AP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,CP=Object.assign,z2e=Object.prototype.toString.call.bind(Object.prototype.toString);function q2e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,y){if(g===p)return!0;if(g==null||p==null)return!1;var b=typeof g;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(g,p,y):b==="function"?a(g,p,y):!1;var x=g.constructor;if(x!==p.constructor)return!1;if(x===Object)return l(g,p,y);if(H2e(g))return t(g,p,y);if(AP!=null&&AP(g))return f(g,p,y);if(x===Date)return r(g,p,y);if(x===RegExp)return u(g,p,y);if(x===Map)return i(g,p,y);if(x===Set)return d(g,p,y);var w=z2e(g);return w===R2e?r(g,p,y):w===B2e?u(g,p,y):w===F2e?i(g,p,y):w===U2e?d(g,p,y):w===$2e?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,y):w===W2e?h(g,p,y):w===M2e?n(g,p,y):w===P2e?l(g,p,y):w===I2e||w===L2e||w===V2e?c(g,p,y):!1}}function G2e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?$h:S2e,areDatesEqual:N2e,areErrorsEqual:_2e,areFunctionsEqual:E2e,areMapsEqual:n?jP(EP,$h):EP,areNumbersEqual:T2e,areObjectsEqual:n?$h:A2e,arePrimitiveWrappersEqual:C2e,areRegExpsEqual:D2e,areSetsEqual:n?jP(TP,$h):TP,areTypedArraysEqual:n?$h:k2e,areUrlsEqual:O2e};if(r&&(a=CP({},a,r(a))),t){var i=hg(a.areArraysEqual),o=hg(a.areMapsEqual),l=hg(a.areObjectsEqual),c=hg(a.areSetsEqual);a=CP({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function K2e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function Y2e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var X2e=gc();gc({strict:!0});gc({circular:!0});gc({circular:!0,strict:!0});gc({createInternalComparator:function(){return Pu}});gc({strict:!0,createInternalComparator:function(){return Pu}});gc({circular:!0,createInternalComparator:function(){return Pu}});gc({circular:!0,createInternalComparator:function(){return Pu},strict:!0});function gc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=G2e(e),c=q2e(l),u=n?n(c):K2e(c);return Y2e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Q2e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function DP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Q2e(a)};requestAnimationFrame(n)}function XS(e){"@babel/helpers - typeof";return XS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XS(e)}function J2e(e){return rEe(e)||tEe(e)||eEe(e)||Z2e()}function Z2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eEe(e,t){if(e){if(typeof e=="string")return kP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kP(e,t)}}function kP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rEe(e){if(Array.isArray(e))return e}function nEe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=J2e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){DP(a.bind(null,u),c);return}a(c),DP(a.bind(null,u));return}XS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){ZB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZB(e,t,r){return t=aEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aEe(e){var t=sEe(e,"string");return vp(t)==="symbol"?t:String(t)}function sEe(e,t){if(vp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iEe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},oEe=function(t){return t},lEe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ym=function(t,r){return Object.keys(r).reduce(function(n,a){return PP(PP({},n),{},ZB({},a,t(a,r[a])))},{})},IP=function(t,r,n){return t.map(function(a){return"".concat(lEe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function cEe(e,t){return fEe(e)||dEe(e,t)||e9(e,t)||uEe()}function uEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fEe(e){if(Array.isArray(e))return e}function hEe(e){return gEe(e)||pEe(e)||e9(e)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(e,t){if(e){if(typeof e=="string")return QS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QS(e,t)}}function pEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gEe(e){if(Array.isArray(e))return QS(e)}function QS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var by=1e-4,t9=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},r9=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},RP=function(t,r){return function(n){var a=t9(t,r);return r9(a,n)}},xEe=function(t,r){return function(n){var a=t9(t,r),i=[].concat(hEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return r9(i,n)}},MP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=cEe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=RP(a,o),h=RP(i,l),m=xEe(a,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var x=b>1?1:b,w=x,v=0;v<8;++v){var j=f(w)-x,S=m(w);if(Math.abs(j-x)<by||S<by)return h(w);w=g(w-j/S)}return h(w)};return p.isStepper=!1,p},yEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<by&&Math.abs(p)<by?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},vEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MP(a);case"spring":return yEe();default:if(a.split("(")[0]==="cubic-bezier")return MP(a)}return typeof a=="function"?a:null};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function FP(e){return jEe(e)||bEe(e)||n9(e)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jEe(e){if(Array.isArray(e))return ZS(e)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){JS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JS(e,t,r){return t=SEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SEe(e){var t=NEe(e,"string");return wp(t)==="symbol"?t:String(t)}function NEe(e,t){if(wp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ee(e,t){return AEe(e)||TEe(e,t)||n9(e,t)||EEe()}function EEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(e,t){if(e){if(typeof e=="string")return ZS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(e,t)}}function ZS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function AEe(e){if(Array.isArray(e))return e}var jy=function(t,r,n){return t+(r-t)*n},eN=function(t){var r=t.from,n=t.to;return r!==n},CEe=function e(t,r,n){var a=ym(function(i,o){if(eN(o)){var l=t(o.from,o.to,o.velocity),c=_Ee(l,2),u=c[0],d=c[1];return Kn(Kn({},o),{},{from:u,velocity:d})}return o},r);return n<1?ym(function(i,o){return eN(o)?Kn(Kn({},o),{},{velocity:jy(o.velocity,a[i].velocity,n),from:jy(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const DEe=function(e,t,r,n,a){var i=iEe(e,t),o=i.reduce(function(y,b){return Kn(Kn({},y),{},JS({},b,[e[b],t[b]]))},{}),l=i.reduce(function(y,b){return Kn(Kn({},y),{},JS({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return ym(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(eN).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=CEe(r,l,w),a(Kn(Kn(Kn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,w=ym(function(j,S){return jy.apply(void 0,FP(S).concat([r(x)]))},o);if(a(Kn(Kn(Kn({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var v=ym(function(j,S){return jy.apply(void 0,FP(S).concat([r(1)]))},o);a(Kn(Kn(Kn({},e),t),v))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}var kEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function OEe(e,t){if(e==null)return{};var r=PEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PEe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function db(e){return FEe(e)||MEe(e)||REe(e)||IEe()}function IEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(e,t){if(e){if(typeof e=="string")return tN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tN(e,t)}}function MEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FEe(e){if(Array.isArray(e))return tN(e)}function tN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){Xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xh(e,t,r){return t=a9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a9(n.key),n)}}function BEe(e,t,r){return t&&$Ee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a9(e){var t=UEe(e,"string");return Ef(t)==="symbol"?t:String(t)}function UEe(e,t){if(Ef(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rN(e,t)}function rN(e,t){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rN(e,t)}function WEe(e){var t=HEe();return function(){var n=Sy(e),a;if(t){var i=Sy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return nN(this,a)}}function nN(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aN(e)}function aN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}var nc=function(e){VEe(r,e);var t=WEe(r);function r(n,a){var i;LEe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(aN(i)),i.changeStyle=i.changeStyle.bind(aN(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),nN(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},nN(i);i.state={style:c?Xh({},c,u):u}}else i.state={style:{}};return i}return BEe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Xh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(X2e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var y={style:c?Xh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(Ks(Ks({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=DEe(o,l,vEe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,y,b){if(b===0)return p;var x=y.duration,w=y.easing,v=w===void 0?"ease":w,j=y.style,S=y.properties,_=y.onAnimationEnd,E=b>0?o[b-1]:y,T=S||Object.keys(j);if(typeof v=="function"||v==="spring")return[].concat(db(p),[i.runJSAnimation.bind(i,{from:E.style,to:j,duration:x,easing:v}),x]);var D=IP(T,x,v),O=Ks(Ks(Ks({},E.style),j),{},{transition:D});return[].concat(db(p),[O,x,_]).filter(oEe)};return this.manager.start([c].concat(db(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=nEe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Xh({},l,c):c,y=IP(Object.keys(p),o,u);g.start([d,i,Ks(Ks({},p),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=OEe(a,kEe),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,y=p===void 0?{}:p,b=g.className,x=N.cloneElement(m,Ks(Ks({},c),{},{style:Ks(Ks({},y),d),className:b}));return x};return u===1?f(N.Children.only(i)):de.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),r}(N.PureComponent);nc.displayName="Animate";nc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};nc.propTypes={from:xr.oneOfType([xr.object,xr.string]),to:xr.oneOfType([xr.object,xr.string]),attributeName:xr.string,duration:xr.number,begin:xr.number,easing:xr.oneOfType([xr.string,xr.func]),steps:xr.arrayOf(xr.shape({duration:xr.number.isRequired,style:xr.object.isRequired,easing:xr.oneOfType([xr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xr.func]),properties:xr.arrayOf("string"),onAnimationEnd:xr.func})),children:xr.oneOfType([xr.node,xr.func]),isActive:xr.bool,canBegin:xr.bool,onAnimationEnd:xr.func,shouldReAnimate:xr.bool,onAnimationStart:xr.func,onAnimationReStart:xr.func};function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function zEe(e,t){return YEe(e)||KEe(e,t)||GEe(e,t)||qEe()}function qEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GEe(e,t){if(e){if(typeof e=="string")return BP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BP(e,t)}}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YEe(e){if(Array.isArray(e))return e}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){XEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XEe(e,t,r){return t=QEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QEe(e){var t=JEe(e,"string");return bp(t)=="symbol"?t:t+""}function JEe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WP=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},ZEe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},eTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JE=function(t){var r=VP(VP({},eTe),t),n=N.useRef(),a=N.useState(-1),i=zEe(a,2),o=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=or("recharts-rectangle",m);return x?de.createElement(nc,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(v){var j=v.width,S=v.height,_=v.x,E=v.y;return de.createElement(nc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:b,easing:g},de.createElement("path",Ny({},mr(r,!0),{className:w,d:WP(_,E,j,S,h),ref:n})))}):de.createElement("path",Ny({},mr(r,!0),{className:w,d:WP(c,u,d,f,h)}))};function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(this,arguments)}var s9=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=or("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",sN({},mr(t,!1),Wx(t),{className:o,cx:r,cy:n,r:a})):null};function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}var tTe=["x","y","top","left","width","height","className"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(this,arguments)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){nTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nTe(e,t,r){return t=aTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aTe(e){var t=sTe(e,"string");return jp(t)=="symbol"?t:t+""}function sTe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iTe(e,t){if(e==null)return{};var r=oTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lTe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},cTe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=iTe(t,tTe),y=rTe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!Ze(n)||!Ze(i)||!Ze(f)||!Ze(m)||!Ze(l)||!Ze(u)?null:de.createElement("path",iN({},mr(y,!0),{className:or("recharts-cross",g),d:lTe(n,i,f,m,l,u)}))},uTe=y8,dTe=uTe(Object.getPrototypeOf,Object),fTe=dTe,hTe=Go,mTe=fTe,pTe=Ko,gTe="[object Object]",xTe=Function.prototype,yTe=Object.prototype,i9=xTe.toString,vTe=yTe.hasOwnProperty,wTe=i9.call(Object);function bTe(e){if(!pTe(e)||hTe(e)!=gTe)return!1;var t=mTe(e);if(t===null)return!0;var r=vTe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&i9.call(r)==wTe}var jTe=bTe;const STe=Or(jTe);var NTe=Go,_Te=Ko,ETe="[object Boolean]";function TTe(e){return e===!0||e===!1||_Te(e)&&NTe(e)==ETe}var ATe=TTe;const CTe=Or(ATe);function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function DTe(e,t){return ITe(e)||PTe(e,t)||OTe(e,t)||kTe()}function kTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OTe(e,t){if(e){if(typeof e=="string")return zP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ITe(e){if(Array.isArray(e))return e}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){RTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RTe(e,t,r){return t=MTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MTe(e){var t=FTe(e,"string");return Sp(t)=="symbol"?t:t+""}function FTe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KP=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},LTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$Te=function(t){var r=GP(GP({},LTe),t),n=N.useRef(),a=N.useState(-1),i=DTe(a,2),o=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=or("recharts-trapezoid",m);return b?de.createElement(nc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var v=w.upperWidth,j=w.lowerWidth,S=w.height,_=w.x,E=w.y;return de.createElement(nc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},de.createElement("path",_y({},mr(r,!0),{className:x,d:KP(_,E,v,j,S),ref:n})))}):de.createElement("g",null,de.createElement("path",_y({},mr(r,!0),{className:x,d:KP(c,u,d,f,h)})))},BTe=["option","shapeType","propTransformer","activeClassName","isActive"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function UTe(e,t){if(e==null)return{};var r=VTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){WTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WTe(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=zTe(e,"string");return Np(t)=="symbol"?t:t+""}function zTe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qTe(e,t){return Ey(Ey({},t),e)}function GTe(e,t){return e==="symbols"}function XP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return de.createElement(JE,r);case"trapezoid":return de.createElement($Te,r);case"sector":return de.createElement(KB,r);case"symbols":if(GTe(t))return de.createElement(gE,r);break;default:return null}}function KTe(e){return N.isValidElement(e)?e.props:e}function YTe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?qTe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=UTe(e,BTe),u;if(N.isValidElement(t))u=N.cloneElement(t,Ey(Ey({},c),KTe(t)));else if(Qt(t))u=t(c);else if(STe(t)&&!CTe(t)){var d=a(t,c);u=de.createElement(XP,{shapeType:r,elementProps:d})}else{var f=c;u=de.createElement(XP,{shapeType:r,elementProps:f})}return l?de.createElement(In,{className:o},u):u}function N1(e,t){return t!=null&&"trapezoids"in e.props}function _1(e,t){return t!=null&&"sectors"in e.props}function _p(e,t){return t!=null&&"points"in e.props}function XTe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function QTe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function JTe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ZTe(e,t){var r;return N1(e,t)?r=XTe:_1(e,t)?r=QTe:_p(e,t)&&(r=JTe),r}function eAe(e,t){var r;return N1(e,t)?r="trapezoids":_1(e,t)?r="sectors":_p(e,t)&&(r="points"),r}function tAe(e,t){if(N1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _p(e,t)?t.payload:{}}function rAe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=eAe(r,t),i=tAe(r,t),o=n.filter(function(c,u){var d=KE(i,c),f=r.props[a].filter(function(g){var p=ZTe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var nAe=Math.ceil,aAe=Math.max;function sAe(e,t,r,n){for(var a=-1,i=aAe(nAe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var iAe=sAe,oAe=F8,QP=1/0,lAe=17976931348623157e292;function cAe(e){if(!e)return e===0?e:0;if(e=oAe(e),e===QP||e===-QP){var t=e<0?-1:1;return t*lAe}return e===e?e:0}var o9=cAe,uAe=iAe,dAe=f1,fb=o9;function fAe(e){return function(t,r,n){return n&&typeof n!="number"&&dAe(t,r,n)&&(r=n=void 0),t=fb(t),r===void 0?(r=t,t=0):r=fb(r),n=n===void 0?t<r?1:-1:fb(n),uAe(t,r,n,e)}}var hAe=fAe,mAe=hAe,pAe=mAe(),gAe=pAe;const Ty=Or(gAe);function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){l9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9(e,t,r){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xAe(e){var t=yAe(e,"string");return Ep(t)=="symbol"?t:t+""}function yAe(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vAe=["Webkit","Moz","O","ms"],wAe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=vAe.reduce(function(i,o){return ZP(ZP({},i),{},l9({},o+n,r))},{});return a[t]=r,a};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){Qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u9(n.key),n)}}function jAe(e,t,r){return t&&t4(e.prototype,t),r&&t4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SAe(e,t,r){return t=Cy(t),NAe(e,c9()?Reflect.construct(t,r||[],Cy(e).constructor):t.apply(e,r))}function NAe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(e)}function _Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!e})()}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}function EAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oN(e,t)}function oN(e,t){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oN(e,t)}function Qa(e,t,r){return t=u9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9(e){var t=TAe(e,"string");return Tf(t)=="symbol"?t:t+""}function TAe(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AAe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=gm().domain(Ty(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},r4=function(t){return t.changedTouches&&!!t.changedTouches.length},Af=function(e){function t(r){var n;return bAe(this,t),n=SAe(this,t,[r]),Qa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Qa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Qa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Qa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qa(n,"handleSlideDragStart",function(a){var i=r4(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return EAe(t,e),jAe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Zi(i[n],l,n);return Qt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var y=this.getIndex({startX:o+p,endX:l+p});(y.startIndex!==h||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=r4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[o]=u+x;var w=this.getIndex(b),v=w.startIndex,j=w.endIndex,S=function(){var E=y.length-1;return o==="startX"&&(l>c?v%p===0:j%p===0)||l<c&&j===E||o==="endX"&&(l>c?j%p===0:v%p===0)||l>c&&j===E};this.setState(Qa(Qa({},o,u+x),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Qa({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return de.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?de.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),x=hb(hb({},mr(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return de.createElement(In,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return de.createElement(In,{className:"recharts-brush-texts"},de.createElement(ay,Ay({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),de.createElement(ay,Ay({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Ze(l)||!Ze(c)||!Ze(u)||!Ze(d)||u<=0||d<=0)return null;var w=or("recharts-brush",i),v=de.Children.count(o)===1,j=wAe("userSelect","none");return de.createElement(In,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),de.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return de.isValidElement(n)?i=de.cloneElement(n,a):Qt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return hb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?AAe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(N.PureComponent);Qa(Af,"displayName","Brush");Qa(Af,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CAe=SE;function DAe(e,t){var r;return CAe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var kAe=DAe,OAe=u8,PAe=hc,IAe=kAe,RAe=Ya,MAe=f1;function FAe(e,t,r){var n=RAe(e)?OAe:IAe;return r&&MAe(e,t,r)&&(t=void 0),n(e,PAe(t))}var LAe=FAe;const $Ae=Or(LAe);var Gi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},n4=O8;function BAe(e,t,r){t=="__proto__"&&n4?n4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var UAe=BAe,VAe=UAe,WAe=D8,HAe=hc;function zAe(e,t){var r={};return t=HAe(t),WAe(e,function(n,a,i){VAe(r,a,t(n,a,i))}),r}var qAe=zAe;const GAe=Or(qAe);function KAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var YAe=KAe,XAe=SE;function QAe(e,t){var r=!0;return XAe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var JAe=QAe,ZAe=YAe,eCe=JAe,tCe=hc,rCe=Ya,nCe=f1;function aCe(e,t,r){var n=rCe(e)?ZAe:eCe;return r&&nCe(e,t,r)&&(t=void 0),n(e,tCe(t))}var sCe=aCe;const d9=Or(sCe);var iCe=["x","y"];function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(this,arguments)}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){oCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oCe(e,t,r){return t=lCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lCe(e){var t=cCe(e,"string");return Tp(t)=="symbol"?t:t+""}function cCe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uCe(e,t){if(e==null)return{};var r=dCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fCe(e,t){var r=e.x,n=e.y,a=uCe(e,iCe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Bh(Bh(Bh(Bh(Bh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function s4(e){return de.createElement(YTe,lN({shapeType:"rectangle",propTransformer:fCe,activeClassName:"recharts-active-bar"},e))}var hCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ze(n)||Dde(n);return i?t(n,a):(i||yu(),r)}},mCe=["value","background"],f9;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function pCe(e,t){if(e==null)return{};var r=gCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){Cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m9(n.key),n)}}function yCe(e,t,r){return t&&o4(e.prototype,t),r&&o4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vCe(e,t,r){return t=ky(t),wCe(e,h9()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function wCe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bCe(e)}function bCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h9=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function jCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cN(e,t)}function cN(e,t){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cN(e,t)}function Cl(e,t,r){return t=m9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=SCe(e,"string");return Cf(t)=="symbol"?t:t+""}function SCe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iu=function(e){function t(){var r;xCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vCe(this,t,[].concat(a)),Cl(r,"state",{isAnimationFinished:!1}),Cl(r,"id",s1("recharts-bar-")),Cl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Cl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jCe(t,e),yCe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=mr(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=un(un(un({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return de.createElement(In,Dy({className:"recharts-bar-rectangle"},Hx(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),de.createElement(s4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return de.createElement(nc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(y,b){var x=h&&h[b];if(x){var w=Xu(x.x,y.x),v=Xu(x.y,y.y),j=Xu(x.width,y.width),S=Xu(x.height,y.height);return un(un({},y),{},{x:w(g),y:v(g),width:j(g),height:S(g)})}if(o==="horizontal"){var _=Xu(0,y.height),E=_(g);return un(un({},y),{},{y:y.y+y.height-E,height:E})}var T=Xu(0,y.width),D=T(g);return un(un({},y),{},{width:D})});return de.createElement(In,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!KE(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=mr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=pCe(u,mCe);if(!f)return null;var m=un(un(un(un(un({},h),{},{fill:"#eee"},f),c),Hx(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return de.createElement(s4,Dy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=pi(d,S1);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:Zi(y,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return de.createElement(In,g,f.map(function(p){return de.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=or("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,v=x||w,j=pr(p)?this.id:p;return de.createElement(In,{className:b},x||w?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(j)},de.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,de.createElement(In,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,j),(!m||y)&&Qc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);f9=Iu;Cl(Iu,"displayName","Bar");Cl(Iu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!h0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cl(Iu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=ZNe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,y=p!==void 0?un(un({},p),r.props):r.props,b=y.dataKey,x=y.children,w=y.minPointSize,v=g==="horizontal"?o:i,j=u?v.scale.domain():null,S=o_e({numericAxis:v}),_=pi(x,$8),E=f.map(function(T,D){var O,A,M,U,B,I;u?O=e_e(u[d+D],j):(O=Zi(T,b),Array.isArray(O)||(O=[S,O]));var P=hCe(w,f9.defaultProps.minPointSize)(O[1],D);if(g==="horizontal"){var C,F=[o.scale(O[0]),o.scale(O[1])],R=F[0],se=F[1];A=sP({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:T,index:D}),M=(C=se??R)!==null&&C!==void 0?C:void 0,U=m.size;var L=R-se;if(B=Number.isNaN(L)?0:L,I={x:A,y:o.y,width:U,height:o.height},Math.abs(P)>0&&Math.abs(B)<Math.abs(P)){var q=di(B||P)*(Math.abs(P)-Math.abs(B));M-=q,B+=q}}else{var H=[i.scale(O[0]),i.scale(O[1])],K=H[0],ce=H[1];if(A=K,M=sP({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:T,index:D}),U=ce-K,B=m.size,I={x:i.x,y:M,width:i.width,height:B},Math.abs(P)>0&&Math.abs(U)<Math.abs(P)){var ue=di(U||P)*(Math.abs(P)-Math.abs(U));U+=ue}}return un(un(un({},T),{},{x:A,y:M,width:U,height:B,value:u?O:O[1],payload:T,background:I},_&&_[D]&&_[D].props),{},{tooltipPayload:[zB(r,T)],tooltipPosition:{x:A+U/2,y:M+B/2}})});return un({data:E,layout:g},h)});function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function NCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p9(n.key),n)}}function _Ce(e,t,r){return t&&l4(e.prototype,t),r&&l4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){E1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E1(e,t,r){return t=p9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=ECe(e,"string");return Ap(t)=="symbol"?t:t+""}function ECe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TCe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!es(u,Iu);return d.reduce(function(m,g){var p=r[g],y=p.orientation,b=p.domain,x=p.padding,w=x===void 0?{}:x,v=p.mirror,j=p.reversed,S="".concat(y).concat(v?"Mirror":""),_,E,T,D,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=b[1]-b[0],M=1/0,U=p.categoricalDomain.sort(Pde);if(U.forEach(function(H,K){K>0&&(M=Math.min((H||0)-(U[K-1]||0),M))}),Number.isFinite(M)){var B=M/A,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(_=B*I/2),p.padding==="no-gap"){var P=gu(t.barCategoryGap,B*I),C=B*I/2;_=C-P-(C-P)/I*P}}}a==="xAxis"?E=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:E=p.range,j&&(E=[E[1],E[0]]);var F=QNe(p,i,h),R=F.scale,se=F.realScaleType;R.domain(b).range(E),JNe(R);var L=i_e(R,ti(ti({},p),{},{realScaleType:se}));a==="xAxis"?(O=y==="top"&&!v||y==="bottom"&&v,T=n.left,D=f[S]-O*p.height):a==="yAxis"&&(O=y==="left"&&!v||y==="right"&&v,T=f[S]-O*p.width,D=n.top);var q=ti(ti(ti({},p),L),{},{realScaleType:se,x:T,y:D,scale:R,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return q.bandSize=yy(q,L),!p.hide&&a==="xAxis"?f[S]+=(O?-1:1)*q.height:p.hide||(f[S]+=(O?-1:1)*q.width),ti(ti({},m),{},E1({},g,q))},{})},g9=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},ACe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return g9({x:r,y:n},{x:a,y:i})},x9=function(){function e(t){NCe(this,e),this.scale=t}return _Ce(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();E1(x9,"EPS",1e-4);var ZE=function(t){var r=Object.keys(t).reduce(function(n,a){return ti(ti({},n),{},E1({},a,x9.create(t[a])))},{});return ti(ti({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return GAe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return d9(a,function(i,o){return r[o].isInRange(i)})}})};function CCe(e){return(e%180+180)%180}var DCe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=CCe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},kCe=hc,OCe=f0,PCe=u1;function ICe(e){return function(t,r,n){var a=Object(t);if(!OCe(t)){var i=kCe(r);t=PCe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var RCe=ICe,MCe=o9;function FCe(e){var t=MCe(e),r=t%1;return t===t?r?t-r:t:0}var LCe=FCe,$Ce=N8,BCe=hc,UCe=LCe,VCe=Math.max;function WCe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:UCe(r);return a<0&&(a=VCe(n+a,0)),$Ce(e,BCe(t),a)}var HCe=WCe,zCe=RCe,qCe=HCe,GCe=zCe(qCe),KCe=GCe;const YCe=Or(KCe);var XCe=Mue(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),eT=N.createContext(void 0),tT=N.createContext(void 0),y9=N.createContext(void 0),v9=N.createContext({}),w9=N.createContext(void 0),b9=N.createContext(0),j9=N.createContext(0),u4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=XCe(i);return de.createElement(eT.Provider,{value:n},de.createElement(tT.Provider,{value:a},de.createElement(v9.Provider,{value:i},de.createElement(y9.Provider,{value:d},de.createElement(w9.Provider,{value:o},de.createElement(b9.Provider,{value:u},de.createElement(j9.Provider,{value:c},l)))))))},QCe=function(){return N.useContext(w9)},S9=function(t){var r=N.useContext(eT);r==null&&yu();var n=r[t];return n==null&&yu(),n},JCe=function(){var t=N.useContext(eT);return dl(t)},ZCe=function(){var t=N.useContext(tT),r=YCe(t,function(n){return d9(n.domain,Number.isFinite)});return r||dl(t)},N9=function(t){var r=N.useContext(tT);r==null&&yu();var n=r[t];return n==null&&yu(),n},eDe=function(){var t=N.useContext(y9);return t},tDe=function(){return N.useContext(v9)},rT=function(){return N.useContext(j9)},nT=function(){return N.useContext(b9)};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function rDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E9(n.key),n)}}function aDe(e,t,r){return t&&nDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sDe(e,t,r){return t=Oy(t),iDe(e,_9()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function iDe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oDe(e)}function oDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_9=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function lDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uN(e,t)}function uN(e,t){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uN(e,t)}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){aT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aT(e,t,r){return t=E9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=cDe(e,"string");return Df(t)=="symbol"?t:t+""}function cDe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uDe(e,t){return mDe(e)||hDe(e,t)||fDe(e,t)||dDe()}function dDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fDe(e,t){if(e){if(typeof e=="string")return h4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(e,t)}}function h4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mDe(e){if(Array.isArray(e))return e}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(this,arguments)}var pDe=function(t,r){var n;return de.isValidElement(t)?n=de.cloneElement(t,r):Qt(t)?n=t(r):n=de.createElement("line",dN({},r,{className:"recharts-reference-line-line"})),n},gDe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Gi(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(r){var b=u.x,x=t.x.apply(b,{position:o});if(Gi(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return l==="top"?w.reverse():w}if(a){var v=u.segment,j=v.map(function(S){return t.apply(S,{position:o})});return Gi(u,"discard")&&$Ae(j,function(S){return!t.isInRange(S)})?null:j}return null};function xDe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=QCe(),d=S9(a),f=N9(i),h=eDe();if(!u||!h)return null;Do(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ZE({x:d.scale,y:f.scale}),g=An(t),p=An(r),y=n&&n.length===2,b=gDe(m,g,p,y,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=uDe(b,2),w=x[0],v=w.x,j=w.y,S=x[1],_=S.x,E=S.y,T=Gi(e,"hidden")?"url(#".concat(u,")"):void 0,D=f4(f4({clipPath:T},mr(e,!0)),{},{x1:v,y1:j,x2:_,y2:E});return de.createElement(In,{className:or("recharts-reference-line",l)},pDe(o,D),ha.renderCallByParent(e,ACe({x1:v,y1:j,x2:_,y2:E})))}var sT=function(e){function t(){return rDe(this,t),sDe(this,t,arguments)}return lDe(t,e),aDe(t,[{key:"render",value:function(){return de.createElement(xDe,this.props)}}])}(de.Component);aT(sT,"displayName","ReferenceLine");aT(sT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(this,arguments)}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){T1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A9(n.key),n)}}function wDe(e,t,r){return t&&vDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bDe(e,t,r){return t=Py(t),jDe(e,T9()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function jDe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SDe(e)}function SDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function NDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hN(e,t)}function hN(e,t){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hN(e,t)}function T1(e,t,r){return t=A9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=_De(e,"string");return kf(t)=="symbol"?t:t+""}function _De(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EDe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=ZE({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Gi(t,"discard")&&!o.isInRange(l)?null:l},A1=function(e){function t(){return yDe(this,t),bDe(this,t,arguments)}return NDe(t,e),wDe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=An(a),d=An(i);if(Do(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=EDe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,y=g.className,b=Gi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=p4(p4({clipPath:b},mr(this.props,!0)),{},{cx:h,cy:m});return de.createElement(In,{className:or("recharts-reference-dot",y)},t.renderDot(p,x),ha.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(de.Component);T1(A1,"displayName","ReferenceDot");T1(A1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});T1(A1,"renderDot",function(e,t){var r;return de.isValidElement(e)?r=de.cloneElement(e,t):Qt(e)?r=e(t):r=de.createElement(s9,fN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(this,arguments)}function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){C1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ADe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D9(n.key),n)}}function CDe(e,t,r){return t&&ADe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DDe(e,t,r){return t=Iy(t),kDe(e,C9()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function kDe(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ODe(e)}function ODe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function PDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pN(e,t)}function C1(e,t,r){return t=D9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=IDe(e,"string");return Of(t)=="symbol"?t:t+""}function IDe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RDe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=ZE({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Gi(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:g9(m,g)},D1=function(e){function t(){return TDe(this,t),DDe(this,t,arguments)}return PDe(t,e),CDe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Do(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=An(a),h=An(i),m=An(o),g=An(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var y=RDe(f,h,m,g,this.props);if(!y&&!p)return null;var b=Gi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return de.createElement(In,{className:or("recharts-reference-area",c)},t.renderRect(p,x4(x4({clipPath:b},mr(this.props,!0)),y)),ha.renderCallByParent(this.props,y))}}])}(de.Component);C1(D1,"displayName","ReferenceArea");C1(D1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});C1(D1,"renderRect",function(e,t){var r;return de.isValidElement(e)?r=de.cloneElement(e,t):Qt(e)?r=e(t):r=de.createElement(JE,mN({},t,{className:"recharts-reference-area-rect"})),r});function k9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function MDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return DCe(n,r)}function FDe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ry(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function LDe(e,t){return k9(e,t+1)}function $De(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:k9(n,u)};var p=c,y,b=function(){return y===void 0&&(y=r(g,p)),y},x=g.coordinate,w=c===0||Ry(e,x,b,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){BDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BDe(e,t,r){return t=UDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UDe(e){var t=VDe(e,"string");return Cp(t)=="symbol"?t:t+""}function VDe(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WDe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var y=e*(m.coordinate+e*p()/2-c);i[h]=m=ua(ua({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=ua(ua({},m),{},{tickCoord:m.coordinate});var b=Ry(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[h]=ua(ua({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function HDe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ua(ua({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ry(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=ua(ua({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(x){var w=o[x],v,j=function(){return v===void 0&&(v=r(w,x)),v};if(x===0){var S=e*(w.coordinate-e*j()/2-c);o[x]=w=ua(ua({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[x]=w=ua(ua({},w),{},{tickCoord:w.coordinate});var _=Ry(e,w.tickCoord,j,c,u);_&&(c=w.tickCoord+e*(j()/2+a),o[x]=ua(ua({},w),{},{isShow:!0}))},y=0;y<g;y++)p(y);return o}function iT(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ze(c)||h0.isSsr)return LDe(a,typeof c=="number"&&Ze(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?pm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,v){var j=Qt(u)?u(w.value,v):w.value;return m==="width"?MDe(pm(j,{fontSize:t,letterSpacing:r}),g,f):pm(j,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?di(a[1].coordinate-a[0].coordinate):1,b=FDe(i,y,m);return c==="equidistantPreserveStart"?$De(y,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=HDe(y,b,p,a,o,c==="preserveStartEnd"):h=WDe(y,b,p,a,o),h.filter(function(x){return x.isShow}))}var zDe=["viewBox"],qDe=["viewBox"],GDe=["ticks"];function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){oT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mb(e,t){if(e==null)return{};var r=KDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P9(n.key),n)}}function XDe(e,t,r){return t&&w4(e.prototype,t),r&&w4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QDe(e,t,r){return t=My(t),JDe(e,O9()?Reflect.construct(t,r||[],My(e).constructor):t.apply(e,r))}function JDe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZDe(e)}function ZDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O9=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(e)}function eke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gN(e,t)}function oT(e,t,r){return t=P9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=tke(e,"string");return Pf(t)=="symbol"?t:t+""}function tke(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mh=function(e){function t(r){var n;return YDe(this,t),n=QDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return eke(t,e),XDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=mb(n,zDe),l=this.props,c=l.viewBox,u=mb(l,qDe);return!Od(i,c)||!Od(o,u)||!Od(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,y,b,x,w=f?-1:1,v=n.tickSize||d,j=Ze(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,y=o+ +!f*c,p=y-w*v,x=p-w*h,b=j;break;case"left":p=y=n.coordinate,g=i+ +!f*l,m=g-w*v,b=m-w*h,x=j;break;case"right":p=y=n.coordinate,g=i+ +f*l,m=g+w*v,b=m+w*h,x=j;break;default:m=g=n.coordinate,y=o+ +f*c,p=y+w*v,x=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:y},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=wn(wn(wn({},mr(this.props,!1)),mr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=wn(wn({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=wn(wn({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return de.createElement("line",gd({},f,{className:or("recharts-cartesian-axis-line",Fs(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=iT(wn(wn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=mr(this.props,!1),b=mr(d,!1),x=wn(wn({},y),{},{fill:"none"},mr(c,!1)),w=m.map(function(v,j){var S=o.getTickLineCoord(v),_=S.line,E=S.tick,T=wn(wn(wn(wn({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:u},b),E),{},{index:j,payload:v,visibleTicksCount:m.length,tickFormatter:f});return de.createElement(In,gd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Hx(o.props,v,j)),c&&de.createElement("line",gd({},x,_,{className:or("recharts-cartesian-axis-tick-line",Fs(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(Qt(f)?f(v.value,j):v.value).concat(h||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=mb(f,GDe),g=h;return Qt(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:de.createElement(In,{className:or("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ha.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=or(a.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(n)?o=de.cloneElement(n,wn(wn({},a),{},{className:l})):Qt(n)?o=n(wn(wn({},a),{},{className:l})):o=de.createElement(ay,gd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);oT(mh,"displayName","CartesianAxis");oT(mh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rke=["x1","y1","x2","y2","key"],nke=["offset"];function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){ake(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ake(e,t,r){return t=ske(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ske(e){var t=ike(e,"string");return vu(t)=="symbol"?t:t+""}function ike(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}function j4(e,t){if(e==null)return{};var r=oke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lke=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return de.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function I9(e,t){var r;if(de.isValidElement(e))r=de.cloneElement(e,t);else if(Qt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=j4(t,rke),u=mr(c,!1);u.offset;var d=j4(u,nke);r=de.createElement("line",Mc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function cke(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ma(ma({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return I9(a,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function uke(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ma(ma({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return I9(a,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function dke(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var y=m%t.length;return de.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function fke(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var y=m%n.length;return de.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var hke=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return WB(iT(ma(ma(ma({},mh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},mke=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return WB(iT(ma(ma(ma({},mh.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Zu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function R9(e){var t,r,n,a,i,o,l=rT(),c=nT(),u=tDe(),d=ma(ma({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Zu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Zu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Zu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Zu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Zu.verticalFill,x:Ze(e.x)?e.x:u.left,y:Ze(e.y)?e.y:u.top,width:Ze(e.width)?e.width:u.width,height:Ze(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,x=JCe(),w=ZCe();if(!Ze(m)||m<=0||!Ze(g)||g<=0||!Ze(f)||f!==+f||!Ze(h)||h!==+h)return null;var v=d.verticalCoordinatesGenerator||hke,j=d.horizontalCoordinatesGenerator||mke,S=d.horizontalPoints,_=d.verticalPoints;if((!S||!S.length)&&Qt(j)){var E=y&&y.length,T=j({yAxis:w?ma(ma({},w),{},{ticks:E?y:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);Do(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vu(T),"]")),Array.isArray(T)&&(S=T)}if((!_||!_.length)&&Qt(v)){var D=b&&b.length,O=v({xAxis:x?ma(ma({},x),{},{ticks:D?b:x.ticks}):void 0,width:l,height:c,offset:u},D?!0:p);Do(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vu(O),"]")),Array.isArray(O)&&(_=O)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(lke,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),de.createElement(cke,Mc({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:w})),de.createElement(uke,Mc({},d,{offset:u,verticalPoints:_,xAxis:x,yAxis:w})),de.createElement(dke,Mc({},d,{horizontalPoints:S})),de.createElement(fke,Mc({},d,{verticalPoints:_})))}R9.displayName="CartesianGrid";function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function pke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L9(n.key),n)}}function xke(e,t,r){return t&&gke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yke(e,t,r){return t=Fy(t),vke(e,M9()?Reflect.construct(t,r||[],Fy(e).constructor):t.apply(e,r))}function vke(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wke(e)}function wke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M9=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}function bke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xN(e,t)}function F9(e,t,r){return t=L9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L9(e){var t=jke(e,"string");return If(t)=="symbol"?t:t+""}function jke(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function Ske(e){var t=e.xAxisId,r=rT(),n=nT(),a=S9(t);return a==null?null:N.createElement(mh,yN({},a,{className:or("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return jo(o,!0)}}))}var k1=function(e){function t(){return pke(this,t),yke(this,t,arguments)}return bke(t,e),xke(t,[{key:"render",value:function(){return N.createElement(Ske,this.props)}}])}(N.Component);F9(k1,"displayName","XAxis");F9(k1,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function Nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U9(n.key),n)}}function Eke(e,t,r){return t&&_ke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tke(e,t,r){return t=Ly(t),Ake(e,$9()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function Ake(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cke(e)}function Cke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($9=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function Dke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vN(e,t)}function vN(e,t){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vN(e,t)}function B9(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=kke(e,"string");return Rf(t)=="symbol"?t:t+""}function kke(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wN.apply(this,arguments)}var Oke=function(t){var r=t.yAxisId,n=rT(),a=nT(),i=N9(r);return i==null?null:N.createElement(mh,wN({},i,{className:or("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return jo(l,!0)}}))},O1=function(e){function t(){return Nke(this,t),Tke(this,t,arguments)}return Dke(t,e),Eke(t,[{key:"render",value:function(){return N.createElement(Oke,this.props)}}])}(N.Component);B9(O1,"displayName","YAxis");B9(O1,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function S4(e){return Mke(e)||Rke(e)||Ike(e)||Pke()}function Pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ike(e,t){if(e){if(typeof e=="string")return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(e,t)}}function Rke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mke(e){if(Array.isArray(e))return bN(e)}function bN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jN=function(t,r,n,a,i){var o=pi(t,sT),l=pi(t,A1),c=[].concat(S4(o),S4(l)),u=pi(t,D1),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===n&&Gi(y.props,"extendDomain")&&Ze(y.props[f])){var b=y.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===n&&Gi(y.props,"extendDomain")&&Ze(y.props[m])&&Ze(y.props[g])){var b=y.props[m],x=y.props[g];return[Math.min(p[0],b,x),Math.max(p[1],b,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,y){return Ze(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},V9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],b=arguments.length,x,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];y.fn.apply(y.context,x)}else{var v=y.length,j;for(w=0;w<v;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(b-1);j<b;j++)x[j-1]=arguments[j];y[w].fn.apply(y[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,y=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(V9);var Fke=V9.exports;const Lke=Or(Fke);var pb=new Lke,gb="recharts.syncMouseEvents";function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function $ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W9(n.key),n)}}function Uke(e,t,r){return t&&Bke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xb(e,t,r){return t=W9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W9(e){var t=Vke(e,"string");return Dp(t)=="symbol"?t:t+""}function Vke(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wke=function(){function e(){$ke(this,e),xb(this,"activeIndex",0),xb(this,"coordinateList",[]),xb(this,"layout","horizontal")}return Uke(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Hke(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ze(n)&&Ze(a))return!0}return!1}function zke(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function H9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=ta(t,r,n,a),l=ta(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function qke(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=ta(l,c,u,f),m=ta(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return H9(t);return[{x:n,y:a},{x:i,y:o}]}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function N4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(r),!0).forEach(function(n){Gke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gke(e,t,r){return t=Kke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kke(e){var t=Yke(e,"string");return kp(t)=="symbol"?t:t+""}function Yke(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xke(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=bP;if(h==="ScatterChart")g=o,p=cTe;else if(h==="BarChart")g=zke(f,o,c,d),p=JE;else if(f==="radial"){var y=H9(o),b=y.cx,x=y.cy,w=y.radius,v=y.startAngle,j=y.endAngle;g={cx:b,cy:x,startAngle:v,endAngle:j,innerRadius:w,outerRadius:w},p=KB}else g={points:qke(f,o,c)},p=bP;var S=mg(mg(mg(mg({stroke:"#ccc",pointerEvents:"none"},c),g),mr(m,!1)),{},{payload:l,payloadIndex:u,className:or("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,S):N.createElement(p,S)}var Qke=["item"],Jke=["children","className","width","height","style","compact","title","desc"];function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function _4(e,t){return tOe(e)||eOe(e,t)||q9(e,t)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tOe(e){if(Array.isArray(e))return e}function E4(e,t){if(e==null)return{};var r=rOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G9(n.key),n)}}function sOe(e,t,r){return t&&aOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iOe(e,t,r){return t=$y(t),oOe(e,z9()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function oOe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lOe(e)}function lOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function cOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SN(e,t)}function Ff(e){return fOe(e)||dOe(e)||q9(e)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q9(e,t){if(e){if(typeof e=="string")return NN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NN(e,t)}}function dOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fOe(e){if(Array.isArray(e))return NN(e)}function NN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){$t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $t(e,t,r){return t=G9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=hOe(e,"string");return Mf(t)=="symbol"?t:t+""}function hOe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mOe={xAxis:["bottom","top"],yAxis:["left","right"]},pOe={width:"100%",height:"100%"},K9={x:0,y:0};function pg(e){return e}var gOe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},xOe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Ce(Ce(Ce({},a),ta(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Ce(Ce(Ce({},a),ta(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return K9},P1=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ff(l),Ff(u)):l},[]);return o.length>0?o:t&&t.length&&Ze(a)&&Ze(i)?t.slice(a,i+1):[]};function Y9(e){return e==="number"?[0,"auto"]:void 0}var _N=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=P1(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=aS(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Ff(c),[zB(u,h)]):c},[])},A4=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=gOe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=zNe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=_N(t,r,d,f),m=xOe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},yOe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=VB(d,i);return n.reduce(function(g,p){var y,b=p.type.defaultProps!==void 0?Ce(Ce({},p.type.defaultProps),p.props):p.props,x=b.type,w=b.dataKey,v=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,_=b.ticks,E=b.includeHidden,T=b[o];if(g[T])return g;var D=P1(t.data,{graphicalItems:a.filter(function(L){var q,H=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o];return H===T}),dataStartIndex:c,dataEndIndex:u}),O=D.length,A,M,U;Hke(b.domain,v,x)&&(A=zS(b.domain,null,v),m&&(x==="number"||S!=="auto")&&(U=xm(D,w,"category")));var B=Y9(x);if(!A||A.length===0){var I,P=(I=b.domain)!==null&&I!==void 0?I:B;if(w){if(A=xm(D,w,x),x==="category"&&m){var C=Ode(A);j&&C?(M=A,A=Ty(0,O)):j||(A=lP(P,A,p).reduce(function(L,q){return L.indexOf(q)>=0?L:[].concat(Ff(L),[q])},[]))}else if(x==="category")j?A=A.filter(function(L){return L!==""&&!pr(L)}):A=lP(P,A,p).reduce(function(L,q){return L.indexOf(q)>=0||q===""||pr(q)?L:[].concat(Ff(L),[q])},[]);else if(x==="number"){var F=XNe(D,a.filter(function(L){var q,H,K=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o],ce="hide"in L.props?L.props.hide:(H=L.type.defaultProps)===null||H===void 0?void 0:H.hide;return K===T&&(E||!ce)}),w,i,d);F&&(A=F)}m&&(x==="number"||S!=="auto")&&(U=xm(D,w,"category"))}else m?A=Ty(0,O):l&&l[T]&&l[T].hasStack&&x==="number"?A=h==="expand"?[0,1]:HB(l[T].stackGroups,c,u):A=UB(D,a.filter(function(L){var q=o in L.props?L.props[o]:L.type.defaultProps[o],H="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return q===T&&(E||!H)}),x,d,!0);if(x==="number")A=jN(f,A,T,i,_),P&&(A=zS(P,A,v));else if(x==="category"&&P){var R=P,se=A.every(function(L){return R.indexOf(L)>=0});se&&(A=R)}}return Ce(Ce({},g),{},$t({},T,Ce(Ce({},b),{},{axisType:i,domain:A,categoricalDomain:U,duplicateDomain:M,originalDomain:(y=b.domain)!==null&&y!==void 0?y:B,isCategorical:m,layout:d})))},{})},vOe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=P1(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=VB(d,i),p=-1;return n.reduce(function(y,b){var x=b.type.defaultProps!==void 0?Ce(Ce({},b.type.defaultProps),b.props):b.props,w=x[o],v=Y9("number");if(!y[w]){p++;var j;return g?j=Ty(0,m):l&&l[w]&&l[w].hasStack?(j=HB(l[w].stackGroups,c,u),j=jN(f,j,w,i)):(j=zS(v,UB(h,n.filter(function(S){var _,E,T=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],D="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===w&&!D}),"number",d),a.defaultProps.allowDataOverflow),j=jN(f,j,w,i)),Ce(Ce({},y),{},$t({},w,Ce(Ce({axisType:i},a.defaultProps),{},{hide:!0,orientation:Fs(mOe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:v,isCategorical:g,layout:d})))}return y},{})},wOe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=pi(d,i),m={};return h&&h.length?m=yOe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=vOe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},bOe=function(t){var r=dl(t),n=jo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:NE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yy(r,n)}},C4=function(t){var r=t.children,n=t.defaultShowTooltip,a=es(r,Af),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},jOe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Co(r&&r.type);return n&&n.indexOf("Bar")>=0})},D4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SOe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=es(f,Af),g=es(f,Pd),p=Object.keys(c).reduce(function(j,S){var _=c[S],E=_.orientation;return!_.mirror&&!_.hide?Ce(Ce({},j),{},$t({},E,j[E]+_.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,S){var _=o[S],E=_.orientation;return!_.mirror&&!_.hide?Ce(Ce({},j),{},$t({},E,Fs(j,"".concat(E))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=Ce(Ce({},y),p),x=b.bottom;m&&(b.bottom+=m.props.height||Af.defaultProps.height),g&&r&&(b=KNe(b,a,n,r));var w=u-b.left-b.right,v=d-b.top-b.bottom;return Ce(Ce({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(v,0)})},NOe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},_Oe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var w=x.graphicalItems,v=x.stackGroups,j=x.offset,S=x.updateId,_=x.dataStartIndex,E=x.dataEndIndex,T=b.barSize,D=b.layout,O=b.barGap,A=b.barCategoryGap,M=b.maxBarSize,U=D4(D),B=U.numericAxisName,I=U.cateAxisName,P=jOe(w),C=[];return w.forEach(function(F,R){var se=P1(b.data,{graphicalItems:[F],dataStartIndex:_,dataEndIndex:E}),L=F.type.defaultProps!==void 0?Ce(Ce({},F.type.defaultProps),F.props):F.props,q=L.dataKey,H=L.maxBarSize,K=L["".concat(B,"Id")],ce=L["".concat(I,"Id")],ue={},ge=c.reduce(function(J,pe){var ae=x["".concat(pe.axisType,"Map")],ye=L["".concat(pe.axisType,"Id")];ae&&ae[ye]||pe.axisType==="zAxis"||yu();var ve=ae[ye];return Ce(Ce({},J),{},$t($t({},pe.axisType,ve),"".concat(pe.axisType,"Ticks"),jo(ve)))},ue),le=ge[I],X=ge["".concat(I,"Ticks")],xe=v&&v[K]&&v[K].hasStack&&l_e(F,v[K].stackGroups),he=Co(F.type).indexOf("Bar")>=0,Me=yy(le,X),Pe=[],Be=P&&qNe({barSize:T,stackGroups:v,totalSize:NOe(ge,I)});if(he){var Ie,W,be=pr(H)?M:H,we=(Ie=(W=yy(le,X,!0))!==null&&W!==void 0?W:be)!==null&&Ie!==void 0?Ie:0;Pe=GNe({barGap:O,barCategoryGap:A,bandSize:we!==Me?we:Me,sizeList:Be[ce],maxBarSize:be}),we!==Me&&(Pe=Pe.map(function(J){return Ce(Ce({},J),{},{position:Ce(Ce({},J.position),{},{offset:J.position.offset-we/2})})}))}var z=F&&F.type&&F.type.getComposedData;z&&C.push({props:Ce(Ce({},z(Ce(Ce({},ge),{},{displayedData:se,props:b,dataKey:q,item:F,bandSize:Me,barPosition:Pe,offset:j,stackedData:xe,layout:D,dataStartIndex:_,dataEndIndex:E}))),{},$t($t($t({key:F.key||"item-".concat(R)},B,ge[B]),I,ge[I]),"animationId",S)),childIndex:Hde(F,b.children),item:F})}),C},m=function(b,x){var w=b.props,v=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!rk({props:w}))return null;var _=w.children,E=w.layout,T=w.stackOffset,D=w.data,O=w.reverseStackOrder,A=D4(E),M=A.numericAxisName,U=A.cateAxisName,B=pi(_,n),I=s_e(D,B,"".concat(M,"Id"),"".concat(U,"Id"),T,O),P=c.reduce(function(L,q){var H="".concat(q.axisType,"Map");return Ce(Ce({},L),{},$t({},H,wOe(w,Ce(Ce({},q),{},{graphicalItems:B,stackGroups:q.axisType===M&&I,dataStartIndex:v,dataEndIndex:j}))))},{}),C=SOe(Ce(Ce({},P),{},{props:w,graphicalItems:B}),x==null?void 0:x.legendBBox);Object.keys(P).forEach(function(L){P[L]=d(w,P[L],C,L.replace("Map",""),r)});var F=P["".concat(U,"Map")],R=bOe(F),se=h(w,Ce(Ce({},P),{},{dataStartIndex:v,dataEndIndex:j,updateId:S,graphicalItems:B,stackGroups:I,offset:C}));return Ce(Ce({formattedGraphicalItems:se,graphicalItems:B,offset:C,stackGroups:I},R),P)},g=function(y){function b(x){var w,v,j;return nOe(this,b),j=iOe(this,b,[x]),$t(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$t(j,"accessibilityManager",new Wke),$t(j,"handleLegendBBoxUpdate",function(S){if(S){var _=j.state,E=_.dataStartIndex,T=_.dataEndIndex,D=_.updateId;j.setState(Ce({legendBBox:S},m({props:j.props,dataStartIndex:E,dataEndIndex:T,updateId:D},Ce(Ce({},j.state),{},{legendBBox:S}))))}}),$t(j,"handleReceiveSyncEvent",function(S,_,E){if(j.props.syncId===S){if(E===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),$t(j,"handleBrushChange",function(S){var _=S.startIndex,E=S.endIndex;if(_!==j.state.dataStartIndex||E!==j.state.dataEndIndex){var T=j.state.updateId;j.setState(function(){return Ce({dataStartIndex:_,dataEndIndex:E},m({props:j.props,dataStartIndex:_,dataEndIndex:E,updateId:T},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),$t(j,"handleMouseEnter",function(S){var _=j.getMouseInfo(S);if(_){var E=Ce(Ce({},_),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var T=j.props.onMouseEnter;Qt(T)&&T(E,S)}}),$t(j,"triggeredAfterMouseMove",function(S){var _=j.getMouseInfo(S),E=_?Ce(Ce({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var T=j.props.onMouseMove;Qt(T)&&T(E,S)}),$t(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),$t(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),$t(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),$t(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var E=j.props.onMouseLeave;Qt(E)&&E(_,S)}),$t(j,"handleOuterEvent",function(S){var _=Wde(S),E=Fs(j.props,"".concat(_));if(_&&Qt(E)){var T,D;/.*touch.*/i.test(_)?D=j.getMouseInfo(S.changedTouches[0]):D=j.getMouseInfo(S),E((T=D)!==null&&T!==void 0?T:{},S)}}),$t(j,"handleClick",function(S){var _=j.getMouseInfo(S);if(_){var E=Ce(Ce({},_),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var T=j.props.onClick;Qt(T)&&T(E,S)}}),$t(j,"handleMouseDown",function(S){var _=j.props.onMouseDown;if(Qt(_)){var E=j.getMouseInfo(S);_(E,S)}}),$t(j,"handleMouseUp",function(S){var _=j.props.onMouseUp;if(Qt(_)){var E=j.getMouseInfo(S);_(E,S)}}),$t(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),$t(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),$t(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),$t(j,"handleDoubleClick",function(S){var _=j.props.onDoubleClick;if(Qt(_)){var E=j.getMouseInfo(S);_(E,S)}}),$t(j,"handleContextMenu",function(S){var _=j.props.onContextMenu;if(Qt(_)){var E=j.getMouseInfo(S);_(E,S)}}),$t(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&pb.emit(gb,j.props.syncId,S,j.eventEmitterSymbol)}),$t(j,"applySyncEvent",function(S){var _=j.props,E=_.layout,T=_.syncMethod,D=j.state.updateId,O=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(Ce({dataStartIndex:O,dataEndIndex:A},m({props:j.props,dataStartIndex:O,dataEndIndex:A,updateId:D},j.state)));else if(S.activeTooltipIndex!==void 0){var M=S.chartX,U=S.chartY,B=S.activeTooltipIndex,I=j.state,P=I.offset,C=I.tooltipTicks;if(!P)return;if(typeof T=="function")B=T(C,S);else if(T==="value"){B=-1;for(var F=0;F<C.length;F++)if(C[F].value===S.activeLabel){B=F;break}}var R=Ce(Ce({},P),{},{x:P.left,y:P.top}),se=Math.min(M,R.x+R.width),L=Math.min(U,R.y+R.height),q=C[B]&&C[B].value,H=_N(j.state,j.props.data,B),K=C[B]?{x:E==="horizontal"?C[B].coordinate:se,y:E==="horizontal"?L:C[B].coordinate}:K9;j.setState(Ce(Ce({},S),{},{activeLabel:q,activeCoordinate:K,activePayload:H,activeTooltipIndex:B}))}else j.setState(S)}),$t(j,"renderCursor",function(S){var _,E=j.state,T=E.isTooltipActive,D=E.activeCoordinate,O=E.activePayload,A=E.offset,M=E.activeTooltipIndex,U=E.tooltipAxisBandSize,B=j.getTooltipEventType(),I=(_=S.props.active)!==null&&_!==void 0?_:T,P=j.props.layout,C=S.key||"_recharts-cursor";return de.createElement(Xke,{key:C,activeCoordinate:D,activePayload:O,activeTooltipIndex:M,chartName:r,element:S,isActive:I,layout:P,offset:A,tooltipAxisBandSize:U,tooltipEventType:B})}),$t(j,"renderPolarAxis",function(S,_,E){var T=Fs(S,"type.axisType"),D=Fs(j.state,"".concat(T,"Map")),O=S.type.defaultProps,A=O!==void 0?Ce(Ce({},O),S.props):S.props,M=D&&D[A["".concat(T,"Id")]];return N.cloneElement(S,Ce(Ce({},M),{},{className:or(T,M.className),key:S.key||"".concat(_,"-").concat(E),ticks:jo(M,!0)}))}),$t(j,"renderPolarGrid",function(S){var _=S.props,E=_.radialLines,T=_.polarAngles,D=_.polarRadius,O=j.state,A=O.radiusAxisMap,M=O.angleAxisMap,U=dl(A),B=dl(M),I=B.cx,P=B.cy,C=B.innerRadius,F=B.outerRadius;return N.cloneElement(S,{polarAngles:Array.isArray(T)?T:jo(B,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(D)?D:jo(U,!0).map(function(R){return R.coordinate}),cx:I,cy:P,innerRadius:C,outerRadius:F,key:S.key||"polar-grid",radialLines:E})}),$t(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,_=j.props,E=_.children,T=_.width,D=_.height,O=j.props.margin||{},A=T-(O.left||0)-(O.right||0),M=$B({children:E,formattedGraphicalItems:S,legendWidth:A,legendContent:u});if(!M)return null;var U=M.item,B=E4(M,Qke);return N.cloneElement(U,Ce(Ce({},B),{},{chartWidth:T,chartHeight:D,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),$t(j,"renderTooltip",function(){var S,_=j.props,E=_.children,T=_.accessibilityLayer,D=es(E,co);if(!D)return null;var O=j.state,A=O.isTooltipActive,M=O.activeCoordinate,U=O.activePayload,B=O.activeLabel,I=O.offset,P=(S=D.props.active)!==null&&S!==void 0?S:A;return N.cloneElement(D,{viewBox:Ce(Ce({},I),{},{x:I.left,y:I.top}),active:P,label:B,payload:P?U:[],coordinate:M,accessibilityLayer:T})}),$t(j,"renderBrush",function(S){var _=j.props,E=_.margin,T=_.data,D=j.state,O=D.offset,A=D.dataStartIndex,M=D.dataEndIndex,U=D.updateId;return N.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ug(j.handleBrushChange,S.props.onChange),data:T,x:Ze(S.props.x)?S.props.x:O.left,y:Ze(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:Ze(S.props.width)?S.props.width:O.width,startIndex:A,endIndex:M,updateId:"brush-".concat(U)})}),$t(j,"renderReferenceElement",function(S,_,E){if(!S)return null;var T=j,D=T.clipPathId,O=j.state,A=O.xAxisMap,M=O.yAxisMap,U=O.offset,B=S.type.defaultProps||{},I=S.props,P=I.xAxisId,C=P===void 0?B.xAxisId:P,F=I.yAxisId,R=F===void 0?B.yAxisId:F;return N.cloneElement(S,{key:S.key||"".concat(_,"-").concat(E),xAxis:A[C],yAxis:M[R],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:D})}),$t(j,"renderActivePoints",function(S){var _=S.item,E=S.activePoint,T=S.basePoint,D=S.childIndex,O=S.isRange,A=[],M=_.props.key,U=_.item.type.defaultProps!==void 0?Ce(Ce({},_.item.type.defaultProps),_.item.props):_.item.props,B=U.activeDot,I=U.dataKey,P=Ce(Ce({index:D,dataKey:I,cx:E.x,cy:E.y,r:4,fill:QE(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},mr(B,!1)),Wx(B));return A.push(b.renderActiveDot(B,P,"".concat(M,"-activePoint-").concat(D))),T?A.push(b.renderActiveDot(B,Ce(Ce({},P),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(D))):O&&A.push(null),A}),$t(j,"renderGraphicChild",function(S,_,E){var T=j.filterFormatItem(S,_,E);if(!T)return null;var D=j.getTooltipEventType(),O=j.state,A=O.isTooltipActive,M=O.tooltipAxis,U=O.activeTooltipIndex,B=O.activeLabel,I=j.props.children,P=es(I,co),C=T.props,F=C.points,R=C.isRange,se=C.baseLine,L=T.item.type.defaultProps!==void 0?Ce(Ce({},T.item.type.defaultProps),T.item.props):T.item.props,q=L.activeDot,H=L.hide,K=L.activeBar,ce=L.activeShape,ue=!!(!H&&A&&P&&(q||K||ce)),ge={};D!=="axis"&&P&&P.props.trigger==="click"?ge={onClick:ug(j.handleItemMouseEnter,S.props.onClick)}:D!=="axis"&&(ge={onMouseLeave:ug(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ug(j.handleItemMouseEnter,S.props.onMouseEnter)});var le=N.cloneElement(S,Ce(Ce({},T.props),ge));function X(pe){return typeof M.dataKey=="function"?M.dataKey(pe.payload):null}if(ue)if(U>=0){var xe,he;if(M.dataKey&&!M.allowDuplicatedCategory){var Me=typeof M.dataKey=="function"?X:"payload.".concat(M.dataKey.toString());xe=aS(F,Me,B),he=R&&se&&aS(se,Me,B)}else xe=F==null?void 0:F[U],he=R&&se&&se[U];if(ce||K){var Pe=S.props.activeIndex!==void 0?S.props.activeIndex:U;return[N.cloneElement(S,Ce(Ce(Ce({},T.props),ge),{},{activeIndex:Pe})),null,null]}if(!pr(xe))return[le].concat(Ff(j.renderActivePoints({item:T,activePoint:xe,basePoint:he,childIndex:U,isRange:R})))}else{var Be,Ie=(Be=j.getItemByXY(j.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:le},W=Ie.graphicalItem,be=W.item,we=be===void 0?S:be,z=W.childIndex,J=Ce(Ce(Ce({},T.props),ge),{},{activeIndex:z});return[N.cloneElement(we,J),null,null]}return R?[le,null,null]:[le,null]}),$t(j,"renderCustomized",function(S,_,E){return N.cloneElement(S,Ce(Ce({key:"recharts-customized-".concat(E)},j.props),j.state))}),$t(j,"renderMap",{CartesianGrid:{handler:pg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:pg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:pg},YAxis:{handler:pg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:s1("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=L8(j.triggeredAfterMouseMove,(v=x.throttleDelay)!==null&&v!==void 0?v:1e3/60),j.state={},j}return cOe(b,y),sOe(b,[{key:"componentDidMount",value:function(){var w,v;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(v=this.props.margin.top)!==null&&v!==void 0?v:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,v=w.children,j=w.data,S=w.height,_=w.layout,E=es(v,co);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=_N(this.state,j,T,D),A=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+S)/2,U=_==="horizontal",B=U?{x:A,y:M}:{y:A,x:M},I=this.state.formattedGraphicalItems.find(function(C){var F=C.item;return F.type.name==="Scatter"});I&&(B=Ce(Ce({},B),I.props.points[T].tooltipPosition),O=I.props.points[T].tooltipPayload);var P={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:D,activePayload:O,activeCoordinate:B};this.setState(P),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,v){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==v.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){iS([es(w.children,co)],[es(this.props.children,co)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=es(this.props.children,co);if(w&&typeof w.props.shared=="boolean"){var v=w.props.shared?"axis":"item";return l.indexOf(v)>=0?v:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var v=this.container,j=v.getBoundingClientRect(),S=xwe(j),_={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},E=j.width/v.offsetWidth||1,T=this.inRange(_.chartX,_.chartY,E);if(!T)return null;var D=this.state,O=D.xAxisMap,A=D.yAxisMap,M=this.getTooltipEventType(),U=A4(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&O&&A){var B=dl(O).scale,I=dl(A).scale,P=B&&B.invert?B.invert(_.chartX):null,C=I&&I.invert?I.invert(_.chartY):null;return Ce(Ce({},_),{},{xValue:P,yValue:C},U)}return U?Ce(Ce({},_),U):null}},{key:"inRange",value:function(w,v){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=w/j,E=v/j;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,D=_>=T.left&&_<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return D?{x:_,y:E}:null}var O=this.state,A=O.angleAxisMap,M=O.radiusAxisMap;if(A&&M){var U=dl(A);return dP({x:_,y:E},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,v=this.getTooltipEventType(),j=es(w,co),S={};j&&v==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Wx(this.props,this.handleOuterEvent);return Ce(Ce({},_),S)}},{key:"addListener",value:function(){pb.on(gb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pb.removeListener(gb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,v,j){for(var S=this.state.formattedGraphicalItems,_=0,E=S.length;_<E;_++){var T=S[_];if(T.item===w||T.props.key===w.key||v===Co(T.item.type)&&j===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,v=this.state.offset,j=v.left,S=v.top,_=v.height,E=v.width;return de.createElement("defs",null,de.createElement("clipPath",{id:w},de.createElement("rect",{x:j,y:S,height:_,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(v,j){var S=_4(j,2),_=S[0],E=S[1];return Ce(Ce({},v),{},$t({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(v,j){var S=_4(j,2),_=S[0],E=S[1];return Ce(Ce({},v),{},$t({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var v;return(v=this.state.xAxisMap)===null||v===void 0||(v=v[w])===null||v===void 0?void 0:v.scale}},{key:"getYScaleByAxisId",value:function(w){var v;return(v=this.state.yAxisMap)===null||v===void 0||(v=v[w])===null||v===void 0?void 0:v.scale}},{key:"getItemByXY",value:function(w){var v=this.state,j=v.formattedGraphicalItems,S=v.activeItem;if(j&&j.length)for(var _=0,E=j.length;_<E;_++){var T=j[_],D=T.props,O=T.item,A=O.type.defaultProps!==void 0?Ce(Ce({},O.type.defaultProps),O.props):O.props,M=Co(O.type);if(M==="Bar"){var U=(D.data||[]).find(function(C){return ZEe(w,C)});if(U)return{graphicalItem:T,payload:U}}else if(M==="RadialBar"){var B=(D.data||[]).find(function(C){return dP(w,C)});if(B)return{graphicalItem:T,payload:B}}else if(N1(T,S)||_1(T,S)||_p(T,S)){var I=rAe({graphicalItem:T,activeTooltipItem:S,itemData:A.data}),P=A.activeIndex===void 0?I:A.activeIndex;return{graphicalItem:Ce(Ce({},T),{},{childIndex:P}),payload:_p(T,S)?A.data[I]:T.props.data[I]}}}return null}},{key:"render",value:function(){var w=this;if(!rk(this))return null;var v=this.props,j=v.children,S=v.className,_=v.width,E=v.height,T=v.style,D=v.compact,O=v.title,A=v.desc,M=E4(v,Jke),U=mr(M,!1);if(D)return de.createElement(u4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(lS,xd({},U,{width:_,height:E,title:O,desc:A}),this.renderClipPath(),ak(j,this.renderMap)));if(this.props.accessibilityLayer){var B,I;U.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,U.role=(I=this.props.role)!==null&&I!==void 0?I:"application",U.onKeyDown=function(C){w.accessibilityManager.keyboardEvent(C)},U.onFocus=function(){w.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return de.createElement(u4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",xd({className:or("recharts-wrapper",S),style:Ce({position:"relative",cursor:"default",width:_,height:E},T)},P,{ref:function(F){w.container=F}}),de.createElement(lS,xd({},U,{width:_,height:E,title:O,desc:A,style:pOe}),this.renderClipPath(),ak(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);$t(g,"displayName",r),$t(g,"defaultProps",Ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),$t(g,"getDerivedStateFromProps",function(y,b){var x=y.dataKey,w=y.data,v=y.children,j=y.width,S=y.height,_=y.layout,E=y.stackOffset,T=y.margin,D=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var A=C4(y);return Ce(Ce(Ce({},A),{},{updateId:0},m(Ce(Ce({props:y},A),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:E,prevMargin:T,prevChildren:v})}if(x!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||_!==b.prevLayout||E!==b.prevStackOffset||!Od(T,b.prevMargin)){var M=C4(y),U={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=Ce(Ce({},A4(b,w,_)),{},{updateId:b.updateId+1}),I=Ce(Ce(Ce({},M),U),B);return Ce(Ce(Ce({},I),m(Ce({props:y},I),b)),{},{prevDataKey:x,prevData:w,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:E,prevMargin:T,prevChildren:v})}if(!iS(v,b.prevChildren)){var P,C,F,R,se=es(v,Af),L=se&&(P=(C=se.props)===null||C===void 0?void 0:C.startIndex)!==null&&P!==void 0?P:D,q=se&&(F=(R=se.props)===null||R===void 0?void 0:R.endIndex)!==null&&F!==void 0?F:O,H=L!==D||q!==O,K=!pr(w),ce=K&&!H?b.updateId:b.updateId+1;return Ce(Ce({updateId:ce},m(Ce(Ce({props:y},b),{},{updateId:ce,dataStartIndex:L,dataEndIndex:q}),b)),{},{prevChildren:v,dataStartIndex:L,dataEndIndex:q})}return null}),$t(g,"renderActiveDot",function(y,b,x){var w;return N.isValidElement(y)?w=N.cloneElement(y,b):Qt(y)?w=y(b):w=de.createElement(s9,b),de.createElement(In,{className:"recharts-active-dot",key:x},w)});var p=N.forwardRef(function(b,x){return de.createElement(g,xd({},b,{ref:x}))});return p.displayName=g.displayName,p},EOe=_Oe({chartName:"BarChart",GraphicalChild:Iu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:k1},{axisType:"yAxis",AxisComp:O1}],formatAxisMap:TCe});function X9(){const[e,t]=N.useState("2024"),[r,n]=N.useState("Yearly"),[a,i]=N.useState(new Date().getMonth()),[o,l]=N.useState(new Date().getFullYear()),c=localStorage.getItem("user_id")||"241";console.log("🚨 [NewEmployeeOverview] CRITICAL DEBUG - Loading component for user:",c),console.log("🚨 [NewEmployeeOverview] Current org_id:",localStorage.getItem("org_id")),console.log("🚨 [NewEmployeeOverview] Expected org_id for correct data: 13"),de.useEffect(()=>{const F=localStorage.getItem("org_id");F!=="13"&&(console.log("🚨 [NewEmployeeOverview] Switching from org_id",F,"to 13 for correct data"),localStorage.setItem("org_id","13"),window.location.reload())},[]);const{data:u=[]}=Fe({queryKey:[`/api/leave-requests?userId=${c}`]}),{data:d=[]}=Fe({queryKey:[`/api/employee-leave-balances/${c}`]}),{data:f=[]}=Fe({queryKey:[`/api/pto-requests?userId=${c}`]}),{data:h=[]}=Fe({queryKey:[`/api/comp-off-requests?userId=${c}`]}),{data:m=[]}=Fe({queryKey:[`/api/leave-balance-transactions/${c}`]}),{data:g=[]}=Fe({queryKey:["/api/leave-variants"]}),{data:p=[]}=Fe({queryKey:["/api/employee-assignments"]}),y=u,b=d,x=f,w=h,v=m,j=y.length,S=y.filter(F=>F.status==="approved");S.length;const _=y.filter(F=>F.status==="pending").length;y.filter(F=>F.status==="rejected").length,console.log("[NewEmployeeOverview] Approved leaves for calendar:",S.map(F=>({id:F.id,startDate:F.startDate,endDate:F.endDate})));const T=(()=>{const F=Array.isArray(b)?b:[],R=Array.isArray(y)?y:[],se=Array.isArray(v)?v:[],L=Array.isArray(g)?g:[];console.log("🎯 [NewEmployeeOverview] EXACT Leave Applications calculation:",{currentUserId:c,orgId:localStorage.getItem("org_id"),balancesCount:F.length,requestsCount:R.length,transactionsCount:se.length,variantsCount:L.length});const H=(Array.isArray(p)?p.filter(X=>String(X.userId)===String(c)):[]).map(X=>X.leaveVariantId),K=L.filter(X=>H.includes(X.id));let ce=0;K.forEach(X=>{const xe=F.find(we=>we.leaveVariantId===X.id),Me=(Array.isArray(se)?se.filter(we=>we.leaveVariantId===X.id):[]).filter(we=>{var z;return we.transactionType==="grant"&&((z=we.description)==null?void 0:z.toLowerCase().includes("opening balance imported from excel"))}).sort((we,z)=>new Date(z.createdAt).getTime()-new Date(we.createdAt).getTime()),Pe=Me.length>0?parseFloat(Me[0].amount||"0"):0,Be=xe?parseFloat(xe.totalEntitlement||"0"):0,Ie=X.grantLeaves==="after_earning";let W=0;if(Ie){const z=new Date().getMonth()+1-1;W=(Be||X.annualLeaveAllocation||0)/12*z}else{const we=Be||X.annualLeaveAllocation||0;if(X.grantFrequency==="per_year")W=we;else{const z=new Date().getMonth()+1;W=we/12*z}}const be=W+Pe;ce+=be});const ue=se.filter(X=>X.userId===c);let ge=0;K.forEach(X=>{const xe=X.leaveBalanceDeductionBefore===!0,he=R.filter(we=>{const z=we.leaveVariantId===X.id,J=(we.leaveVariantId===null||we.leaveVariantId===void 0)&&(we.leaveTypeId===X.leaveTypeId||String(we.leaveTypeId)===String(X.leaveTypeId)||Number(we.leaveTypeId)===Number(X.leaveTypeId));return z||J}),Pe=he.filter(we=>we.status==="approved").reduce((we,z)=>we+parseFloat(z.workingDays||"0"),0);let Be=0;xe&&(Be=he.filter(z=>z.status==="pending").reduce((z,J)=>z+parseFloat(J.workingDays||"0"),0));const W=ue.filter(we=>we.leaveVariantId===X.id).filter(we=>{var z,J;return((z=we.description)==null?void 0:z.toLowerCase().includes("imported leave transaction"))&&((J=we.description)==null?void 0:J.toLowerCase().includes("availed"))&&(we.transactionType==="deduction"||we.transactionType==="debit")}).reduce((we,z)=>we+Math.abs(parseFloat(z.amount||"0")),0),be=Pe+Be+W;ge+=be});let le=0;return K.forEach(X=>{const xe=F.find(Ue=>Ue.leaveVariantId===X.id),he=Array.isArray(se)?se.filter(Ue=>Ue.leaveVariantId===X.id):[],Me=he.filter(Ue=>{var Ge;return Ue.transactionType==="grant"&&((Ge=Ue.description)==null?void 0:Ge.toLowerCase().includes("opening balance imported from excel"))}).sort((Ue,Ge)=>new Date(Ge.createdAt).getTime()-new Date(Ue.createdAt).getTime()),Pe=Me.length>0?parseFloat(Me[0].amount||"0"):0;xe&&parseFloat(xe.currentBalance||"0");const Be=xe?parseFloat(xe.totalEntitlement||"0"):0,Ie=X.grantLeaves==="after_earning";let W=0;if(Ie){const Ge=new Date().getMonth()+1-1;W=(Be||X.annualLeaveAllocation||0)/12*Ge}else{const Ue=Be||X.annualLeaveAllocation||0;if(X.grantFrequency==="per_year")W=Ue;else{const Ge=new Date().getMonth()+1;W=Ue/12*Ge}}const be=W+Pe,we=X.leaveBalanceDeductionBefore===!0,z=R.filter(Ue=>Ue.leaveVariantId===X.id||(Ue.leaveVariantId===null||Ue.leaveVariantId===void 0)&&Ue.leaveTypeId===X.leaveTypeId),pe=z.filter(Ue=>Ue.status==="approved").reduce((Ue,Ge)=>Ue+parseFloat(Ge.workingDays||"0"),0);let ae=0;we&&(ae=z.filter(Ge=>Ge.status==="pending").reduce((Ge,vt)=>Ge+parseFloat(vt.workingDays||"0"),0));const ye=he.filter(Ue=>{var Ge,vt;return((Ge=Ue.description)==null?void 0:Ge.toLowerCase().includes("imported leave transaction"))&&((vt=Ue.description)==null?void 0:vt.toLowerCase().includes("availed"))&&(Ue.transactionType==="deduction"||Ue.transactionType==="debit")}).reduce((Ue,Ge)=>Ue+Math.abs(parseFloat(Ge.amount||"0")),0),ve=pe+ae+ye,Re=be-ve;le+=Re}),console.log("🎯 [NewEmployeeOverview] EXACT calculation results:",{totalEligibilitySum:ce.toFixed(1),totalAvailed:ge.toFixed(1),totalClosingBalance:le.toFixed(1)}),{totalEligibility:parseFloat(ce.toFixed(1)),totalAvailed:parseFloat(ge.toFixed(1)),totalBalance:parseFloat(le.toFixed(1))}})(),D=T.totalEligibility,O=T.totalAvailed,A=T.totalBalance;console.log("[NewEmployeeOverview] Final sophisticated metrics applied:",{totalEntitlement:D,totalAvailed:O,totalBalance:A,displayValues:{totalEntitlementDisplay:D.toFixed(1),totalAvailedDisplay:O.toFixed(1),totalBalanceDisplay:A.toFixed(1)}});const U=(()=>{const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];console.log("[UsageTrends] DEBUG - Total leave requests:",y.length),console.log("[UsageTrends] DEBUG - Approved leaves:",S.length),console.log("[UsageTrends] DEBUG - Pending leaves:",y.filter(se=>se.status==="pending").length);const R=y;return console.log("[UsageTrends] DEBUG - Using leaves for trends:",R.map(se=>({id:se.id,startDate:se.startDate,year:new Date(se.startDate).getFullYear(),month:new Date(se.startDate).getMonth(),workingDays:se.workingDays,status:se.status}))),F.map((se,L)=>{const q=R.filter(K=>{const ce=new Date(K.startDate),ue=ce.getMonth(),ge=ce.getFullYear();return ue===L&&ge===2025});console.log(`[UsageTrends] ${se} (${L}) - Found ${q.length} leaves:`,q.map(K=>({startDate:K.startDate,workingDays:K.workingDays,status:K.status})));const H=q.reduce((K,ce)=>{var ge;const ue=parseFloat(((ge=ce.workingDays)==null?void 0:ge.toString())||"0");return console.log(`[UsageTrends] Adding ${ue} days from leave:`,ce.startDate,ce.status),K+ue},0);return console.log(`[UsageTrends] ${se} total usage:`,H),{month:se,usage:H}})})();console.log("[NewEmployeeOverview] Usage trends data:",U),console.log("[NewEmployeeOverview] Total approved leaves:",S.length),console.log("[NewEmployeeOverview] Sample approved leave:",S[0]);const B=(F,R)=>new Date(R,F+1,0).getDate(),I=(F,R)=>new Date(R,F,1).getDay(),P=F=>{F==="prev"?a===0?(i(11),l(o-1)):i(a-1):a===11?(i(0),l(o+1)):i(a+1)},C=()=>{const F=B(a,o),R=I(a,o),se=[];for(let L=0;L<R;L++)se.push(s.jsx("div",{className:"h-8"},`empty-${L}`));for(let L=1;L<=F;L++){const q=new Date(o,a,L);q.toISOString().split("T")[0];const H=y.some(ue=>{const ge=new Date(ue.startDate),le=new Date(ue.endDate);return ge.setHours(0,0,0,0),le.setHours(23,59,59,999),q.setHours(12,0,0,0),q>=ge&&q<=le}),K=y.find(ue=>{const ge=new Date(ue.startDate),le=new Date(ue.endDate);return ge.setHours(0,0,0,0),le.setHours(23,59,59,999),q.setHours(12,0,0,0),q>=ge&&q<=le});let ce="h-8 flex items-center justify-center text-sm rounded ";if(H&&K)switch(K.status){case"approved":ce+="bg-green-300 text-green-800 font-medium";break;case"pending":ce+="bg-orange-300 text-orange-800 font-medium";break;case"rejected":ce+="bg-red-300 text-red-800 font-medium";break;default:ce+="bg-gray-100 text-gray-800 font-medium"}else ce+="hover:bg-gray-100 text-gray-700";se.push(s.jsx("div",{className:ce,children:L},L))}return se};return s.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Employee Overview"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Your leave analytics and applications dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Dt,{value:e,onValueChange:t,children:[s.jsx(At,{className:"w-32",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2024",children:"2024"}),s.jsx(_e,{value:"2025",children:"2025"})]})]}),s.jsxs(Dt,{value:r,onValueChange:n,children:[s.jsx(At,{className:"w-32",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Yearly",children:"Yearly"}),s.jsx(_e,{value:"Monthly",children:"Monthly"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Leaves"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:D.toFixed(1)})]}),s.jsx(Pr,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Availed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:O.toFixed(1)})]}),s.jsx(Qn,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approvals"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:_})]}),s.jsx(ea,{className:"h-8 w-8 text-orange-500"})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Balance"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:A.toFixed(1)})]}),s.jsx(dz,{className:"h-8 w-8 text-purple-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center gap-2",children:[s.jsx(L_,{className:"h-5 w-5"}),"Recent Applications"]})}),s.jsx(De,{children:s.jsxs(T2,{defaultValue:"leaves",className:"space-y-4",children:[s.jsxs(Iv,{className:"grid w-full grid-cols-3",children:[s.jsxs(Ul,{value:"leaves",children:["Leaves (",j,")"]}),s.jsxs(Ul,{value:"pto",children:["PTO (",x.length,")"]}),s.jsxs(Ul,{value:"compoff",children:["Comp-off (",w.length,")"]})]}),s.jsx(Vl,{value:"leaves",className:"space-y-4",children:y.length>0?s.jsx("div",{className:"space-y-3",children:y.slice(0,5).map((F,R)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Leave Request"}),s.jsx(Kt,{variant:F.status==="approved"?"default":F.status==="pending"?"secondary":"destructive",children:F.status})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(F.startDate).toLocaleDateString()," ","-"," ",new Date(F.endDate).toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[F.workingDays," working days"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-gray-500",children:new Date(F.createdAt).toLocaleDateString()})})]},R))}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No leave applications found"})}),s.jsx(Vl,{value:"pto",children:s.jsx("div",{className:"text-center py-8 text-gray-500",children:x.length===0?"No PTO requests found":`${x.length} PTO requests`})}),s.jsx(Vl,{value:"compoff",children:s.jsx("div",{className:"text-center py-8 text-gray-500",children:w.length===0?"No comp-off requests found":`${w.length} comp-off requests`})})]})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Et,{children:"Leave Calendar"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>P("prev"),children:s.jsx(Hf,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-medium",children:new Date(o,a).toLocaleDateString("default",{month:"long",year:"numeric"})}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>P("next"),children:s.jsx(No,{className:"h-4 w-4"})})]})]})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(F=>s.jsx("div",{className:"p-2 text-sm font-medium text-gray-500",children:F},F)),C()]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-300 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Approved"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-300 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-300 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Rejected"})]})]})]})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Leave Usage Trends"})}),s.jsxs(De,{children:[s.jsx("div",{className:"h-64",children:s.jsx(uwe,{width:"100%",height:"100%",children:s.jsxs(EOe,{data:U,children:[s.jsx(R9,{strokeDasharray:"3 3"}),s.jsx(k1,{dataKey:"month"}),s.jsx(O1,{}),s.jsx(Iu,{dataKey:"usage",fill:"#3B82F6"})]})})}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded text-xs",children:[s.jsxs("p",{children:["Total requests: ",y.length]}),s.jsxs("p",{children:["Approved: ",S.length]}),s.jsxs("p",{children:["Chart data points: ",U.length]}),s.jsx("div",{className:"mt-2",children:U.filter(F=>F.usage>0).map(F=>s.jsxs("span",{className:"mr-2",children:[F.month,": ",F.usage]},F.month))})]})]})]})]})]})]})}function TOe(){return s.jsx(X9,{})}function yb({className:e,...t}){return s.jsx("div",{className:rt("animate-pulse rounded-md bg-muted",e),...t})}function AOe(){Kp();const[e,t]=N.useState(null),[r,n]=N.useState(!1);N.useEffect(()=>{const g=localStorage.getItem("role"),p=localStorage.getItem("role_name");console.log("[HOME] Role debugging:",{"localStorage.role":g,"localStorage.role_name":p});const y=p||g;localStorage.getItem("org_id"),console.log("[HOME] Final role selected:",y),y?t(y):n(!0)},[]);const a=g=>{localStorage.setItem("role",g),t(g),n(!1)},{data:i,isLoading:o,error:l}=Fe({queryKey:["/api/company"],staleTime:10*60*1e3,refetchOnWindowFocus:!1,refetchInterval:!1,retry:1}),c=localStorage.getItem("org_id");console.log(`[DEBUG] Current org_id from localStorage: ${c}`);const u=i?i.orgId:null;if(console.log(`[DEBUG] Company orgId from API: ${u}`),r)return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsxs(Ee,{className:"w-full max-w-md mx-4",children:[s.jsxs(_t,{className:"text-center",children:[s.jsx(Et,{className:"text-2xl font-bold text-gray-900",children:"Choose Your Role"}),s.jsx("p",{className:"text-gray-600",children:"Select your role to continue"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsx(ne,{onClick:()=>a("admin"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white",children:"Admin"}),s.jsx(ne,{onClick:()=>a("employee"),className:"w-full h-12 bg-green-600 hover:bg-green-700 text-white",children:"Employee"})]})]})});if(o)return s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(yb,{className:"h-8 w-64"}),s.jsx(yb,{className:"h-32 w-full"}),s.jsx(yb,{className:"h-32 w-full"})]})})});const d=i&&(i==null?void 0:i.setupStatus)==="completed",f=c&&u&&c!==u.toString(),h=!i,m=!d||f||h;if(console.log("[DEBUG] Setup wizard check:",{currentOrgId:c,companyOrgId:u,isSetupCompleted:d,isOrgIdMismatch:f,isNewOrganization:h,needsSetup:m,userRole:e,currentPath:window.location.pathname}),(e==="admin"||e==="manager")&&m){if(console.log("[HOME] Setup wizard condition met - rendering SetupWizard"),console.log("[HOME] userRole:",e,"needsSetup:",m),(f||h)&&!sessionStorage.getItem("setup_redirect_done")){sessionStorage.setItem("setup_redirect_done","true"),localStorage.removeItem("setupWizardStep"),localStorage.removeItem("user_permissions");const g=[];for(let p=0;p<localStorage.length;p++){const y=localStorage.key(p);y&&y.startsWith("role_permissions_")&&g.push(y)}return g.forEach(p=>localStorage.removeItem(p)),qe.clear(),window.location.reload(),null}return s.jsx(Joe,{company:i})}return console.log("[HOME] Setup wizard condition NOT met - rendering dashboard"),console.log("[HOME] Condition check: userRole=",e,"needsSetup=",m),s.jsx(Er,{children:e==="admin"?s.jsx(Zoe,{}):s.jsx(TOe,{})})}function COe(){const[e,t]=N.useState(null),[r,n]=N.useState("balances"),[a,i]=N.useState([]),[o,l]=N.useState([]),[c,u]=N.useState(!1),{toast:d}=qr(),{data:f=[]}=Fe({queryKey:["/api/companies"]}),{data:h=[]}=Fe({queryKey:["/api/leave-types"]}),m=w=>{var j;const v=(j=w.target.files)==null?void 0:j[0];if(v&&(t(v),i([]),l([]),u(!1),!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(v.type))){d({title:"Invalid File Type",description:"Please upload a CSV or Excel file (.csv, .xls, .xlsx)",variant:"destructive"}),t(null);return}},g=Bt({mutationFn:async w=>{const v=new FormData;return v.append("file",w),v.append("importType",r),(await Tt("POST","/api/import-leave-data/validate",v)).json()},onSuccess:w=>{i(w.preview),l(w.errors||[]),u(w.errors.length===0),w.errors.length===0?d({title:"Validation Successful",description:`File validated successfully. Found ${w.preview.length} records.`}):d({title:"Validation Issues Found",description:`Found ${w.errors.length} validation errors. Please review.`,variant:"destructive"})},onError:w=>{d({title:"Validation Failed",description:w.message||"Failed to validate file",variant:"destructive"})}}),p=Bt({mutationFn:async()=>{if(!e)throw new Error("No file selected");const w=new FormData;w.append("file",e),w.append("importType",r);const v=localStorage.getItem("jwt_token");return v?(w.append("jwtToken",v),console.log(`[ImportLeaveData] ✅ Passing JWT token for ${r} import`)):console.warn(`[ImportLeaveData] ⚠️ No JWT token found - ${r} import may fail`),(await Tt("POST","/api/import-leave-data/execute",w)).json()},onSuccess:w=>{qe.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),qe.invalidateQueries({queryKey:["/api/leave-balance-transactions"]});let v=`Successfully imported ${w.imported} of ${w.total} records`;w.importStats&&w.total-w.imported>0&&(v+=`

Skipped records breakdown:`,w.importStats.skippedEmpty>0&&(v+=`
• Empty/missing fields: ${w.importStats.skippedEmpty}`),w.importStats.skippedHeaders>0&&(v+=`
• Header rows: ${w.importStats.skippedHeaders}`),w.importStats.skippedMissingEmployee>0&&(v+=`
• Employee not found: ${w.importStats.skippedMissingEmployee}`),w.importStats.skippedMissingLeaveType>0&&(v+=`
• Leave type not found: ${w.importStats.skippedMissingLeaveType}`),w.importStats.processingErrors>0&&(v+=`
• Processing errors: ${w.importStats.processingErrors}`)),d({title:"Import Successful",description:v}),t(null),i([]),l([]),u(!1)},onError:w=>{d({title:"Import Failed",description:w.message||"Failed to import data",variant:"destructive"})}}),y=()=>{console.log("Download Balance Template clicked"),x("balances")},b=()=>{console.log("Download Transaction Template clicked"),x("transactions")};console.log("ImportLeaveData state:",{importType:r});const x=async(w=r)=>{try{let v=[];try{console.log("[ImportLeaveData] Fetching employee data from external API..."),v=(await ji()).map(Xf),console.log("[ImportLeaveData] Successfully fetched:",v.length,"employees")}catch(C){console.log("[ImportLeaveData] External API error:",C)}v.length===0&&(console.log("No employee data available, generating template with empty employee fields"),d({title:"No Employee Data",description:"Could not fetch employee data from external API. Template will have empty employee fields.",variant:"default"}));let j=[];if(w==="balances")j=[["Leave balance details for the current calendar year as on migration"],[],["EmpNumber","EmpName","LeaveType","LeaveOpeningBalance","LeaveEncashed","LeaveLapsed"]];else{j=[["Leave availed details from the beginning of the current calendar year till migration cut off date"],[],["EmpNumber","EmpName","LeaveType","LeaveTakenStartDate","Is Start Date a Half Day","LeaveTakenEndDate","Is End Date a Half Day","TotalLeaveDays","Status"]];const C=h;console.log("[ImportLeaveData] Transaction template: Only including column headers, no employee data");const F=Os.book_new(),R=Os.aoa_to_sheet(j);R["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:18},{wch:20},{wch:18},{wch:20},{wch:15},{wch:12}],R["!merges"]||(R["!merges"]=[]),R["!merges"].push({s:{r:0,c:0},e:{r:0,c:7}}),Os.book_append_sheet(F,R,"Leave Transaction Import");const L=Ym(F,{bookType:"xlsx",type:"array"}),q=new Blob([L],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),H=window.URL.createObjectURL(q),K=document.createElement("a");K.href=H,K.download="leave_transaction_import_template.xlsx",document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(H),d({title:"Template Downloaded",description:"Transaction template with column headers only"});return}const S=h;if(v.length>0)for(const C of S)try{const F=await fetch("/api/leave-variants",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});if(F.ok){const se=(await F.json()).filter(q=>q.leaveTypeName===C.name),L=new Set;for(const q of se)try{const H=await fetch(`/api/employee-assignments/${q.id}`,{credentials:"include"});H.ok&&(await H.json()).forEach(ce=>{L.add(ce.userId)})}catch{console.log(`Could not fetch assignments for variant ${q.id}`)}v.forEach(q=>{const H=q.user_id||q.id,K=q.employeeNumber||q.employee_number;L.has(H)&&K&&(w==="balances"?j.push([K,q.user_name||q.name||`${q.firstName||""} ${q.lastName||""}`.trim()||"",C.name,"","",""]):j.push([K,q.user_name||q.name||`${q.firstName||""} ${q.lastName||""}`.trim()||"",C.name,"","","","approved"]))})}}catch(F){console.log(`Error processing leave type ${C.name}:`,F)}else S.forEach(C=>{w==="balances"?j.push(["EMP001","Sample Employee",C.name,"","",""]):j.push(["EMP001","Sample Employee",C.name,"","","","approved"])});const _=Os.book_new(),E=Os.aoa_to_sheet(j);w==="balances"?E["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:18},{wch:14},{wch:12}]:E["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:12},{wch:12},{wch:8},{wch:10}],E["!merges"]||(E["!merges"]=[]);let T=6;w==="balances"&&(T=6),E["!merges"].push({s:{r:0,c:0},e:{r:0,c:T}});const D=w==="balances"?"Leave Balance Import":"Leave Transaction Import";Os.book_append_sheet(_,E,D);const O=Ym(_,{bookType:"xlsx",type:"array"}),A=new Blob([O],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),M=window.URL.createObjectURL(A),U=document.createElement("a");U.href=M;const B=w==="balances"?"leave_balance_import_template.xlsx":"leave_transaction_import_template.xlsx";U.download=B,document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(M);const I=j.length-3,P=v.length>0?`Generated template with ${I} rows based on actual employee assignments`:`Generated empty template with ${S.length} leave types - fill in employee data manually`;d({title:"Template Downloaded",description:P})}catch(v){console.error("Template generation error:",v),d({title:"Download Failed",description:v instanceof Error?v.message:"Failed to generate template",variant:"destructive"})}};return s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Leave Data"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Import employee leave balances and transaction history"})]}),s.jsxs(Ee,{className:"mb-6",children:[s.jsx(_t,{children:s.jsx(Et,{children:"Import Instructions"})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-blue-200 bg-blue-50 p-4 rounded-lg",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Select Template Type"}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"balances",checked:r==="balances",onChange:w=>n(w.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Balance Template"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"transactions",checked:r==="transactions",onChange:w=>n(w.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Transaction Template"})]})]})]}),s.jsx("div",{className:"space-y-3 text-sm text-gray-600",children:r==="balances"?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import employee leave balance data from your previous system."}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Required Format for Leave Balances:"}),s.jsxs("ul",{className:"text-blue-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveOpeningBalance:"})," Current available balance"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveEncashed:"})," Amount encashed (if applicable)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveLapsed:"})," Amount that expired/lapsed"]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import historical leave transactions that employees have already taken."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Required Format for Leave Transactions:"}),s.jsxs("ul",{className:"text-green-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenStartDate:"})," Leave start date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is Start Date a Half Day:"})," ","TRUE/FALSE for half day start"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenEndDate:"})," Leave end date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is End Date a Half Day:"})," ","TRUE/FALSE for half day end"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"TotalLeaveDays:"})," Number of leave days taken (must be greater than 0)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Status:"})," Approved/1 (deducts balance), Rejected/0 (no deduction), or Pending/2 (no deduction)"]})]}),s.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800",children:[s.jsx("strong",{children:"Important:"})," Ensure TotalLeaveDays column contains actual day counts (e.g., 1, 2, 0.5) and not zero values."]})]})]})})]})})]}),s.jsxs(Ee,{className:"mb-6",children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Upload Data File"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ne,{variant:"outline",onClick:y,className:"flex items-center space-x-2",children:[s.jsx(Wi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Balance Template"})]}),s.jsxs(ne,{variant:"outline",onClick:b,className:"flex items-center space-x-2",children:[s.jsx(Wi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Transaction Template"})]})]})]})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"file",className:"text-sm font-medium text-gray-700",children:"Select File"}),s.jsx(pt,{id:"file",type:"file",accept:".csv,.xls,.xlsx",onChange:m,className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: CSV, Excel (.xls, .xlsx)"})]}),e&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(lF,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:e.name}),s.jsxs("p",{className:"text-xs text-blue-600",children:[(e.size/1024).toFixed(1)," KB"]})]}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>g.mutate(e),disabled:g.isPending,children:g.isPending?"Validating...":"Validate"})]})]})})]}),o.length>0&&s.jsxs(Ee,{className:"mb-6 border-red-200",children:[s.jsx(_t,{children:s.jsxs(Et,{className:"text-red-900 flex items-center space-x-2",children:[s.jsx(rf,{className:"w-5 h-5"}),s.jsx("span",{children:"Validation Errors"})]})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-2",children:o.map((w,v)=>s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-red-800",children:[s.jsx(cs,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:w})]},v))})})]}),a&&a.length>0&&s.jsxs(Ee,{className:"mb-6",children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center space-x-2",children:[c?s.jsx(Qn,{className:"w-5 h-5 text-green-600"}):s.jsx(rf,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{children:"Data Preview"}),s.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",a.length," records)"]})]})}),s.jsx(De,{children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"border-b",children:Object.keys(a[0]||{}).map(w=>s.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:w.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase())},w))})}),s.jsx("tbody",{children:a.slice(0,5).map((w,v)=>s.jsx("tr",{className:"border-b",children:Object.values(w).map((j,S)=>s.jsx("td",{className:"py-2 px-3 text-gray-600",children:String(j)},S))},v))})]}),a.length>5&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing first 5 rows of ",a.length," total records"]})]})})]}),c&&s.jsx(Ee,{children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ready to Import"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[a.length," records validated and ready for import"]})]}),s.jsx(ne,{onClick:()=>p.mutate(),disabled:p.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:p.isPending?"Importing...":"Import Data"})]})})})]})})})}function Ru(){const[e,t]=N.useState([]),[r,n]=N.useState(!1),[a,i]=N.useState(null);return N.useEffect(()=>{const l=setTimeout(async()=>{try{if(n(!0),i(null),!localStorage.getItem("jwt_token")){console.log("[ExternalEmployee] No JWT token available, skipping API call"),n(!1);return}const{fetchEmployeeData:u,transformEmployeeData:d}=await A2(async()=>{const{fetchEmployeeData:m,transformEmployeeData:g}=await Promise.resolve().then(()=>ZF);return{fetchEmployeeData:m,transformEmployeeData:g}},void 0);console.log("[ExternalEmployee] Using existing working API...");const h=(await u()).map(m=>({user_id:m.user_id,user_name:m.user_name||`${m.first_name||""} ${m.last_name||""}`.trim()||m.employee_number||`Employee ${m.user_id}`,first_name:m.first_name,last_name:m.last_name,employee_number:m.employee_number,designation:m.designation_name,department:m.band_name,email:m.email,mobile:m.Mobile_number_1,gender:m.gender_name,date_of_joining:m.date_of_joining,type_id_0:m.type_id_0,type_id_1:m.type_id_1}));console.log("[ExternalEmployee] Successfully loaded",h.length,"employees"),t(h)}catch(c){console.log("[ExternalEmployee] External employee data fetch error:",c),i(c instanceof Error?c.message:"Failed to fetch employee data")}finally{n(!1)}},100);return()=>clearTimeout(l)},[]),{employees:e,loading:r,error:a}}const DOe=sa({assigneeName:rr().min(1,"Assignee name is required"),assigneeUserId:rr().min(1,"Assignee user ID is required"),assigneeEmail:rr().email("Valid email is required"),assigneePhone:rr().optional(),taskDescription:rr().min(10,"Task description must be at least 10 characters"),expectedSupportDateFrom:Zl(),expectedSupportDateTo:Zl(),additionalNotes:rr().optional()}),kOe=sa({tasks:is(DOe).min(1,"At least one task is required")});function OOe({leaveRequestId:e,maxTasks:t,onSuccess:r,onCancel:n,className:a,onTasksChange:i}){const{toast:o}=qr(),l=oc(),{employees:c,loading:u}=Ru(),[d,f]=N.useState([{assigneeName:"",assigneeUserId:"",assigneeEmail:"",assigneePhone:"",taskDescription:"",expectedSupportDateFrom:new Date,expectedSupportDateTo:new Date,additionalNotes:""}]),{register:h,handleSubmit:m,formState:{errors:g},watch:p,setValue:y}=us({resolver:Is(kOe),defaultValues:{tasks:d}}),b=Bt({mutationFn:async S=>{const _=S.map(E=>({...E,expectedSupportDateFrom:E.expectedSupportDateFrom.toISOString().split("T")[0],expectedSupportDateTo:E.expectedSupportDateTo.toISOString().split("T")[0],notificationMethod:"email",assigneeUserId:E.assigneeUserId}));return console.log("🚀 Submitting tasks with assigneeUserId:",_.map(E=>({name:E.assigneeName,userId:E.assigneeUserId}))),console.log("🚀 Full task payload:",_),await Tt("POST",`/api/leave-requests/${e}/tasks`,{tasks:_})},onSuccess:()=>{l.invalidateQueries({queryKey:[`/api/leave-requests/${e}/tasks`]}),o({title:"Tasks Created",description:"All task assignments have been created successfully."}),r==null||r()},onError:S=>{o({title:"Error",description:"Failed to create task assignments. Please try again.",variant:"destructive"})}}),x=()=>{const S=[...d,{assigneeName:"",assigneeUserId:"",assigneeEmail:"",assigneePhone:"",taskDescription:"",expectedSupportDateFrom:new Date,expectedSupportDateTo:new Date,additionalNotes:""}];f(S),y("tasks",S),i==null||i(S)},w=S=>{if(d.length>1){const _=d.filter((E,T)=>T!==S);f(_),y("tasks",_),i==null||i(_)}},v=(S,_,E)=>{const T=[...d];T[S]={...T[S],[_]:E},f(T),y("tasks",T),i==null||i(T)},j=S=>{b.mutate(S.tasks)};return s.jsxs("div",{className:rt("space-y-6",a),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vn,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Collaborative Leave Setup"}),s.jsx("p",{className:"text-gray-600",children:"Assign tasks to colleagues to ensure smooth operations during your leave"})]})]}),s.jsxs("form",{onSubmit:m(j),className:"space-y-6",children:[d.map((S,_)=>{var E,T,D,O,A,M,U,B,I,P,C,F,R,se,L;return s.jsxs(Ee,{className:"relative",children:[s.jsxs(_t,{className:"pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Et,{className:"text-lg",children:["Task Assignment ",_+1]}),d.length>1&&s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>w(_),className:"text-red-600 hover:text-red-700",children:s.jsx(Ta,{className:"h-4 w-4"})})]}),s.jsx(of,{children:"Specify who will handle this task and how they should be notified"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{htmlFor:`assigneeName-${_}`,children:"Assignee Name *"}),u?s.jsx(pt,{disabled:!0,value:"Loading employees...",placeholder:"Loading employees..."}):s.jsxs(Dt,{value:S.assigneeUserId||"",onValueChange:q=>{console.log("🔵 Select onValueChange triggered with userId:",q),console.log("🔵 Current task state:",S);const H=c.find(K=>String(K.user_id)===String(q));if(console.log("🔵 Found employee:",H),H){const K={assigneeUserId:String(q),assigneeName:H.user_name||`Employee ${q}`,assigneeEmail:H.email||""};console.log("🔵 Updating task with:",K);const ce=[...d];ce[_]={...ce[_],assigneeUserId:K.assigneeUserId,assigneeName:K.assigneeName,assigneeEmail:K.assigneeEmail},f(ce),y("tasks",ce),i==null||i(ce),console.log("🔵 State updated successfully")}},children:[s.jsx(At,{className:(T=(E=g.tasks)==null?void 0:E[_])!=null&&T.assigneeName?"border-red-500":"",children:s.jsx(kt,{placeholder:"Select a colleague"})}),s.jsx(Ct,{children:c.map(q=>{const H=q.user_name||`Employee ${q.user_id}`,K=q.employee_number?` (${q.employee_number})`:"";return s.jsxs(_e,{value:String(q.user_id),children:[H,K]},q.user_id)})})]},`select-${_}-${S.assigneeUserId}`),((O=(D=g.tasks)==null?void 0:D[_])==null?void 0:O.assigneeName)&&s.jsx("p",{className:"text-sm text-red-500",children:(A=g.tasks[_].assigneeName)==null?void 0:A.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{htmlFor:`assigneeEmail-${_}`,children:"Email Address *"}),s.jsx(pt,{id:`assigneeEmail-${_}`,type:"email",value:S.assigneeEmail,onChange:q=>v(_,"assigneeEmail",q.target.value),placeholder:"colleague@company.com",className:(U=(M=g.tasks)==null?void 0:M[_])!=null&&U.assigneeEmail?"border-red-500":""}),((I=(B=g.tasks)==null?void 0:B[_])==null?void 0:I.assigneeEmail)&&s.jsx("p",{className:"text-sm text-red-500",children:(P=g.tasks[_].assigneeEmail)==null?void 0:P.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{htmlFor:`assigneePhone-${_}`,children:"Phone Number (Optional)"}),s.jsx(pt,{id:`assigneePhone-${_}`,value:S.assigneePhone,onChange:q=>v(_,"assigneePhone",q.target.value),placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{htmlFor:`taskDescription-${_}`,children:"Task Description *"}),s.jsx(Tn,{id:`taskDescription-${_}`,value:S.taskDescription,onChange:q=>v(_,"taskDescription",q.target.value),placeholder:"Describe what needs to be done, include any specific instructions, deadlines, or important details...",rows:4,className:(F=(C=g.tasks)==null?void 0:C[_])!=null&&F.taskDescription?"border-red-500":""}),((se=(R=g.tasks)==null?void 0:R[_])==null?void 0:se.taskDescription)&&s.jsx("p",{className:"text-sm text-red-500",children:(L=g.tasks[_].taskDescription)==null?void 0:L.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{children:"Expected Support Date Range *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(it,{className:"text-xs text-gray-500",children:"From Date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:rt("w-full justify-start text-left font-normal",!S.expectedSupportDateFrom&&"text-muted-foreground"),children:[s.jsx(Pr,{className:"mr-2 h-4 w-4"}),S.expectedSupportDateFrom?ft(S.expectedSupportDateFrom,"PPP"):"Start date"]})}),s.jsx(vo,{className:"w-auto p-0",children:s.jsx(yo,{mode:"single",selected:S.expectedSupportDateFrom,onSelect:q=>q&&v(_,"expectedSupportDateFrom",q),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(it,{className:"text-xs text-gray-500",children:"To Date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:rt("w-full justify-start text-left font-normal",!S.expectedSupportDateTo&&"text-muted-foreground"),children:[s.jsx(Pr,{className:"mr-2 h-4 w-4"}),S.expectedSupportDateTo?ft(S.expectedSupportDateTo,"PPP"):"End date"]})}),s.jsx(vo,{className:"w-auto p-0",children:s.jsx(yo,{mode:"single",selected:S.expectedSupportDateTo,onSelect:q=>q&&v(_,"expectedSupportDateTo",q),initialFocus:!0})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{htmlFor:`additionalNotes-${_}`,children:"Additional Notes (Optional)"}),s.jsx(Tn,{id:`additionalNotes-${_}`,value:S.additionalNotes,onChange:q=>v(_,"additionalNotes",q.target.value),placeholder:"Any additional information, special instructions, or context for this task...",rows:3})]})]})]},_)}),s.jsxs(ne,{type:"button",variant:"outline",onClick:x,className:"w-full border-dashed",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Another Task Assignment"]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n&&s.jsx(ne,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),s.jsx(ne,{type:"submit",disabled:b.isPending,className:"px-8",children:b.isPending?"Creating Tasks...":"Create Task Assignments"})]})]})]})}function k4(){var ya,V,Z,Y,Q,te;const[e,t]=N.useState(!1),[r,n]=N.useState("2025"),[a,i]=N.useState("Yearly"),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[h,m]=N.useState(null),[g,p]=N.useState(""),[y,b]=N.useState(!1),[x,w]=N.useState(""),[v,j]=N.useState(!1),[S,_]=N.useState([]),{toast:E}=qr(),T=Yp(),{employees:D}=Ru(),{workPattern:O,holidays:A,isLoading:M,isWorkingDay:U,isHoliday:B,getHolidayDetails:I,calculateWorkingDays:P}=rh(),C=localStorage.getItem("user_id")||"14674",F=localStorage.getItem("org_id")||"18",R=Bt({mutationFn:async()=>{console.log("[AfterEarning - LeaveApp] Triggering balance recalculation for After Earning leave types");const k=await fetch("/api/recalculate-leave-balances",{method:"POST",headers:{"Content-Type":"application/json","X-Org-Id":F}});if(!k.ok)throw new Error("Recalculation failed");return k.json()},onSuccess:()=>{console.log("[AfterEarning - LeaveApp] Balance recalculation completed successfully"),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),qe.invalidateQueries({queryKey:["/api/employee-leave-balances"]})},onError:k=>{console.error("[AfterEarning - LeaveApp] Balance recalculation failed:",k)}});N.useEffect(()=>{if(console.log("=== EXTERNAL EMPLOYEE DATA DEBUG ==="),console.log("External employees loaded:",(D==null?void 0:D.length)||0),console.log("Current user ID:",C),(D==null?void 0:D.length)>0){const k=D.find(G=>{var ee,re,ie;return((ee=G.user_id)==null?void 0:ee.toString())===C||((re=G.id)==null?void 0:re.toString())===C||((ie=G.employee_number)==null?void 0:ie.toString())===C});console.log("Found current employee:",k),console.log("Employee joining date:",k==null?void 0:k.date_of_joining)}console.log("===================================")},[D,C]),N.useEffect(()=>{var k,G,ee,re,ie;console.log("=== LEAVE PERMISSION DEBUG ==="),console.log("Current role from localStorage:",localStorage.getItem("role")),console.log("Current org_id from localStorage:",localStorage.getItem("org_id")),console.log("Full permissions hook result:",T),console.log("permissions.permissions:",T==null?void 0:T.permissions),console.log("allowOnBehalf from permissions.permissions:",(k=T==null?void 0:T.permissions)==null?void 0:k.allowOnBehalf),console.log("allowOnBehalf.leave:",(ee=(G=T==null?void 0:T.permissions)==null?void 0:G.allowOnBehalf)==null?void 0:ee.leave),console.log("Should show checkbox?",(ie=(re=T==null?void 0:T.permissions)==null?void 0:re.allowOnBehalf)==null?void 0:ie.leave),console.log("================================")},[T]),N.useEffect(()=>{if(new URLSearchParams(window.location.search).get("onBehalf")==="true"){const ee=localStorage.getItem("applyOnBehalfEmployee");if(ee)try{const re=JSON.parse(ee);b(!0),w(re.id),t(!0),localStorage.removeItem("applyOnBehalfEmployee"),window.history.replaceState({},document.title,window.location.pathname)}catch(re){console.error("Error parsing stored employee data:",re)}}},[]),N.useEffect(()=>{e||(b(!1),w(""),J({startDate:"",endDate:"",reason:"",description:"",halfDay:!1,quarterDay:!1,documents:[]}),ae({startHalfDay:!1,endHalfDay:!1}),xe(null),Me([]))},[e]),N.useEffect(()=>{window.dispatchEvent(new CustomEvent("permissions-updated"))},[]);const{data:se=[]}=Fe({queryKey:[`/api/leave-requests?userId=${C}`]}),{data:L=[]}=Fe({queryKey:["/api/leave-types"],staleTime:0,refetchOnMount:!0}),{data:q=[]}=Fe({queryKey:["/api/employee-assignments"]}),{data:H=[]}=Fe({queryKey:["/api/leave-variants"]});N.useEffect(()=>{if(H&&H.length>0&&!R.isPending){const k=H.filter(G=>G.grantLeaves==="after_earning");if(k.length>0){const G=`after_earning_recalc_${F}_${new Date().toDateString()}`;sessionStorage.getItem(G)?console.log("[AfterEarning - LeaveApp] Already recalculated today, skipping"):(console.log("[AfterEarning - LeaveApp] Found After Earning leave types, triggering balance recalculation:",k.map(re=>({id:re.id,name:re.leaveVariantName}))),sessionStorage.setItem(G,"true"),R.mutate())}}},[H,F,R.isPending]);const{data:K=[],refetch:ce}=Fe({queryKey:[`/api/employee-leave-balances/${C}`],enabled:!0,staleTime:0,refetchOnMount:!0}),{data:ue=[]}=Fe({queryKey:[`/api/leave-balance-transactions/${C}`],enabled:!0}),{data:ge=[]}=Fe({queryKey:["/api/blackout-periods"],staleTime:5*60*1e3}),{data:le}=Fe({queryKey:["/api/collaborative-leave-settings"],staleTime:5*60*1e3}),[X,xe]=N.useState(null),[he,Me]=N.useState([]),[Pe,Be]=N.useState(!1),[Ie,W]=N.useState(""),[be,we]=N.useState(!0),[z,J]=N.useState({startDate:"",endDate:"",reason:"",description:"",halfDay:!1,quarterDay:!1,documents:[]}),[pe,ae]=N.useState({startHalfDay:!1,endHalfDay:!1}),ye=(k,G,ee)=>{if(!ge||ge.length===0)return null;console.log("🚫 [Blackout Period Validation] Checking for conflicts:",{userId:k,userIdString:k.toString(),startDate:G.toISOString().split("T")[0],endDate:ee.toISOString().split("T")[0],blackoutPeriods:ge.length});for(const re of ge){const ie=re.assignedEmployees&&(re.assignedEmployees.includes(k.toString())||re.assignedEmployees.includes(parseInt(k)));if(!ie)continue;const oe=new Date(re.startDate),Te=new Date(re.endDate),Se=G<=Te&&oe<=ee;if(console.log("🚫 [Blackout Period Validation] Checking period:",{periodId:re.id,periodTitle:re.title,periodDates:`${oe.toISOString().split("T")[0]} to ${Te.toISOString().split("T")[0]}`,isUserAssigned:ie,hasOverlap:Se,allowLeaves:re.allowLeaves,assignedEmployees:re.assignedEmployees}),Se)if(re.allowLeaves)console.log("🚫 [Blackout Period Info] Leave overlaps with blackout period but applications are allowed:",{periodTitle:re.title,allowLeaves:re.allowLeaves});else{const Ne=oe.toLocaleDateString(),je=Te.toLocaleDateString();return Ne===je?`You are not allowed to apply for leave during the blackout period "${re.title}" on ${Ne}.`:`You are not allowed to apply for leave during the blackout period "${re.title}" from ${Ne} to ${je}.`}}return null},ve=()=>{if(!z.startDate||!z.endDate)return 0;const k=new Date(z.startDate),G=new Date(z.endDate);let ee=P(k,G);return k.getTime()===G.getTime()?(pe.startHalfDay||pe.endHalfDay)&&(ee=.5):(pe.startHalfDay&&(ee-=.5),pe.endHalfDay&&(ee-=.5)),ee},Re=k=>k.toISOString().split("T")[0],Ue=Re(O?new Date(O.startDate):new Date("2025-01-01")),Ge=Re(O?new Date(O.endDate):new Date("2025-12-31")),vt=Array.isArray(q)?q:[],$e=Array.isArray(H)?H:[],ot=vt.filter(k=>k.userId===C&&k.assignmentType==="leave_variant"),Vt=ot.map(k=>k.leaveVariantId),lt=$e.filter(k=>Vt.includes(k.id));console.log("🔍 LEAVE TYPE DEBUG:",{userId:C,totalAssignments:vt.length,userAssignments:ot.length,assignedVariantIds:Vt,availableVariants:lt.length,variantNames:lt.map(k=>k.leaveVariantName)}),D==null||D.find(k=>{var G,ee,re;return((G=k.user_id)==null?void 0:G.toString())===C||((ee=k.id)==null?void 0:ee.toString())===C||((re=k.employee_number)==null?void 0:re.toString())===C}),N.useEffect(()=>{if(console.log("🔍 [Applicable After Debug] Effect triggered:",{selectedLeaveType:(X==null?void 0:X.leaveVariantName)||(X==null?void 0:X.leaveTypeName),applicableAfterType:X==null?void 0:X.applicableAfterType,applicableAfter:X==null?void 0:X.applicableAfter,currentUserId:C,externalEmployeesCount:(D==null?void 0:D.length)||0}),!X){W(""),we(!0);return}if(X.applicableAfterType&&X.applicableAfterType!=="date_of_joining"){console.log("🔍 [Applicable After Debug] Checking eligibility for:",X.applicableAfterType);const k=D==null?void 0:D.find(G=>{var re,ie,oe,Te,Se;const ee=((re=G.user_id)==null?void 0:re.toString())===C||((ie=G.id)==null?void 0:ie.toString())===C||((oe=G.employee_number)==null?void 0:oe.toString())===C;return ee&&console.log("🔍 [Employee Match] Found matching employee:",{emp_user_id:G.user_id,emp_id:G.id,emp_employee_number:G.employee_number,currentUserId:C,matched_on:((Te=G.user_id)==null?void 0:Te.toString())===C?"user_id":((Se=G.id)==null?void 0:Se.toString())===C?"id":"employee_number"}),ee});if(console.log("🔍 [Applicable After Debug] Found employee:",{currentEmployee:k?{user_id:k.user_id,id:k.id,employee_number:k.employee_number,date_of_joining:k.date_of_joining,name:k.user_name||k.name}:"NOT FOUND"}),k&&k.date_of_joining){const G=new Date(k.date_of_joining),ee=new Date;if(console.log("🔍 [Applicable After Debug] Date comparison:",{joiningDate:G.toLocaleDateString(),today:ee.toLocaleDateString(),applicableAfter:X.applicableAfter}),X.applicableAfterType==="days"&&X.applicableAfter>0){const re=new Date(G);if(re.setDate(re.getDate()+X.applicableAfter),console.log("🔍 [Applicable After Debug] Eligibility check:",{eligibleDate:re.toLocaleDateString(),todayLessThanEligible:ee<re}),ee<re){const ie=Math.ceil((re.getTime()-ee.getTime())/864e5),oe=`You can apply for ${X.leaveVariantName||X.leaveTypeName} only after ${X.applicableAfter} days from your joining date (${G.toLocaleDateString()}). Eligible from ${re.toLocaleDateString()} (${ie} days remaining)`;console.log("🚫 [Applicable After Debug] Setting error:",oe),W(oe),we(!1);return}}}else console.log("🔍 [Applicable After Debug] No employee or joining date found")}else console.log("🔍 [Applicable After Debug] No applicable after type or is date_of_joining");console.log("✅ [Applicable After Debug] Leave type is eligible"),W(""),we(!0)},[X,D,C]),console.log("🧮 [Summary Cards Debug] Data loading state:",{leaveTransactionsLoaded:ue.length>0,leaveBalancesLoaded:K.length>0,availableVariantsCount:(lt==null?void 0:lt.length)||0,sampleTransaction:ue[0]||"No transactions",sampleBalance:K[0]||"No balances"}),N.useEffect(()=>{console.log("🔄 [Data Change] LeaveApplications calculation dependencies changed:",{timestamp:new Date().toLocaleTimeString(),transactionCount:ue.length,balanceCount:K.length,variantCount:(lt==null?void 0:lt.length)||0,userId:C})},[ue,K,lt,C]);const qt=Array.isArray(A)?A:[],et=Array.isArray(K)?K:[],Pt=(k,G,ee,re)=>{var vn,rn;const ie=[],oe=P(G,ee);console.log("Validation Debug:",{startDate:G.toISOString().split("T")[0],endDate:ee.toISOString().split("T")[0],actualWorkingDays:oe,variantMaxDays:k.maxDaysInStretch,variantName:k.leaveVariantName});const Te=et.find(bt=>bt.leaveVariantId===k.id),Se=Te?parseFloat(Te.currentBalance):0,Ne=Array.isArray(L)?L.find(bt=>bt.id===k.leaveTypeId):null,je=(Ne==null?void 0:Ne.negativeLeaveBalance)??0;if(je===0)oe>Se&&ie.push(`Insufficient balance. Available: ${Se} days, Requested: ${oe} days. Negative balance is not allowed for this leave type.`);else{const bt=Se-oe,We=-Math.abs(je);bt<We&&ie.push(`Insufficient balance. Available: ${Se} days, Requested: ${oe} days. Maximum negative balance allowed: ${Math.abs(je)} days.`)}((vn=k.leaveVariantName)!=null&&vn.includes("Casual")||(rn=k.leaveVariantName)!=null&&rn.includes("Sick"))&&console.log("🚫 [Negative Balance Validation]:",{variantName:k.leaveVariantName,leaveTypeId:k.leaveTypeId,leaveType:Ne==null?void 0:Ne.name,leaveTypeRaw:Ne,allowNegativeBalance:je,availableDays:Se,requestedDays:oe,wouldResultInBalance:Se-oe,negativeLimit:je>0?-Math.abs(je):"N/A",isNegativeAllowed:je>0,validationCheck:je===0?"STRICT_MODE":"NEGATIVE_ALLOWED",willPassValidation:je===0?oe<=Se:Se-oe>=-Math.abs(je),allLeaveTypes:Array.isArray(L)?L.map(bt=>({id:bt.id,name:bt.name,negativeBalance:bt.negativeLeaveBalance})):"Not array"}),k.minDaysRequired>0&&oe<k.minDaysRequired&&ie.push(`Minimum ${k.minDaysRequired} days required for this leave type`),k.maxDaysInStretch>0&&oe>k.maxDaysInStretch&&(console.log("Max days validation failed:",{actualWorkingDays:oe,maxDaysInStretch:k.maxDaysInStretch,comparison:`${oe} > ${k.maxDaysInStretch}`}),ie.push(`Maximum ${k.maxDaysInStretch} days allowed in a single application`));const Oe=new Date(G);for(;Oe<=ee;){const bt=Oe.toISOString().split("T")[0];if(qt.some(ht=>ht.selectedDate?new Date(ht.selectedDate).toISOString().split("T")[0]===bt:!1)){const ht=qt.find(Nt=>Nt.selectedDate?new Date(Nt.selectedDate).toISOString().split("T")[0]===bt:!1);ie.push(`Cannot apply leave on holiday: ${(ht==null?void 0:ht.holidayName)||"Holiday"} (${bt})`)}Oe.setDate(Oe.getDate()+1)}if(k.mustBePlannedInAdvance>0){const bt=new Date;Math.ceil((G.getTime()-bt.getTime())/(1e3*60*60*24))<k.mustBePlannedInAdvance&&ie.push(`Leave must be planned ${k.mustBePlannedInAdvance} days in advance`)}if(k.applicableAfterType&&k.applicableAfterType!=="date_of_joining"){const bt=D==null?void 0:D.find(We=>{var ht,Nt,qn;return((ht=We.user_id)==null?void 0:ht.toString())===C||((Nt=We.id)==null?void 0:Nt.toString())===C||((qn=We.employee_number)==null?void 0:qn.toString())===C});if(bt&&bt.date_of_joining){const We=new Date(bt.date_of_joining),ht=new Date;if(k.applicableAfterType==="specified_days"&&k.applicableAfterDays>0){const Nt=new Date(We);if(Nt.setDate(Nt.getDate()+k.applicableAfterDays),ht<Nt){const qn=Math.ceil((Nt.getTime()-ht.getTime())/864e5);ie.push(`You can apply for ${k.leaveVariantName||k.leaveTypeName} only after ${k.applicableAfterDays} days from your joining date (${We.toLocaleDateString()}). Eligible from ${Nt.toLocaleDateString()} (${qn} days remaining)`)}}else k.applicableAfterType==="probation_period_ends"&&console.log("Probation period validation would be implemented here with employee probation data")}else console.warn(`Cannot validate "Applicable after" for user ${C} - no joining date available`)}if(!k.allowLeavesBeforeWeekend){const bt=new Date(ee);bt.setDate(bt.getDate()+1),(bt.getDay()===6||bt.getDay()===0)&&ie.push("Leave cannot be taken before weekends")}k.supportingDocuments&&z.documents.length===0&&ie.push("Supporting documents are required for this leave type");const He=zn.filter(bt=>new Date(bt.startDate).getFullYear()===parseInt(r)&&bt.leaveTypeId===k.leaveTypeId);k.maxInstances>0&&He.length>=k.maxInstances&&ie.push(`Maximum ${k.maxInstances} applications allowed per ${k.maxInstancesPeriod}`);const Je=y&&x?x:C,Rt=Array.isArray(se)?se:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",Je),console.log("🔍 [Date Conflict Debug] Existing requests:",Rt.length),console.log("🔍 [Date Conflict Debug] Date range:",G.toISOString().split("T")[0],"to",ee.toISOString().split("T")[0]);const Wt=Rt.filter(bt=>{if(console.log("🔍 [Date Conflict Debug] Checking request:",{id:bt.id,userId:bt.userId,status:bt.status,startDate:bt.startDate,endDate:bt.endDate,editingId:o==null?void 0:o.id}),o&&bt.id===o.id)return console.log("🔍 [Date Conflict Debug] Skipping current editing request"),!1;if(!["approved","pending"].includes(bt.status))return console.log("🔍 [Date Conflict Debug] Skipping non-pending/approved request:",bt.status),!1;if(bt.userId!==Je)return console.log("🔍 [Date Conflict Debug] Skipping different user:",bt.userId,"vs",Je),!1;const We=new Date(bt.startDate),ht=new Date(bt.endDate);console.log("🔍 [Date Conflict Debug] Date comparison:",{newStart:G.toISOString().split("T")[0],newEnd:ee.toISOString().split("T")[0],existingStart:We.toISOString().split("T")[0],existingEnd:ht.toISOString().split("T")[0]});const Nt=G<=ht&&We<=ee;return console.log("🔍 [Date Conflict Debug] Overlap check result:",Nt),Nt});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",Wt.length),Wt.length>0){const bt=Wt[0],We=new Date(bt.startDate).toLocaleDateString(),ht=new Date(bt.endDate).toLocaleDateString(),Nt=bt.status==="approved"?"approved":"pending approval";console.log("🔍 [Date Conflict Debug] Adding conflict error:",{conflictStart:We,conflictEnd:ht,statusText:Nt}),We===ht?ie.push(`You already have a ${Nt} leave request on ${We}`):ie.push(`You already have a ${Nt} leave request from ${We} to ${ht}`)}return ie},Cr=k=>{console.log("🎯 [Leave Type Change] Function called with:",{variantId:k,variantIdType:typeof k,availableVariantsCount:lt.length,availableVariants:lt.map(ee=>({id:ee.id,idType:typeof ee.id,idString:ee.id.toString(),name:ee.leaveVariantName}))});const G=lt.find(ee=>ee.id.toString()===k);console.log("🎯 [Leave Type Change] Selected variant:",{variantId:k,variant:G?{id:G.id,leaveVariantName:G.leaveVariantName,leaveTypeName:G.leaveTypeName,applicableAfterType:G.applicableAfterType,applicableAfterDays:G.applicableAfterDays}:"NOT FOUND"}),xe(G),Me([]),z.startDate&&z.endDate&&(console.log("🎯 [Leave Type Change] Dates already selected, triggering validation with new leave type"),setTimeout(()=>{xc(z,G)},100)),console.log("🎯 [Leave Type Change] State updated, selectedLeaveType should be:",(G==null?void 0:G.leaveVariantName)||"undefined")},Hn=k=>{if(console.log("🔥 validateDatesWithData CALLED!",{selectedLeaveType:X==null?void 0:X.leaveVariantName,startDate:k.startDate,endDate:k.endDate,currentUserId:C}),!k.startDate||!k.endDate){console.log("Early return - missing dates"),Me([]);return}const G=new Date(k.startDate),ee=new Date(k.endDate);if(isNaN(G.getTime())||isNaN(ee.getTime())){Me([]);return}if(ee<G){Me([]);return}let re=[];if(X){P(G,ee);const Ne=Pt(X,G,ee);re.push(...Ne)}const ie=y&&x?x:C,oe=Array.isArray(se)?se:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",ie),console.log("🔍 [Date Conflict Debug] Existing requests:",oe.length),console.log("🔍 [Date Conflict Debug] Date range:",G.toISOString().split("T")[0],"to",ee.toISOString().split("T")[0]);const Te=oe.filter(Ne=>{if(o&&Ne.id===o.id||!["approved","pending"].includes(Ne.status)||Ne.userId!==ie)return!1;const je=new Date(Ne.startDate),Oe=new Date(Ne.endDate),He=G<=Oe&&je<=ee;return console.log("🔍 [Date Conflict Debug] Checking request:",{id:Ne.id,dates:`${je.toISOString().split("T")[0]} to ${Oe.toISOString().split("T")[0]}`,hasOverlap:He}),He});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",Te.length),Te.length>0){const Ne=Te[0],je=new Date(Ne.startDate).toLocaleDateString(),Oe=new Date(Ne.endDate).toLocaleDateString(),He=Ne.status==="approved"?"approved":"pending approval";je===Oe?re.push(`You already have a ${He} leave request on ${je}`):re.push(`You already have a ${He} leave request from ${je} to ${Oe}`)}const Se=ye(ie,G,ee);Se&&re.push(Se),Me(re)},xc=(k,G)=>{if(console.log("🔥 validateDatesWithVariant CALLED!",{variantName:(G==null?void 0:G.leaveVariantName)||"none",startDate:k.startDate,endDate:k.endDate,currentUserId:C}),!k.startDate||!k.endDate){console.log("Early return - missing dates"),Me([]);return}const ee=new Date(k.startDate),re=new Date(k.endDate);if(isNaN(ee.getTime())||isNaN(re.getTime())){Me([]);return}if(re<ee){Me([]);return}let ie=[];if(G){P(ee,re);const je=Pt(G,ee,re);ie.push(...je)}const oe=y&&x?x:C,Te=Array.isArray(se)?se:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",oe),console.log("🔍 [Date Conflict Debug] Existing requests:",Te.length),console.log("🔍 [Date Conflict Debug] Date range:",ee.toISOString().split("T")[0],"to",re.toISOString().split("T")[0]);const Se=Te.filter(je=>{if(o&&je.id===o.id||!["approved","pending"].includes(je.status)||je.userId!==oe)return!1;const Oe=new Date(je.startDate),He=new Date(je.endDate),Je=ee<=He&&Oe<=re;return console.log("🔍 [Date Conflict Debug] Checking request:",{id:je.id,dates:`${Oe.toISOString().split("T")[0]} to ${He.toISOString().split("T")[0]}`,hasOverlap:Je}),Je});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",Se.length),Se.length>0){const je=Se[0],Oe=new Date(je.startDate).toLocaleDateString(),He=new Date(je.endDate).toLocaleDateString(),Je=je.status==="approved"?"approved":"pending approval";Oe===He?ie.push(`You already have a ${Je} leave request on ${Oe}`):ie.push(`You already have a ${Je} leave request from ${Oe} to ${He}`)}const Ne=ye(oe,ee,re);Ne&&ie.push(Ne),Me(ie)},Xo=()=>{if(console.log("🔥 validateDates CALLED!",{selectedLeaveType:X==null?void 0:X.leaveVariantName,startDate:z.startDate,endDate:z.endDate,currentUserId:C}),!z.startDate||!z.endDate){console.log("Early return - missing dates"),Me([]);return}console.log("🔍 [Date Conflict Debug] Starting validation in validateDates"),console.log("🔍 [Date Conflict Debug] Current leave requests length:",(se==null?void 0:se.length)||0),console.log("🔍 [Date Conflict Debug] Current user ID:",C),console.log("🔍 [Date Conflict Debug] Selected leave type:",(X==null?void 0:X.leaveVariantName)||"None selected");const k=new Date(z.startDate),G=new Date(z.endDate);if(isNaN(k.getTime())||isNaN(G.getTime())){Me([]);return}if(G<k){Me([]);return}let ee=[];if(X){P(k,G);const Se=Pt(X,k,G);ee.push(...Se)}console.log("🔍 [Date Conflict Debug] Starting validation in validateDates");const re=y&&x?x:C,ie=Array.isArray(se)?se:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",re),console.log("🔍 [Date Conflict Debug] Existing requests:",ie.length),console.log("🔍 [Date Conflict Debug] Date range:",k.toISOString().split("T")[0],"to",G.toISOString().split("T")[0]),console.log("🔍 [Date Conflict Debug] All existing requests for user",re,":"),ie.forEach((Se,Ne)=>{Se.userId===re&&console.log(`  Request ${Ne+1}: ${Se.startDate} to ${Se.endDate} (${Se.status})`)});const oe=ie.filter(Se=>{if(console.log("🔍 [Date Conflict Debug] Checking request:",{id:Se.id,userId:Se.userId,status:Se.status,startDate:Se.startDate,endDate:Se.endDate,editingId:o==null?void 0:o.id}),o&&Se.id===o.id)return console.log("🔍 [Date Conflict Debug] Skipping current editing request"),!1;if(!["approved","pending"].includes(Se.status))return console.log("🔍 [Date Conflict Debug] Skipping non-pending/approved request:",Se.status),!1;if(Se.userId!==re)return console.log("🔍 [Date Conflict Debug] Skipping different user:",Se.userId,"vs",re),!1;const Ne=new Date(Se.startDate),je=new Date(Se.endDate);console.log("🔍 [Date Conflict Debug] Date comparison:",{newStart:k.toISOString().split("T")[0],newEnd:G.toISOString().split("T")[0],existingStart:Ne.toISOString().split("T")[0],existingEnd:je.toISOString().split("T")[0]});const Oe=k<=je&&Ne<=G;return console.log("🔍 [Date Conflict Debug] Overlap check result:",Oe),Oe});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",oe.length),oe.length>0){const Se=oe[0],Ne=new Date(Se.startDate).toLocaleDateString(),je=new Date(Se.endDate).toLocaleDateString(),Oe=Se.status==="approved"?"approved":"pending approval";console.log("🔍 [Date Conflict Debug] Adding conflict error:",{conflictStart:Ne,conflictEnd:je,statusText:Oe}),Ne===je?ee.push(`You already have a ${Oe} leave request on ${Ne}`):ee.push(`You already have a ${Oe} leave request from ${Ne} to ${je}`)}const Te=ye(re,k,G);Te&&ee.push(Te),Me(ee)},ro=Bt({mutationFn:async k=>{const ee={...k,userId:y&&x?x:C,collaborativeTasks:S},re=await Tt("POST","/api/leave-requests",ee);if(k.collaborativeTasks&&k.collaborativeTasks.length>0){console.log("🚀 Creating collaborative tasks for leave request:",re.id);const ie=k.collaborativeTasks.map(oe=>({assigneeUserId:oe.assigneeUserId,assigneeName:oe.assigneeName,assigneeEmail:oe.assigneeEmail,taskDescription:oe.taskDescription,expectedSupportDateFrom:oe.expectedSupportDateFrom,expectedSupportDateTo:oe.expectedSupportDateTo,additionalNotes:oe.additionalNotes,notificationMethod:"email"}));await Tt("POST",`/api/leave-requests/${re.id}/tasks`,{tasks:ie}),console.log("🚀 Tasks created successfully")}return re},onSuccess:()=>{const k=y&&x?x:C;qe.invalidateQueries({queryKey:[`/api/leave-requests?userId=${C}`]}),qe.invalidateQueries({queryKey:[`/api/leave-requests?userId=${k}`]}),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${k}`]}),qe.invalidateQueries({queryKey:["/api/leave-requests"]}),qe.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),qe.invalidateQueries({queryKey:["/api/leave-balance-transactions"]}),qe.invalidateQueries({queryKey:[`/api/leave-balance-transactions/${C}`]}),qe.invalidateQueries({queryKey:[`/api/leave-balance-transactions/${k}`]}),qe.refetchQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),k!==C&&qe.refetchQueries({queryKey:[`/api/employee-leave-balances/${k}`]}),t(!1),xe(null),Me([]),Be(!1),J({startDate:"",endDate:"",reason:"",description:"",halfDay:!1,quarterDay:!1,documents:[]}),ae({startHalfDay:!1,endHalfDay:!1});const G=data.collaborativeTasks&&data.collaborativeTasks.length>0;E({title:"Success",description:G?"Leave application submitted successfully with task assignments created":"Leave application submitted successfully"})},onError:k=>{Be(!1),E({title:"Error",description:k.message||"Failed to submit leave application",variant:"destructive"})}}),Qo=Bt({mutationFn:async k=>Tt("DELETE",`/api/leave-requests/${k}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-requests"]}),qe.invalidateQueries({queryKey:[`/api/leave-requests?userId=${C}`]}),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${C}`,{year:r}]}),qe.refetchQueries({queryKey:[`/api/leave-requests?userId=${C}`]}),qe.refetchQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),E({title:"Success",description:"Leave request cancelled successfully"})},onError:k=>{E({title:"Error",description:k.message||"Failed to cancel leave request",variant:"destructive"})}}),ws=Bt({mutationFn:async({id:k,data:G})=>Tt("PUT",`/api/leave-requests/${k}`,G),onSuccess:()=>{qe.invalidateQueries({queryKey:[`/api/leave-requests?userId=${C}`]}),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),qe.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),qe.invalidateQueries({queryKey:["/api/leave-variants"]}),qe.invalidateQueries({queryKey:["/api/leave-requests"]}),qe.invalidateQueries({queryKey:["/api/leave-balance-transactions"]}),qe.invalidateQueries({queryKey:[`/api/leave-balance-transactions/${C}`]}),qe.refetchQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),u(!1),l(null),xe(null),Me([]),E({title:"Success",description:"Leave request updated successfully"})},onError:k=>{E({title:"Error",description:k.message||"Failed to update leave request",variant:"destructive"})}}),_i=Bt({mutationFn:async({id:k,reason:G})=>Tt("POST",`/api/leave-requests/${k}/withdraw`,{reason:G}),onSuccess:async()=>{qe.invalidateQueries({queryKey:[`/api/leave-requests?userId=${C}`]}),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${C}`,{year:r}]}),qe.invalidateQueries({queryKey:[`/api/employee-leave-balances/${C}`]}),qe.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),qe.invalidateQueries({queryKey:["/api/leave-variants"]}),await ce(),f(!1),m(null),p(""),E({title:"Success",description:"Withdrawal request submitted successfully"})},onError:k=>{E({title:"Error",description:k.message||"Failed to submit withdrawal request",variant:"destructive"})}}),Mu=k=>{console.log("[EDIT] Editing request:",k),console.log("[EDIT] Available leave types:",L),console.log("[EDIT] Available leave variants:",H),console.log("[EDIT] Available leave variants (mapped):",lt);const G=Array.isArray(lt)?lt:[];let ee=G.find(re=>re.leaveTypeId===k.leaveTypeId);if(!ee&&k.leaveVariantId&&(ee=G.find(re=>re.id===k.leaveVariantId)),console.log("[EDIT] Found variant for leaveTypeId",k.leaveTypeId,":",ee),ee){xe(ee);const re={...k,variantId:ee.id};l(re)}else console.log("[EDIT] No variant found, using request as-is"),l(k);u(!0)},me=k=>{confirm("Are you sure you want to cancel this leave request?")&&Qo.mutate(k)},tt=k=>{m(k),f(!0)},vr=()=>{h&&g.trim()&&_i.mutate({id:h,reason:g.trim()})},on=async k=>{var bt,We,ht;if(k.preventDefault(),Pe||ro.isPending){console.log("Submission blocked - already in progress");return}if(Be(!0),!X){E({title:"Validation Error",description:"Please select a leave type",variant:"destructive"}),Be(!1);return}const G=new FormData(k.currentTarget),ee=G.get("startDate"),re=G.get("endDate"),ie=new Date(ee+"T00:00:00"),oe=new Date(re+"T00:00:00"),Te=G.get("startHalfDay")==="on",Se=G.get("endHalfDay")==="on";if(G.get("description"),!M&&O){if(console.log("🔍 [Working Day Validation] Checking dates:",{startDate:ie.toISOString().split("T")[0],endDate:oe.toISOString().split("T")[0],startDateDay:ie.getDay(),endDateDay:oe.getDay(),isStartWorkingDay:U(ie),isEndWorkingDay:U(oe),workPattern:O==null?void 0:O.patternName,nonWorkingDays:O==null?void 0:O.nonWorkingDays}),!U(ie)||!U(oe)){const Nt=O?`According to your work pattern "${O.patternName}", `:"",qn=((ht=(We=(bt=O==null?void 0:O.nonWorkingDays)==null?void 0:bt[0])==null?void 0:We.days)==null?void 0:ht.join(", "))||"weekends";E({title:"Invalid Date Selection",description:`${Nt}${qn} are non-working days. Please select only working days.`,variant:"destructive"});return}}else{const Nt=ie.getDay()===0||ie.getDay()===6,qn=oe.getDay()===0||oe.getDay()===6;if(console.log("🔍 [Fallback Weekend Check] Work pattern not loaded, using simple weekend check:",{startDate:ie.toISOString().split("T")[0],endDate:oe.toISOString().split("T")[0],isStartWeekend:Nt,isEndWeekend:qn,workPatternLoading:M,workPatternExists:!!O}),Nt||qn){E({title:"Invalid Date Selection",description:"Please select working days only. Weekends are not allowed.",variant:"destructive"});return}}let Ne=P(ie,oe),je=Ne;console.log("📅 INITIAL CALCULATION:",Ne,"working days"),console.log("=== WORKING DAYS CALCULATION DEBUG ==="),console.log("Start Date:",ie.toISOString().split("T")[0]),console.log("End Date:",oe.toISOString().split("T")[0]),console.log("Calculated Working Days:",Ne),console.log("Work Pattern Loading Status:",M),console.log("Work Pattern Data:",O),console.log("Available Holidays from useWorkPattern:",(A==null?void 0:A.length)||0),console.log("Holidays Array Length:",qt.length),console.log("Full Holidays Array:",qt);const Oe=new Date("2025-08-15");if(ie<=Oe&&Oe<=oe){console.log("Aug 15th is in range - checking if holiday"),console.log("Aug 15th is holiday (useWorkPattern):",B(Oe)),console.log("Aug 15th holiday details (useWorkPattern):",I(Oe));const Nt="2025-08-15",qn=qt.find(ke=>ke.selectedDate?new Date(ke.selectedDate).toISOString().split("T")[0]===Nt:!1);console.log("Manual Aug 15th holiday search result:",qn)}console.log("=== DAY BY DAY ANALYSIS ===");const He=new Date(ie);for(;He<=oe;){const Nt=He.toISOString().split("T")[0];console.log(`${Nt}: Working Day=${U(He)}, Holiday=${B(He)}`),He.setDate(He.getDate()+1)}if(console.log("==============================="),console.log("✅ Using dynamic working days calculation:",Ne),ie.getTime()===oe.getTime()?(Te||Se)&&(Ne=.5,je=.5):(Te&&(Ne-=.5,je-=.5),Se&&(Ne-=.5,je-=.5)),y&&!x){E({title:"Validation Error",description:"Please select an employee when applying on behalf",variant:"destructive"});return}Me([]);const Je=Pt(X,ie,oe);if(console.log("Validation errors:",Je),Je.length>0){Me(Je),E({title:"Validation Error",description:Je[0],variant:"destructive"});return}const Rt=y&&x?x:C,Wt=ye(Rt,ie,oe);if(Wt){Me([Wt]),E({title:"Blackout Period Restriction",description:Wt,variant:"destructive"}),Be(!1);return}let vn=[];if(z.documents.length>0)try{const Nt=new FormData;z.documents.forEach((ke,Lt)=>{Nt.append("documents",ke)});const qn=await fetch("/api/upload-documents",{method:"POST",headers:{"X-Org-Id":F.toString()},body:Nt});if(qn.ok)vn=(await qn.json()).documents.map(Lt=>Lt.url);else{E({title:"Upload Error",description:"Failed to upload documents. Please try again.",variant:"destructive"}),Be(!1);return}}catch(Nt){console.error("Error uploading documents:",Nt),E({title:"Upload Error",description:"Failed to upload documents. Please try again.",variant:"destructive"}),Be(!1);return}const rn={userId:Rt,leaveTypeId:X.leaveTypeId,startDate:G.get("startDate")+"T00:00:00",endDate:G.get("endDate")+"T00:00:00",totalDays:je,workingDays:Ne,reason:G.get("reason"),description:z.description,documents:vn,status:"pending"};o?ws.mutate({id:o.id,data:rn}):ro.mutate(rn)},sr=Array.isArray(se)?se:[],zn=sr.sort((k,G)=>{if(k.status==="withdrawal_pending"&&G.status!=="withdrawal_pending")return-1;if(G.status==="withdrawal_pending"&&k.status!=="withdrawal_pending")return 1;const ee=new Date(k.createdAt||k.startDate).getTime();return new Date(G.createdAt||G.startDate).getTime()-ee});sr.length,sr.filter(k=>k.status==="pending").length,console.log("=== BALANCE CALCULATION DEBUG ==="),console.log("Current user ID:",C),console.log("User assignments:",ot),console.log("Assigned variant IDs:",Vt),console.log("Available leave variants:",lt),console.log("Leave balances for user",C,":",et),console.log("Raw leaveBalances from API:",K),console.log("All assignments array from API:",q),console.log("All assignments length:",q.length);const tn=et.filter(k=>Vt.includes(k.leaveVariantId));console.log("Filtered balances for summary cards:",tn),console.log("Total entitlement calculation:",tn.map(k=>({variantId:k.leaveVariantId,totalEntitlement:k.totalEntitlement,parsed:parseFloat(k.totalEntitlement||"0")})));const bs=tn.reduce((k,G)=>k+parseFloat(G.totalEntitlement||"0"),0);console.log("Total entitlement sum:",bs);const Ei=tn.reduce((k,G)=>{const ee=parseFloat(G.currentBalance||"0");return k+(ee>0?ee:0)},0);return console.log("=== TOTAL BALANCE CALCULATION ==="),console.log("Filtered balances used for total:",tn.map(k=>({variantId:k.leaveVariantId,currentBalance:k.currentBalance,parsed:parseFloat(k.currentBalance||"0")}))),console.log("Step by step calculation:"),tn.forEach((k,G)=>{const ee=parseFloat(k.currentBalance||"0"),re=ee>0;console.log(`  ${G+1}. Variant ${k.leaveVariantId}: ${k.currentBalance} -> ${ee} (include: ${re})`)}),console.log("Total balance result:",Ei),console.log("Should equal sum of visible balances: 13.5 + 4.0 + 9.0 = 26.5"),console.log("=================================="),s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Leave Applications"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Dt,{value:a,onValueChange:i,children:[s.jsx(At,{className:"w-32",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Yearly",children:"Yearly"}),s.jsx(_e,{value:"Monthly",children:"Monthly"}),s.jsx(_e,{value:"Quarterly",children:"Quarterly"})]})]}),s.jsxs(Dt,{value:r,onValueChange:n,children:[s.jsx(At,{className:"w-24",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2025",children:"2025"}),s.jsx(_e,{value:"2024",children:"2024"}),s.jsx(_e,{value:"2023",children:"2023"})]})]}),s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsx(pf,{asChild:!0,children:s.jsx(ne,{className:"bg-green-600 hover:bg-green-700 text-white",children:"Apply for Leave"})})})]})]}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx(Ee,{className:"flex-1",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(()=>{let k=0;return lt.forEach(G=>{const ee=et.find(He=>He.leaveVariantId===G.id),ie=(Array.isArray(ue)?ue.filter(He=>He.leaveVariantId===G.id):[]).filter(He=>{var Je;return He.transactionType==="grant"&&((Je=He.description)==null?void 0:Je.toLowerCase().includes("opening balance imported from excel"))}).sort((He,Je)=>new Date(Je.createdAt).getTime()-new Date(He.createdAt).getTime()),oe=ie.length>0?parseFloat(ie[0].amount||"0"):0,Te=ee?parseFloat(ee.currentBalance||"0"):0,Se=ee?parseFloat(ee.totalEntitlement||"0"):0,Ne=G.grantLeaves==="after_earning";let je=0;if(console.log(`🔍 [ELIGIBILITY DEBUG] ${G.leaveTypeName}:`,{grantLeaves:G.grantLeaves,grantFrequency:G.grantFrequency,isAfterEarning:Ne,totalEntitlementInDays:Se,currentBalanceInDays:Te,openingBalance:oe,annualLeaveAllocation:G.annualLeaveAllocation}),Ne){const Je=new Date().getMonth()+1-1;je=(Se||G.annualLeaveAllocation||0)/12*Je}else{const He=Se||G.annualLeaveAllocation||0;if(G.grantFrequency==="per_year")je=He;else{const Je=new Date().getMonth()+1;je=He/12*Je}}const Oe=je+oe;k+=Oe}),k.toFixed(1)})()}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Total Leaves"})]})}),s.jsx(Ee,{className:"flex-1",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:(()=>{const k=ue.filter(ee=>ee.userId===C);console.log("💳 [TOTAL AVAILED CALCULATION] Starting calculation:",{totalTransactions:ue.length,userTransactions:k.length,currentUserId:C,availableVariants:(lt==null?void 0:lt.length)||0,requestsArrayLength:sr.length,variantIds:lt.slice(0,3).map(ee=>ee.id),sampleRequestVariantIds:sr.slice(0,5).map(ee=>ee.leaveVariantId)});let G=0;return lt.forEach(ee=>{const re=ee.leaveBalanceDeductionBefore===!0;let ie=0;const oe=sr.filter(Je=>{const Rt=Je.leaveVariantId===ee.id,Wt=(Je.leaveVariantId===null||Je.leaveVariantId===void 0)&&(Je.leaveTypeId===ee.leaveTypeId||String(Je.leaveTypeId)===String(ee.leaveTypeId)||Number(Je.leaveTypeId)===Number(ee.leaveTypeId));return ee.leaveTypeName==="Earned Leave"&&ie<3&&(console.log(`🔍 MATCHING DEBUG for ${ee.leaveTypeName} (request ${ie+1}):`,{reqId:Je.id,reqLeaveVariantId:Je.leaveVariantId,reqLeaveTypeId:Je.leaveTypeId,reqLeaveTypeIdType:typeof Je.leaveTypeId,variantId:ee.id,variantLeaveTypeId:ee.leaveTypeId,variantLeaveTypeIdType:typeof ee.leaveTypeId,variantIdMatch:Rt,typeIdMatch:Wt,finalMatch:Rt||Wt}),ie++),Rt||Wt}),Te=oe.filter(Je=>Je.status==="approved"),Se=Te.reduce((Je,Rt)=>Je+parseFloat(Rt.workingDays||"0"),0);let Ne=0;re&&(Ne=oe.filter(Rt=>Rt.status==="pending").reduce((Rt,Wt)=>Rt+parseFloat(Wt.workingDays||"0"),0));const Oe=k.filter(Je=>Je.leaveVariantId===ee.id).filter(Je=>{var Rt,Wt;return((Rt=Je.description)==null?void 0:Rt.toLowerCase().includes("imported leave transaction"))&&((Wt=Je.description)==null?void 0:Wt.toLowerCase().includes("availed"))&&(Je.transactionType==="deduction"||Je.transactionType==="debit")}).reduce((Je,Rt)=>Je+Math.abs(parseFloat(Rt.amount||"0")),0),He=Se+Ne+Oe;console.log(`🎯 [VARIANT DEBUG] ${ee.leaveTypeName||ee.leaveVariantName}:`,{currentUserId:C,variantId:ee.id,variantLeaveTypeId:ee.leaveTypeId,isBeforeWorkflow:re,requestsArrayLength:sr.length,matchingRequests:oe.length,matchingRequestSample:oe.slice(0,3).map(Je=>({id:Je.id,leaveVariantId:Je.leaveVariantId,leaveTypeId:Je.leaveTypeId,status:Je.status,workingDays:Je.workingDays})),approvedRequests:Te.length,approvedDays:Se,pendingDays:Ne,importedAvailed:Oe,variantAvailed:He,runningTotal:G+He}),G+=He}),console.log("💳 [TOTAL AVAILED RESULT] Final calculation:",{totalAvailed:G,formattedResult:G.toFixed(1)}),G.toFixed(1)})()}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Total Availed"})]})}),s.jsx(Ee,{className:"flex-1",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(sr==null?void 0:sr.filter(k=>k.status==="pending").length)||0}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Pending approvals"})]})}),s.jsx(Ee,{className:"flex-1",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(()=>{let k=0;return console.log("🟢 [BALANCE CARD DEBUG] Starting calculation..."),lt.forEach(G=>{const ee=et.find(We=>We.leaveVariantId===G.id),re=Array.isArray(ue)?ue.filter(We=>We.leaveVariantId===G.id):[],ie=re.filter(We=>{var ht;return We.transactionType==="grant"&&((ht=We.description)==null?void 0:ht.toLowerCase().includes("opening balance imported from excel"))}).sort((We,ht)=>new Date(ht.createdAt).getTime()-new Date(We.createdAt).getTime()),oe=ie.length>0?parseFloat(ie[0].amount||"0"):0;ee&&parseFloat(ee.currentBalance||"0");const Te=ee?parseFloat(ee.totalEntitlement||"0"):0,Se=G.grantLeaves==="after_earning";let Ne=0;if(Se){const ht=new Date().getMonth()+1-1;Ne=(Te||G.annualLeaveAllocation||0)/12*ht}else{const We=Te||G.annualLeaveAllocation||0;if(G.grantFrequency==="per_year")Ne=We;else{const ht=new Date().getMonth()+1;Ne=We/12*ht}}const je=Ne+oe,Oe=G.leaveBalanceDeductionBefore===!0,He=sr.filter(We=>We.leaveVariantId===G.id||(We.leaveVariantId===null||We.leaveVariantId===void 0)&&We.leaveTypeId===G.leaveTypeId),Rt=He.filter(We=>We.status==="approved").reduce((We,ht)=>We+parseFloat(ht.workingDays||"0"),0);let Wt=0;Oe&&(Wt=He.filter(ht=>ht.status==="pending").reduce((ht,Nt)=>ht+parseFloat(Nt.workingDays||"0"),0));const vn=re.filter(We=>{var ht,Nt;return((ht=We.description)==null?void 0:ht.toLowerCase().includes("imported leave transaction"))&&((Nt=We.description)==null?void 0:Nt.toLowerCase().includes("availed"))&&(We.transactionType==="deduction"||We.transactionType==="debit")}).reduce((We,ht)=>We+Math.abs(parseFloat(ht.amount||"0")),0),rn=Rt+Wt+vn,bt=je-rn;console.log(`🟢 [BALANCE CARD] ${G.leaveTypeName}: totalEligibility=${je}, availed=${rn}, closingBalance=${bt}`),k+=bt}),console.log(`🟢 [BALANCE CARD RESULT] Final closing balance sum: ${k}`),k.toFixed(1)})()}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Balance"})]})})]}),s.jsxs(Ee,{className:"mb-6",children:[s.jsx(_t,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"i"})}),s.jsx(Et,{className:"text-lg font-semibold text-gray-800",children:"Leave Balance Information"})]})}),s.jsx(De,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Leave Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Op Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Eligibility"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total Eligibility"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Availed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"LOP"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Leave Lapsed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Leave Encashed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Closing Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Max Leave Carry Forward"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:lt.map(k=>{const G=et.find(ke=>ke.leaveVariantId===k.id),ee=Array.isArray(ue)?ue.filter(ke=>ke.leaveVariantId===k.id):[],re=Array.isArray(ue)?ue.filter(ke=>{var uT;const Lt=ke.transactionType==="grant"&&((uT=ke.description)==null?void 0:uT.toLowerCase().includes("opening balance imported from excel")),js=ke.userId===C;if(!Lt||!js)return!1;if(ke.leaveVariantId===k.id)return!0;const Fu=lt.find(S7=>S7.id===ke.leaveVariantId);return(Fu==null?void 0:Fu.leaveTypeName)===k.leaveTypeName||(Fu==null?void 0:Fu.leaveTypeId)===k.leaveTypeId||k.leaveTypeName==="Earned Leave"&&(ke.leaveVariantId===67&&k.id===61||ke.leaveVariantId===61&&k.id===67)}).sort((ke,Lt)=>new Date(Lt.createdAt).getTime()-new Date(ke.createdAt).getTime()):[];k.leaveTypeName==="Earned Leave"&&C==="241"&&console.log(`🔍 [OPENING BALANCE DEBUG] ${k.leaveTypeName} for user ${C}:`,{variantId:k.id,totalTransactions:ee.length,totalLeaveTransactions:Array.isArray(ue)?ue.length:0,openingBalanceTransactions:re.length,availableVariantsCount:lt.length,earnedLeaveVariants:lt.filter(ke=>ke.leaveTypeName==="Earned Leave").map(ke=>({id:ke.id,name:ke.leaveTypeName,leaveTypeId:ke.leaveTypeId})),openingBalanceTransactionSample:re.slice(0,3).map(ke=>({id:ke.id,type:ke.transactionType,description:ke.description,amount:ke.amount,variantId:ke.leaveVariantId})),allOpeningBalanceTransactionsForUser:Array.isArray(ue)?ue.filter(ke=>{var Lt;return ke.userId===C&&ke.transactionType==="grant"&&((Lt=ke.description)==null?void 0:Lt.toLowerCase().includes("opening balance"))}).map(ke=>{var Lt;return{id:ke.id,type:ke.transactionType,description:ke.description,amount:ke.amount,variantId:ke.leaveVariantId,variantName:((Lt=lt.find(js=>js.id===ke.leaveVariantId))==null?void 0:Lt.leaveTypeName)||"UNKNOWN"}}):[]});const ie=re.reduce((ke,Lt)=>(C==="241"&&k.leaveTypeName==="Earned Leave"&&console.log(`🔍 [OPENING BALANCE CALC] Adding transaction ${Lt.id}:`,{amount:Lt.amount,description:Lt.description,variantId:Lt.leaveVariantId,currentSum:ke,newSum:ke+parseFloat(Lt.amount||"0")}),ke+parseFloat(Lt.amount||"0")),0),oe=k.grantLeaves==="after_earning",Te=G?parseFloat(G.currentBalance||"0"):0,Se=G?parseFloat(G.totalEntitlement||"0"):0;let Ne=0;if(oe){const Lt=new Date().getMonth()+1-1;Ne=(Se||k.annualLeaveAllocation||0)/12*Lt}else{const ke=Se||k.annualLeaveAllocation||0;if(k.grantFrequency==="per_year")Ne=ke;else{const Lt=new Date().getMonth()+1;Ne=ke/12*Lt}}k.leaveTypeName==="Earned Leave"&&console.log(`🔍 [TABLE ROW DEBUG] ${k.leaveTypeName} for user ${C}:`,{currentBalanceInDays:Te,openingBalance:ie,eligibility:Ne,variantId:k.id,isAfterEarning:k.grantLeaves==="after_earning",grantLeaves:k.grantLeaves,calculation:`Final eligibility = ${Ne}`});const je=Ne+ie,Oe=k.leaveBalanceDeductionBefore===!0;C==="2161"&&(k.leaveTypeName==="Earned Leave"||k.leaveTypeName==="Sick Leave/ Casual Leave")&&console.log(`🔍 [AVAILED CALCULATION] User ${C}, ${k.leaveTypeName}:`,{variantId:k.id,isBeforeWorkflow:Oe,leaveBalanceDeductionBefore:k.leaveBalanceDeductionBefore,totalTransactions:ee.length,pendingDeductions:ee.filter(ke=>ke.transactionType==="pending_deduction").length,allPendingTransactions:ee.filter(ke=>ke.transactionType==="pending_deduction").map(ke=>({id:ke.id,amount:ke.amount,description:ke.description,variantId:ke.leaveVariantId})),filteredPendingForThisVariant:ee.filter(ke=>ke.transactionType==="pending_deduction"&&ke.leaveVariantId===k.id).map(ke=>({id:ke.id,amount:ke.amount,description:ke.description}))}),C==="2161"&&k.leaveTypeName==="Earned Leave"&&console.log(`🔍 [DEBUG REQUESTS DATA] User ${C}, ${k.leaveTypeName}:`,{requestsArrayLength:sr.length,variantId:k.id,sampleRequests:sr.slice(0,3).map(ke=>({id:ke.id,userId:ke.userId,leaveVariantId:ke.leaveVariantId,status:ke.status,workingDays:ke.workingDays})),allRequestsForUser:sr.filter(ke=>ke.userId===C).map(ke=>({id:ke.id,leaveVariantId:ke.leaveVariantId,status:ke.status,workingDays:ke.workingDays}))});const He=sr.filter(ke=>ke.leaveVariantId===k.id||(ke.leaveVariantId===null||ke.leaveVariantId===void 0)&&ke.leaveTypeId===k.leaveTypeId),Je=He.filter(ke=>ke.status==="approved"),Rt=Je.reduce((ke,Lt)=>ke+parseFloat(Lt.workingDays||"0"),0);let Wt=0;Oe&&(Wt=He.filter(Lt=>Lt.status==="pending").reduce((Lt,js)=>Lt+parseFloat(js.workingDays||"0"),0));const vn=ee.filter(ke=>{var Lt,js;return((Lt=ke.description)==null?void 0:Lt.toLowerCase().includes("imported leave transaction"))&&((js=ke.description)==null?void 0:js.toLowerCase().includes("availed"))&&(ke.transactionType==="deduction"||ke.transactionType==="debit")}).reduce((ke,Lt)=>ke+Math.abs(parseFloat(Lt.amount||"0")),0),rn=Rt+Wt+vn;C==="2161"&&(k.leaveTypeName==="Earned Leave"||k.leaveTypeName==="Sick Leave/ Casual Leave")&&console.log(`✅ [CORRECTED AVAILED] ${k.leaveTypeName}:`,{variantId:k.id,isBeforeWorkflow:Oe,approvedRequests:Je.length,approvedDays:Rt,pendingRequests:Oe?sr.filter(ke=>ke.leaveVariantId===k.id&&ke.status==="pending").length:0,pendingDays:Wt,importedAvailed:vn,totalCorrectedAvailed:rn});const bt=ee.filter(ke=>{var Lt,js;return(ke.transactionType==="debit"||ke.transactionType==="deduction")&&(((Lt=ke.description)==null?void 0:Lt.toLowerCase().includes("lop"))||((js=ke.description)==null?void 0:js.toLowerCase().includes("loss of pay")))}).reduce((ke,Lt)=>ke+Math.abs(parseFloat(Lt.amount||"0")),0),We=ee.filter(ke=>{var Lt;return(ke.transactionType==="debit"||ke.transactionType==="deduction")&&((Lt=ke.description)==null?void 0:Lt.toLowerCase().includes("encash"))}).reduce((ke,Lt)=>ke+Math.abs(parseFloat(Lt.amount||"0")),0),ht=ee.filter(ke=>{var Lt;return(ke.transactionType==="debit"||ke.transactionType==="deduction")&&((Lt=ke.description)==null?void 0:Lt.toLowerCase().includes("lapse"))}).reduce((ke,Lt)=>ke+Math.abs(parseFloat(Lt.amount||"0")),0),Nt=je-rn,qn=k.carryForwardDays||0;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.leaveTypeName||"Unknown Leave Type"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ie.toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:je.toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(rn||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(bt||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(ht||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(We||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:Number(Nt||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(qn||0).toFixed(1)})]},k.id)})})]})})})]}),s.jsxs(Rn,{open:e,onOpenChange:t,children:[s.jsx(pf,{asChild:!0,children:s.jsx("div",{style:{display:"none"}})}),s.jsxs(Mn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Fn,{children:s.jsx(Ln,{className:"text-xl font-semibold",children:"Apply For Leave"})}),s.jsxs("form",{onSubmit:on,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"leaveType",className:"text-sm font-medium text-gray-700",children:"Leave type"}),s.jsxs(Dt,{name:"leaveType",required:!0,onValueChange:Cr,children:[s.jsx(At,{className:"w-full mt-1",children:s.jsx(kt,{placeholder:"Select Leave Type"})}),s.jsx(Ct,{children:lt.map(k=>{const G=et.find(We=>We.leaveVariantId===k.id),ee=Array.isArray(ue)?ue.filter(We=>We.leaveVariantId===k.id):[],re=ee.filter(We=>{var ht;return We.transactionType==="grant"&&((ht=We.description)==null?void 0:ht.toLowerCase().includes("opening balance imported from excel"))}).sort((We,ht)=>new Date(ht.createdAt).getTime()-new Date(We.createdAt).getTime()),ie=re.length>0?parseFloat(re[0].amount||"0"):0,oe=k.grantLeaves==="after_earning",Te=G?parseFloat(G.currentBalance||"0"):0;let Se=0;const Ne=G?parseFloat(G.totalEntitlement||"0"):0;if(oe){const ht=new Date().getMonth()+1-1;Se=(Ne||k.annualLeaveAllocation||0)/12*ht}else{const We=Ne||k.annualLeaveAllocation||0;if(k.grantFrequency==="per_year")Se=We;else{const ht=new Date().getMonth()+1;Se=We/12*ht}}const je=Se+ie,Oe=(k==null?void 0:k.leaveBalanceDeductionBefore)===!0,He=sr.filter(We=>We.leaveVariantId===k.id||(We.leaveVariantId===null||We.leaveVariantId===void 0)&&We.leaveTypeId===k.leaveTypeId),Rt=He.filter(We=>We.status==="approved").reduce((We,ht)=>We+parseFloat(ht.workingDays||"0"),0);let Wt=0;Oe&&(Wt=He.filter(ht=>ht.status==="pending").reduce((ht,Nt)=>ht+parseFloat(Nt.workingDays||"0"),0));const vn=ee.filter(We=>{var ht,Nt;return((ht=We.description)==null?void 0:ht.toLowerCase().includes("imported leave transaction"))&&((Nt=We.description)==null?void 0:Nt.toLowerCase().includes("availed"))&&(We.transactionType==="deduction"||We.transactionType==="debit")}).reduce((We,ht)=>We+Math.abs(parseFloat(ht.amount||"0")),0),rn=Rt+Wt+vn,bt=je-rn;return k.leaveTypeName==="Earned Leave"&&console.log("🔍 [APPLY FORM DEBUG] Earned Leave calculation:",{variantId:k.id,openingBalance:ie,eligibility:Se,totalEligibility:je,approvedDays:Rt,pendingDays:Wt,importedAvailed:vn,availed:rn,availableDays:bt,currentBalanceInDays:Te,isAfterEarning:oe,isBeforeWorkflow:Oe}),s.jsxs(_e,{value:k.id.toString(),children:[k.leaveTypeName," (",k.leaveVariantName,") - ",bt.toFixed(1)," days available"]},k.id)})})]}),X&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Leave Type Requirements:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[X.minDaysRequired>0&&s.jsxs("li",{children:["• Minimum ",X.minDaysRequired," days required"]}),X.maxDaysInStretch>0&&s.jsxs("li",{children:["• Maximum ",X.maxDaysInStretch," days in a single application"]}),X.mustBePlannedInAdvance>0&&s.jsxs("li",{children:["• Must be planned"," ",X.mustBePlannedInAdvance," days in advance"]}),X.supportingDocuments&&s.jsxs("li",{children:["• Supporting documents"," ",X.supportingDocumentsText||"required"]}),X.maxInstances>0&&s.jsxs("li",{children:["• Maximum ",X.maxInstances," ","applications per"," ",X.maxInstancesPeriod]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:"Start date"}),s.jsx(pt,{type:"date",name:"startDate",value:z.startDate,placeholder:"mm/dd/yyyy",className:"mt-1",min:Ue,max:Ge,required:!0,onChange:k=>{const G=k.target.value;J(ee=>{const re={...ee,startDate:G};return re.endDate&&re.endDate<G&&(re.endDate=""),re.endDate&&(console.log("🗓️ [START DATE] Triggering validation with dates:",re.startDate,re.endDate),setTimeout(()=>{const ie={...z,startDate:G};Hn(ie)},100)),re})}}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working days only (Monday-Friday)"}),((ya=X==null?void 0:X.minimumLeaveUnit)==null?void 0:ya.includes("half_day"))&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Ft,{name:"startHalfDay",id:"startHalfDay",checked:pe.startHalfDay,onCheckedChange:k=>ae(G=>({...G,startHalfDay:!!k}))}),s.jsx(it,{htmlFor:"startHalfDay",className:"text-sm",children:"Half day"})]})]}),s.jsxs("div",{children:[s.jsx(it,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:"End date"}),s.jsx(pt,{type:"date",name:"endDate",value:z.endDate,placeholder:"mm/dd/yyyy",className:"mt-1",min:z.startDate||Ue,max:Ge,required:!0,onChange:k=>{const G=k.target.value;console.log("🗓️ [END DATE] User entered end date:",G),J(ee=>{const re={...ee,endDate:G};return console.log("🗓️ [END DATE] Updated form data:",re),re.startDate&&re.endDate&&(console.log("🗓️ [END DATE] Both dates present, triggering validation in 100ms"),setTimeout(()=>{console.log("🗓️ [END DATE] Calling validateDatesWithData now");const ie={...z,endDate:G};Hn(ie)},100)),re})}}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working days only (Monday-Friday)"}),((V=X==null?void 0:X.minimumLeaveUnit)==null?void 0:V.includes("half_day"))&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Ft,{name:"endHalfDay",id:"endHalfDay",checked:pe.endHalfDay,onCheckedChange:k=>ae(G=>({...G,endHalfDay:!!k}))}),s.jsx(it,{htmlFor:"endHalfDay",className:"text-sm",children:"Half day"})]})]})]}),z.startDate&&z.endDate&&s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Total Leave Days Selected"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["From"," ",new Date(z.startDate).toLocaleDateString()," to"," ",new Date(z.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:(()=>{const k=ve();return k.toFixed(k%1===0?0:1)})()}),s.jsx("div",{className:"text-sm text-blue-700",children:"working days"})]})]})}),he.length>0&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Validation Errors:"}),s.jsx("ul",{className:"text-sm text-red-800 space-y-1",children:he.map((k,G)=>s.jsxs("li",{children:["• ",k]},G))})]}),(X==null?void 0:X.supportingDocuments)&&s.jsxs("div",{children:[s.jsx(it,{className:"text-sm font-medium text-gray-700",children:"Supporting Documents *"}),s.jsxs("div",{className:"mt-1 border-2 border-dashed border-gray-300 rounded-lg p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(B_,{className:"mx-auto h-8 w-8 text-gray-400"}),s.jsx("div",{className:"mt-2",children:s.jsxs("label",{htmlFor:"documents",className:"cursor-pointer",children:[s.jsx("span",{className:"text-sm text-blue-600 hover:text-blue-500",children:"Upload documents"}),s.jsx("input",{id:"documents",name:"documents",type:"file",multiple:!0,className:"sr-only",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:k=>{const G=Array.from(k.target.files||[]);J(ee=>({...ee,documents:G}))}})]})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, Word, or Image files (max 5MB each)"})]}),z.documents.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected files:"}),s.jsx("div",{className:"space-y-1",children:z.documents.map((k,G)=>s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsx("span",{children:k.name}),s.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>{J(ee=>({...ee,documents:ee.documents.filter((re,ie)=>ie!==G)}))},children:s.jsx(cs,{className:"w-4 h-4"})})]},G))})]})]}),(X==null?void 0:X.supportingDocumentsText)&&s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:X.supportingDocumentsText})]}),((Y=(Z=T==null?void 0:T.permissions)==null?void 0:Z.allowOnBehalf)==null?void 0:Y.leave)===!0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{name:"applyOnBehalf",id:"applyOnBehalf",checked:y,onCheckedChange:k=>{b(!!k),k||w("")}}),s.jsx(it,{htmlFor:"applyOnBehalf",className:"text-sm",children:"Apply on behalf of someone else"})]}),y&&s.jsxs("div",{children:[s.jsx(it,{htmlFor:"employee",className:"text-sm font-medium text-gray-700",children:"Select Employee *"}),s.jsxs(Dt,{value:x,onValueChange:w,children:[s.jsx(At,{className:"mt-1",children:s.jsx(kt,{placeholder:"Select an employee"})}),s.jsx(Ct,{children:D.map(k=>s.jsx(_e,{value:k.user_id,children:k.user_name||`${k.first_name||""} ${k.last_name||""}`.trim()||k.employee_number||`Employee ${k.user_id}`},k.user_id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"reason",className:"text-sm font-medium text-gray-700",children:"Reason for leave"}),s.jsxs(Dt,{name:"reason",required:!0,children:[s.jsx(At,{className:"w-full mt-1",children:s.jsx(kt,{placeholder:"Select Reason for Leave"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"personal",children:"Personal"}),s.jsx(_e,{value:"medical",children:"Medical"}),s.jsx(_e,{value:"family",children:"Family Emergency"}),s.jsx(_e,{value:"vacation",children:"Vacation"}),s.jsx(_e,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsxs(it,{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:["Description"," ",(X==null?void 0:X.supportingDocuments)&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Tn,{name:"description",value:z.description,onChange:k=>{J(G=>({...G,description:k.target.value})),he.length>0&&Me([])},placeholder:"State the reason for your leave request",className:"mt-1 min-h-[100px]"})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700",children:"Assign Tasks"}),s.jsx(ne,{type:"button",variant:"ghost",className:"text-green-600",children:s.jsx(mn,{className:"w-4 h-4"})})]})}),Ie&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Leave Type Not Available"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:Ie})})]})]})}),(le==null?void 0:le.enabled)&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Task Assignment (Optional)"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Assign tasks to colleagues to ensure smooth operations during your leave"})]}),s.jsx(OOe,{leaveRequestId:void 0,className:"mb-4",onTasksChange:k=>{_(k)}})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>t(!1),className:"text-green-600 border-green-600",children:"Discard"}),s.jsx(ne,{type:"submit",className:`text-white ${he.length>0?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,disabled:ro.isPending||Pe||!be||he.length>0,children:ro.isPending||Pe?"Submitting...":he.length>0?"Fix Validation Errors":"Apply for Leave"})]})]})]})]}),s.jsx(Rn,{open:c,onOpenChange:k=>{u(k),k||(l(null),xe(null),Me([]))},children:s.jsxs(Mn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Fn,{children:s.jsx(Ln,{className:"text-xl font-semibold",children:"Edit Leave Request"})}),s.jsxs("form",{onSubmit:on,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"leaveType",className:"text-sm font-medium text-gray-700",children:"Leave type"}),s.jsxs(Dt,{name:"leaveType",required:!0,onValueChange:Cr,defaultValue:((Q=o==null?void 0:o.variantId)==null?void 0:Q.toString())||"",children:[s.jsx(At,{className:"w-full mt-1",children:s.jsx(kt,{placeholder:"Select Leave Type"})}),s.jsx(Ct,{children:lt.map(k=>{const G=et.find(re=>re.leaveVariantId===k.id),ee=G?Math.max(0,parseFloat(G.currentBalance||"0")):0;return s.jsxs(_e,{value:k.id.toString(),children:[k.leaveTypeName," (",k.leaveVariantName,") - ",ee.toFixed(1)," days available"]},k.id)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:"Start date"}),s.jsx(pt,{type:"date",name:"startDate",placeholder:"mm/dd/yyyy",className:"mt-1",min:Ue,defaultValue:o?new Date(o.startDate).toISOString().split("T")[0]:"",onChange:Xo,required:!0})]}),s.jsxs("div",{children:[s.jsx(it,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:"End date"}),s.jsx(pt,{type:"date",name:"endDate",placeholder:"mm/dd/yyyy",className:"mt-1",min:Ue,defaultValue:o?new Date(o.endDate).toISOString().split("T")[0]:"",onChange:Xo,required:!0})]})]}),((te=X==null?void 0:X.minimumLeaveUnit)==null?void 0:te.includes("half_day"))&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{name:"startHalfDay"}),s.jsx(it,{className:"text-sm text-gray-700",children:"Start date half day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{name:"endHalfDay"}),s.jsx(it,{className:"text-sm text-gray-700",children:"End date half day"})]})]}),s.jsxs("div",{children:[s.jsx(it,{htmlFor:"reason",className:"text-sm font-medium text-gray-700",children:"Reason for Leave"}),s.jsx(Tn,{name:"reason",placeholder:"Enter reason for leave",className:"mt-1",rows:3,defaultValue:(o==null?void 0:o.reason)||"",required:!0})]}),he.length>0&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Please fix the following errors:"}),s.jsx("ul",{className:"text-sm text-red-800 space-y-1",children:he.map((k,G)=>s.jsxs("li",{children:["• ",k]},G))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>u(!1),className:"text-gray-600 border-gray-300",children:"Cancel"}),s.jsx(ne,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:ws.isPending||he.length>0,children:ws.isPending?"Updating...":"Update Request"})]})]})]})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:se.length===0?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"No leave applications found for the selected period."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Leave Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"From"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"To"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Days"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Reason"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),s.jsx("tbody",{children:zn.map(k=>{const ee=(Array.isArray(L)?L:[]).find(oe=>oe.id===k.leaveTypeId),ie=(Array.isArray(H)?H:[]).find(oe=>oe.leaveTypeId===k.leaveTypeId);return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:(ee==null?void 0:ee.name)||"Unknown"}),s.jsx("td",{className:"py-3 px-4",children:new Date(k.startDate).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4",children:new Date(k.endDate).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4",children:k.workingDays}),s.jsx("td",{className:"py-3 px-4 capitalize",children:k.reason}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium inline-block w-fit ${k.status==="pending"?"bg-yellow-100 text-yellow-800":k.status==="approved"?"bg-green-100 text-green-800":k.status==="withdrawn"?"bg-orange-100 text-orange-800":k.status==="withdrawal_pending"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800"}`,children:k.status==="withdrawal_pending"?"Withdrawal Pending":k.status==="rejected"&&k.approvalHistory&&k.approvalHistory.some(oe=>oe.action==="submitted"&&oe.comment)?"Withdrawal Rejected":k.status}),k.status==="rejected"&&k.rejectedReason&&s.jsxs("div",{className:"mt-1 text-xs text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200",children:[s.jsx("strong",{children:"Reason:"})," ",k.rejectedReason]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex space-x-2",children:[k.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50",onClick:()=>Mu(k),disabled:ws.isPending,children:[s.jsx(Nu,{className:"w-3 h-3 mr-1"}),"Edit"]}),((ie==null?void 0:ie.allowWithdrawalBeforeApproval)||!(ie!=null&&ie.withdrawalNotAllowed))&&s.jsxs(ne,{variant:"outline",size:"sm",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>me(k.id),disabled:Qo.isPending,children:[s.jsx(Ta,{className:"w-3 h-3 mr-1"}),Qo.isPending?"Cancelling...":"Cancel"]})]}),k.status==="approved"&&(ie==null?void 0:ie.allowWithdrawalAfterApproval)&&s.jsxs(ne,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-600 hover:bg-orange-50",onClick:()=>tt(k.id),disabled:_i.isPending,children:[s.jsx(cs,{className:"w-3 h-3 mr-1"}),_i.isPending?"Withdrawing...":"Withdraw"]})]})})]},k.id)})})]})})})}),s.jsx(Rn,{open:d,onOpenChange:k=>{f(k),k||(m(null),p(""))},children:s.jsxs(Mn,{className:"max-w-md",children:[s.jsx(Fn,{children:s.jsx(Ln,{children:"Withdraw Leave Request"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Please provide a reason for withdrawing this leave request. This action may require approval before completion."}),s.jsxs("div",{children:[s.jsx(it,{htmlFor:"withdrawalReason",className:"text-sm font-medium",children:"Reason for withdrawal *"}),s.jsx(Tn,{id:"withdrawalReason",placeholder:"Enter reason for withdrawal...",value:g,onChange:k=>p(k.target.value),className:"mt-1",rows:3,required:!0})]}),s.jsxs("div",{className:"flex space-x-2 pt-4",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>{f(!1),m(null),p("")},children:"Cancel"}),s.jsx(ne,{onClick:vr,disabled:!g.trim()||_i.isPending,className:"bg-orange-600 hover:bg-orange-700",children:_i.isPending?"Submitting...":"Submit Withdrawal"})]})]})]})})]})})})}function POe(){const[e,t]=N.useState("July 2025"),[r,n]=N.useState("yearly"),a=()=>{const j=["January","February","March","April","May","June","July","August","September","October","November","December"],[S,_]=e.split(" "),E=j.indexOf(S);t(E===0?`December ${parseInt(_)-1}`:`${j[E-1]} ${_}`)},i=()=>{const j=["January","February","March","April","May","June","July","August","September","October","November","December"],[S,_]=e.split(" "),E=j.indexOf(S);t(E===11?`January ${parseInt(_)+1}`:`${j[E+1]} ${_}`)},o=()=>{const j=new Date;t(`${["January","February","March","April","May","June","July","August","September","October","November","December"][j.getMonth()]} ${j.getFullYear()}`)},{workPattern:l,isLoading:c}=rh(),{data:u,isLoading:d}=Fe({queryKey:["/api/holidays"],staleTime:5*60*1e3}),{data:f,isLoading:h,error:m}=Fe({queryKey:["/external/holidays"],queryFn:async()=>{const j=localStorage.getItem("jwt_token");if(console.log("🔑 [External Holidays] JWT token found:",!!j),console.log("🔑 [External Holidays] JWT token length:",j==null?void 0:j.length),!j)throw new Error("JWT token not found in localStorage");console.log("🌐 [External Holidays] Calling API: https://qa-api.resolveindia.com/organization/holidays");const S=await fetch("https://qa-api.resolveindia.com/organization/holidays",{method:"GET",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(console.log("🌐 [External Holidays] Response status:",S.status),!S.ok){const E=await S.text();throw console.log("🌐 [External Holidays] Error response:",E),new Error(`Failed to fetch holidays: ${S.status} ${S.statusText}`)}const _=await S.json();return console.log("🌐 [External Holidays] Response data:",_),_.data||_||[]},staleTime:5*60*1e3,refetchOnMount:!0}),g=f&&f.length>0?f:u||[],p=l&&l.selectedHolidays?g.filter(j=>l.selectedHolidays.includes(j.id)):g;console.log("🔄 Holiday Source: Using",f&&f.length>0?"External API":"Database","holidays"),console.log("🏢 [Holidays Debug] All holidays count:",g.length),console.log("🏢 [Holidays Debug] Raw holidays:",g),console.log("🏢 [Holidays Debug] Work pattern selectedHolidays:",l==null?void 0:l.selectedHolidays),console.log("🏢 [Holidays Debug] Filtered holidays count:",p.length);const y=p.map(j=>{let S="",_="";return j.selectedDate?(S=j.selectedDate.split("T")[0],_=j.holidayName||"Holiday"):j.date&&(S=j.date.includes("T")?j.date.split("T")[0]:j.date,_=j.name||"Holiday"),{date:S,name:_}});console.log("🗓️ [Holidays Debug] Final processed holidays:",y),console.log("🗓️ [Holidays Debug] Selected month:",e);const x=(()=>{const S=["January","February","March","April","May","June","July","August","September","October","November","December"],_=e.split(" ")[0],E=S.indexOf(_),T=new Date(2025,E,1),D=new Date(T);D.setDate(D.getDate()-T.getDay());const O=[],A=new Date(D);for(let M=0;M<42;M++){const U=A.getFullYear(),B=String(A.getMonth()+1).padStart(2,"0"),I=String(A.getDate()).padStart(2,"0"),P=`${U}-${B}-${I}`,C=y.find(R=>R.date===P),F=A.getMonth()===E;e.includes("August")&&A.getMonth()===7&&A.getDate()>=14&&A.getDate()<=17&&console.log(`🔍 August Debug: ${P} -> Day ${A.getDate()}, Holiday: ${(C==null?void 0:C.name)||"none"}`),O.push({date:A.getDate(),fullDate:P,isCurrentMonth:F,holiday:C==null?void 0:C.name,isHoliday:!!C}),A.setDate(A.getDate()+1)}return O})();console.log("🗓️ Generated Calendar Days:",x),console.log("Calendar Days Length:",x.length);const v=["January","February","March","April","May","June","July","August","September","October","November","December"].map((_,E)=>{const T=new Date(2025,E,1),D=new Date(T);D.setDate(D.getDate()-T.getDay());const O=[],A=new Date(D);for(let M=0;M<42;M++){const U=A.getFullYear(),B=String(A.getMonth()+1).padStart(2,"0"),I=String(A.getDate()).padStart(2,"0"),P=`${U}-${B}-${I}`,C=y.find(R=>R.date===P),F=A.getMonth()===E;O.push({date:A.getDate(),fullDate:P,isCurrentMonth:F,holiday:C==null?void 0:C.name,isHoliday:!!C}),A.setDate(A.getDate()+1)}return{monthName:_,monthIndex:E,days:O}});return h||c?s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading holidays..."})]})})})})}):m?s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load holidays"}),s.jsx("p",{className:"text-gray-600 mb-4",children:m instanceof Error?m.message:"Unable to fetch holiday data from the server"}),s.jsx(ne,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]})})})})}):s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Holidays"," ",p&&p.length>0&&`(${p.length} total)`]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>n("monthly"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${r==="monthly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:"Monthly"}),s.jsx("button",{onClick:()=>n("yearly"),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${r==="yearly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:"Yearly"})]}),r==="monthly"&&s.jsxs(Dt,{value:e,onValueChange:t,children:[s.jsx(At,{className:"w-40",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"January 2025",children:"January 2025"}),s.jsx(_e,{value:"February 2025",children:"February 2025"}),s.jsx(_e,{value:"March 2025",children:"March 2025"}),s.jsx(_e,{value:"April 2025",children:"April 2025"}),s.jsx(_e,{value:"May 2025",children:"May 2025"}),s.jsx(_e,{value:"June 2025",children:"June 2025"}),s.jsx(_e,{value:"July 2025",children:"July 2025"}),s.jsx(_e,{value:"August 2025",children:"August 2025"}),s.jsx(_e,{value:"September 2025",children:"September 2025"}),s.jsx(_e,{value:"October 2025",children:"October 2025"}),s.jsx(_e,{value:"November 2025",children:"November 2025"}),s.jsx(_e,{value:"December 2025",children:"December 2025"})]})]})]})]}),r==="yearly"&&s.jsx("div",{className:"mb-6",children:s.jsx(Ee,{children:s.jsxs(De,{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"All Holidays for 2025"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map((j,S)=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[new Date(j.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","- ",j.name]})]},S))})]})})}),r==="monthly"&&s.jsx("div",{className:"mb-6",children:s.jsx(Ee,{children:s.jsxs(De,{className:"p-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:["Holidays for ",e]}),s.jsx("div",{className:"space-y-2",children:(()=>{const j=["January","February","March","April","May","June","July","August","September","October","November","December"],S=e.split(" ")[0],_=j.indexOf(S),E=`2025-${String(_+1).padStart(2,"0")}`,T=y.filter(D=>D.date.startsWith(E));return T.length===0?s.jsxs("div",{className:"text-sm text-gray-500 italic",children:["No holidays in ",e]}):T.map((D,O)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[new Date(D.date).toLocaleDateString("en-US",{month:"long",day:"numeric"})," ","- ",D.name]})]},O))})()})]})})}),r==="monthly"?s.jsx(Ee,{children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"px-3 py-2 text-sm bg-gray-600 text-white rounded cursor-pointer hover:bg-gray-700 transition-colors",onClick:o,children:"today"}),s.jsx("span",{className:"px-3 py-2 text-sm border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors",onClick:a,children:"‹"}),s.jsx("span",{className:"px-3 py-2 text-sm border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors",onClick:i,children:"›"})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>s.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:j},j))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:x.map((j,S)=>s.jsxs("div",{className:`min-h-[100px] p-2 border border-gray-200 ${j.isCurrentMonth?j.isHoliday?"bg-red-50 text-red-900":"bg-white text-gray-900 hover:bg-gray-50":"bg-gray-50 text-gray-400"}`,children:[s.jsx("div",{className:`text-sm font-medium ${j.isHoliday?"text-red-600":""}`,children:j.date}),j.holiday&&s.jsx("div",{className:"mt-1 text-xs text-red-600 font-medium",children:j.holiday})]},S))})]})}):s.jsx(Ee,{children:s.jsxs(De,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"2025 Holiday Calendar"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(j=>s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-3",children:j.monthName}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((S,_)=>s.jsx("div",{className:"text-center text-xs font-medium text-gray-500 p-1",children:S},_))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:j.days.map((S,_)=>s.jsx("div",{className:`h-8 flex items-center justify-center text-xs ${S.isCurrentMonth?S.isHoliday?"bg-red-100 text-red-800 font-semibold rounded":"text-gray-700 hover:bg-gray-50 rounded":"text-gray-300"}`,title:S.holiday||"",children:S.date},_))}),s.jsxs("div",{className:"mt-3 space-y-1",children:[j.days.filter(S=>S.isHoliday&&S.isCurrentMonth).map((S,_)=>s.jsx("div",{className:"text-xs",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),s.jsxs("span",{className:"text-gray-600 truncate",children:[S.date," - ",S.holiday]})]})},_)),j.days.filter(S=>S.isHoliday&&S.isCurrentMonth).length===0&&s.jsx("div",{className:"text-xs text-gray-400 italic",children:"No holidays"})]})]},j.monthName))})]})})]})})})}const gg=(e,t,r)=>{let n=0;const a=new Date(e);for(;a<=t;){const i=a.getDay(),o=i===0||i===6,l=Op(a,r);!o&&!l&&n++,a.setDate(a.getDate()+1)}return n},Op=(e,t)=>{const r=ft(e,"yyyy-MM-dd");return t.some(n=>{const a=new Date(n.selectedDate||n.date);return ft(a,"yyyy-MM-dd")===r})},IOe=e=>sa({startDate:Zl({required_error:"Start date is required"}),endDate:Zl({required_error:"End date is required"}),dayType:Dn(["full","half"],{required_error:"Please select full day or half day"}),reason:rr().min(1,"Reason for comp-off is required").max(500,"Reason cannot exceed 500 characters")}).refine(t=>t.endDate>=t.startDate,{message:"End date must be after or same as start date",path:["endDate"]}).refine(t=>!Op(t.startDate,e),{message:"Cannot apply comp-off on a holiday. Please select a different start date.",path:["startDate"]}).refine(t=>!Op(t.endDate,e),{message:"Cannot apply comp-off on a holiday. Please select a different end date.",path:["endDate"]}),ROe=e=>sa({startDate:Zl({required_error:"Start date is required"}),endDate:Zl({required_error:"End date is required"}),dayType:Dn(["full","half"],{required_error:"Please select full day or half day"}),reason:rr().min(1,"Reason for taking comp-off is required").max(500,"Reason cannot exceed 500 characters")}).refine(t=>t.endDate>=t.startDate,{message:"End date must be after or same as start date",path:["endDate"]}).refine(t=>!Op(t.startDate,e),{message:"Cannot avail comp-off on a holiday. Please select a different start date.",path:["startDate"]}).refine(t=>!Op(t.endDate,e),{message:"Cannot avail comp-off on a holiday. Please select a different end date.",path:["endDate"]}),MOe=sa({leaveTypeId:rr().min(1,"Leave type is required"),transferDays:er().min(.5,"Minimum 0.5 days required").max(30,"Maximum 30 days allowed"),reason:rr().min(1,"Reason for transfer is required").max(500,"Reason cannot exceed 500 characters")}),FOe=sa({enCashDays:er().min(.5,"Minimum 0.5 days required").max(30,"Maximum 30 days allowed"),dailyRate:er().min(1,"Daily rate must be greater than 0"),reason:rr().min(1,"Reason for en-cash is required").max(500,"Reason cannot exceed 500 characters")});function LOe(){var Pt,Cr,Hn,xc,Xo,ro,Qo,ws,_i,Mu;const[e,t]=N.useState("All"),[r,n]=N.useState("2024"),[a,i]=N.useState("Yearly"),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[h,m]=N.useState(!1),[g,p]=N.useState(!1),[y,b]=N.useState(""),{toast:x}=qr(),w=Yp(),{employees:v}=Ru(),{workPattern:j}=rh(),{data:S=[]}=Fe({queryKey:["/api/holidays"],queryFn:async()=>{const me=await fetch("/api/holidays",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return me.ok?me.json():[]}}),_=j&&j.selectedHolidays?S.filter(me=>j.selectedHolidays.includes(me.id)):S;console.log("🎯 Comp-off Form Holiday Filtering:",{workPattern:j==null?void 0:j.patternName,selectedHolidayIds:j==null?void 0:j.selectedHolidays,allHolidays:S.length,filteredHolidays:_.length}),N.useEffect(()=>{var me,tt,vr,on;console.log("=== COMP-OFF PERMISSION DEBUG ==="),console.log("Comp-off allowOnBehalf permission:",(tt=(me=w==null?void 0:w.permissions)==null?void 0:me.allowOnBehalf)==null?void 0:tt.compOff),console.log("Should show checkbox?",((on=(vr=w==null?void 0:w.permissions)==null?void 0:vr.allowOnBehalf)==null?void 0:on.compOff)===!0),console.log("External employees array:",v),console.log("External employees length:",v==null?void 0:v.length),console.log("Apply on behalf state:",g),console.log("==================================")},[w,v,g]),N.useEffect(()=>{!o&&!c&&!d&&!h&&(p(!1),b(""))},[o,c,d,h]);const{data:E=[],isLoading:T}=Fe({queryKey:["/api/comp-off-requests"]}),{data:D,refetch:O}=Fe({queryKey:["/api/comp-off-config"],staleTime:0,cacheTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0});N.useEffect(()=>{qe.removeQueries({queryKey:["/api/comp-off-config"]}),qe.invalidateQueries({queryKey:["/api/comp-off-config"]}),O()},[O]);const M=(()=>{const me=["bank","avail"];if(console.log("CompOff Config Data:",D),console.log("Compensation Options:",D==null?void 0:D.compensationOptions),!D||!D.compensationOptions)return console.log("No compensation options found, showing all actions"),[...me,"transfer","encash"];const tt=Array.isArray(D.compensationOptions)?D.compensationOptions:[D.compensationOptions];console.log("Parsed compensation options:",tt);const vr=[...me];return tt.includes("En-cashment")&&(vr.push("encash"),console.log("Added en-cash action")),tt.includes("Convert to leaves")&&(vr.push("transfer"),console.log("Added transfer action")),console.log("Final available actions:",vr),vr})(),{data:U=[]}=Fe({queryKey:["/api/comp-off-variants"]}),B=localStorage.getItem("user_id")||"225",{data:I=[],isLoading:P,refetch:C}=Fe({queryKey:["/api/comp-off-requests",B],queryFn:async()=>{const me=await fetch(`/api/comp-off-requests?userId=${B}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||""}});if(!me.ok)throw new Error("Failed to fetch comp-off requests");return me.json()}}),{data:F=[]}=Fe({queryKey:["/api/employee-assignments"]}),{data:R=[]}=Fe({queryKey:["/api/leave-types"]}),se=R.filter(me=>F.some(tt=>tt.userId===B&&tt.leaveTypeId===me.id)),q=(()=>{if(!(D!=null&&D.minimumLeaveUnit))return[{value:"full",label:"Full Day"}];const me=Array.isArray(D.minimumLeaveUnit)?D.minimumLeaveUnit:["Full Day"],tt=[];return me.includes("Full Day")&&tt.push({value:"full",label:"Full Day"}),me.includes("Half Day")&&tt.push({value:"half",label:"Half Day"}),tt.length>0?tt:[{value:"full",label:"Full Day"}]})(),H=Bt({mutationFn:async me=>await Tt("POST","/api/comp-off-requests",me),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/comp-off-requests",B]})}});Bt({mutationFn:async({id:me,data:tt})=>await Tt("PATCH",`/api/comp-off-requests/${me}`,tt),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/comp-off-requests",B]})}}),Bt({mutationFn:async me=>await Tt("DELETE",`/api/comp-off-requests/${me}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/comp-off-requests",B]})}});const K=I.filter(me=>me.type==="bank"&&me.status==="approved").length,ce=I.filter(me=>me.type==="avail"&&me.status==="approved").length,ue=I.filter(me=>me.type==="transfer"&&me.status==="approved").reduce((me,tt)=>me+(parseFloat(tt.transferAmount)||0),0),ge=I.filter(me=>me.type==="en_cash"&&me.status==="approved").reduce((me,tt)=>me+(parseFloat(tt.transferAmount)||0),0),le={totalCompOffs:I.length,banked:K,availed:ce,pendingApprovals:I.filter(me=>me.status==="pending").length,expired:I.filter(me=>me.status==="expired").length,balance:K-ce-ue-ge,carryForward:K,enCashable:K-ce-ue-ge},X=[{id:"All",label:"All"},{id:"Pending",label:"Pending",badge:!0},{id:"Banked",label:"Banked",badge:!0},{id:"Availed",label:"Availed",badge:!0},{id:"Rejected",label:"Rejected",badge:!0},{id:"Expired",label:"Expired",badge:!0}],xe=me=>{switch(me.status){case"approved":case"banked":return s.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(cx,{className:"w-4 h-4 mr-1"}),"View"]});case"expired":return s.jsxs(ne,{variant:"outline",size:"sm",className:"text-green-600 border-green-200 hover:bg-green-50",onClick:()=>he(me),children:[s.jsx(VA,{className:"w-4 h-4 mr-1"}),"Re-apply"]});case"pending":return s.jsxs(ne,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:()=>Me(me),children:[s.jsx(cx,{className:"w-4 h-4 mr-1"}),"Pending"]});case"rejected":return s.jsxs(ne,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>he(me),children:[s.jsx(VA,{className:"w-4 h-4 mr-1"}),"Reapply"]});default:return null}},he=me=>{console.log("Reapply for comp off:",me)},Me=me=>{console.log("View comp off:",me)},Pe=IOe(_),Be=ROe(_),Ie=us({resolver:Is(Pe),defaultValues:{reason:"",dayType:((Pt=q[0])==null?void 0:Pt.value)||"full"}}),W=us({resolver:Is(Be),defaultValues:{reason:"",dayType:((Cr=q[0])==null?void 0:Cr.value)||"full"}}),be=us({resolver:Is(MOe),defaultValues:{leaveTypeId:"",transferDays:1,reason:""}}),we=us({resolver:Is(FOe),defaultValues:{enCashDays:1,dailyRate:0,reason:""}}),z=()=>{l(!0)},J=()=>{u(!0)},pe=()=>{if(!M.includes("transfer")){x({title:"Action Not Available",description:"Transfer to leaves is not enabled in your organization's compensation options",variant:"destructive"});return}f(!0)},ae=me=>{const tt=g&&y?y:localStorage.getItem("user_id")||"1",vr=le.balance;if(me.transferDays>vr){x({title:"Insufficient Balance",description:`You only have ${vr} banked comp-off days available for transfer`,variant:"destructive"});return}const on={reason:me.reason,workedDate:new Date().toISOString().split("T")[0],compensateWith:"",notes:me.reason,status:"pending",type:"transfer",transferAmount:me.transferDays.toString(),leaveTypeId:me.leaveTypeId,userId:tt};console.log("Submitting transfer to leave data:",on),H.mutate(on,{onSuccess:sr=>{const zn=(sr==null?void 0:sr.status)==="approved";x({title:"Success",description:zn?"Transfer to leave request submitted and auto-approved successfully":"Transfer to leave request submitted successfully"}),f(!1),be.reset()},onError:sr=>{x({title:"Error",description:sr.message||"Failed to submit transfer request",variant:"destructive"})}})},ye=()=>{if(!M.includes("encash")){x({title:"Action Not Available",description:"En-cash compensation is not enabled in your organization's compensation options",variant:"destructive"});return}m(!0)},ve=me=>{const tt=U[0];let vr=gg(me.startDate,me.endDate,_);const on=ft(me.startDate,"yyyy-MM-dd"),sr=ft(me.endDate,"yyyy-MM-dd");if(console.log("✅ Using dynamic working days calculation for comp-off:",vr),console.log("Bank Comp-off Working Days Calculation:",{startDate:on,endDate:sr,calculatedWorkingDays:gg(me.startDate,me.endDate,_),finalWorkingDays:vr}),tt){const bs=new Date,Ei=me.startDate,ya=W0(bs,Ei);if(tt.approvalDays&&ya<tt.approvalDays){x({title:"Validation Error",description:`Comp-off request should be made at least ${tt.approvalDays} days in advance`,variant:"destructive"});return}if(tt.availWithinDays&&ya>tt.availWithinDays){x({title:"Validation Error",description:`Comp-off should be availed within ${tt.availWithinDays} days from date of working`,variant:"destructive"});return}}const tn={userId:g&&y?y:localStorage.getItem("user_id")||"1",reason:me.reason,workedDate:ft(me.startDate,"yyyy-MM-dd"),compensateWith:ft(me.endDate,"yyyy-MM-dd"),notes:`${me.reason} (${me.dayType==="half"?"Half Day":"Full Day"}) - ${vr} working days`,status:"pending",type:"bank",dayType:me.dayType,workingDays:vr};console.log("Submitting bank comp-off data:",tn),H.mutate(tn,{onSuccess:bs=>{const Ei=(bs==null?void 0:bs.status)==="approved";x({title:"Success",description:Ei?"Comp-off banking request submitted and auto-approved successfully":"Comp-off banking request submitted successfully"}),l(!1),Ie.reset()},onError:bs=>{x({title:"Error",description:bs.message||"Failed to submit comp-off banking request",variant:"destructive"})}})},Re=me=>{const tt=U[0];let vr=gg(me.startDate,me.endDate,_);const on=ft(me.startDate,"yyyy-MM-dd"),sr=ft(me.endDate,"yyyy-MM-dd");console.log("✅ Using dynamic working days calculation for avail comp-off:",vr),console.log("Avail Comp-off Working Days Calculation:",{startDate:on,endDate:sr,calculatedWorkingDays:gg(me.startDate,me.endDate,_),finalWorkingDays:vr});const zn=le.balance,tn=vr;if(zn<tn){x({title:"Insufficient Balance",description:`You have ${zn} comp-off days available, but requesting ${tn} working days`,variant:"destructive"});return}if(tt){const ya=new Date,V=me.startDate,Z=W0(V,ya);if(tt.approvalDays&&Z<tt.approvalDays){x({title:"Validation Error",description:`Comp-off request should be made at least ${tt.approvalDays} days in advance`,variant:"destructive"});return}}const Ei={userId:localStorage.getItem("user_id")||"1",reason:me.reason,workedDate:ft(me.startDate,"yyyy-MM-dd"),compensateWith:ft(me.endDate,"yyyy-MM-dd"),notes:`${me.reason} (${me.dayType==="half"?"Half Day":"Full Day"}) - ${vr} working days`,status:"pending",type:"avail",dayType:me.dayType,workingDays:vr};console.log("Submitting avail comp-off data:",Ei),H.mutate(Ei,{onSuccess:ya=>{const V=(ya==null?void 0:ya.status)==="approved";x({title:"Success",description:V?"Comp-off avail request submitted and auto-approved successfully":"Comp-off avail request submitted successfully"}),u(!1),W.reset()},onError:ya=>{x({title:"Error",description:ya.message||"Failed to submit comp-off avail request",variant:"destructive"})}})},Ue=me=>{const tt=le.balance;if(tt<me.enCashDays){x({title:"Insufficient Balance",description:`You have ${tt} comp-off days available, but requesting ${me.enCashDays} days`,variant:"destructive"});return}const vr=g&&y?y:localStorage.getItem("user_id")||"1",on=me.enCashDays*me.dailyRate,sr={userId:vr,reason:me.reason,workedDate:new Date().toISOString().split("T")[0],compensateWith:"",notes:me.reason,status:"pending",type:"en_cash",enCashAmount:on.toString(),paymentDetails:`Days: ${me.enCashDays}, Rate: ₹${me.dailyRate}/day, Total: ₹${on.toFixed(2)}`};H.mutate(sr,{onSuccess:()=>{x({title:"Success",description:"En-cash request submitted successfully"}),m(!1),we.reset()},onError:zn=>{x({title:"Error",description:zn.message||"Failed to submit en-cash request",variant:"destructive"})}})},Ge=Ie.watch("startDate"),vt=Ie.watch("endDate"),$e=Ie.watch("dayType"),ot=()=>{if(!Ge||!vt)return"";const me=W0(vt,Ge)+1,tt=$e==="half"?"HALF DAY":"FULL DAY";return me===1?`Banking comp-off for ${tt} overtime work on ${ft(Ge,"EEE, dd MMM yyyy")}`:`Banking comp-off for ${me} ${tt.toLowerCase()}${me>1?"s":""} overtime work from ${ft(Ge,"EEE, dd MMM yyyy")} to ${ft(vt,"EEE, dd MMM yyyy")}`},Vt=W.watch("startDate"),lt=W.watch("endDate"),qt=W.watch("dayType"),et=()=>{if(!Vt||!lt)return"";const me=W0(lt,Vt)+1,tt=qt==="half"?"HALF DAY":"FULL DAY";return me===1?`Taking ${tt} comp-off on ${ft(Vt,"EEE, dd MMM yyyy")}`:`Taking ${me} ${tt.toLowerCase()}${me>1?"s":""} comp-off from ${ft(Vt,"EEE, dd MMM yyyy")} to ${ft(lt,"EEE, dd MMM yyyy")}`};return s.jsx(Er,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Compensatory off"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Dt,{value:a,onValueChange:i,children:[s.jsx(At,{className:"w-24",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Yearly",children:"Yearly"}),s.jsx(_e,{value:"Monthly",children:"Monthly"}),s.jsx(_e,{value:"Quarterly",children:"Quarterly"})]})]}),s.jsxs(Dt,{value:r,onValueChange:n,children:[s.jsx(At,{className:"w-20",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2024",children:"2024"}),s.jsx(_e,{value:"2023",children:"2023"}),s.jsx(_e,{value:"2022",children:"2022"})]})]}),s.jsx(Rn,{open:o,onOpenChange:l,children:s.jsxs(Mn,{className:"sm:max-w-md",children:[s.jsx(Fn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ln,{className:"text-lg font-semibold",children:"Bank Comp Off"}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>l(!1),className:"h-6 w-6",children:s.jsx(cs,{className:"h-4 w-4"})})]})}),((xc=(Hn=w==null?void 0:w.permissions)==null?void 0:Hn.allowOnBehalf)==null?void 0:xc.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"compoff-bank-apply-on-behalf",checked:g,onCheckedChange:me=>p(!!me)}),s.jsx("label",{htmlFor:"compoff-bank-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),g&&s.jsxs(Dt,{value:y,onValueChange:b,children:[s.jsx(At,{className:"w-full",children:s.jsx(kt,{placeholder:"Select Employee"})}),s.jsx(Ct,{children:v.map(me=>s.jsx(_e,{value:me.user_id.toString(),children:me.user_name},me.user_id))})]})]}),s.jsx(li,{...Ie,children:s.jsxs("form",{onSubmit:Ie.handleSubmit(ve),className:"space-y-4",children:[s.jsx(Qe,{control:Ie.control,name:"startDate",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Overtime work start date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsx(at,{children:s.jsxs(ne,{variant:"outline",className:rt("w-full pl-3 text-left font-normal",!me.value&&"text-muted-foreground"),children:[me.value?ft(me.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(Pr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(vo,{className:"w-auto p-0",align:"start",children:s.jsx(yo,{mode:"single",selected:me.value,onSelect:me.onChange,disabled:tt=>tt>new Date||tt<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:Ie.control,name:"endDate",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Overtime work end date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsx(at,{children:s.jsxs(ne,{variant:"outline",className:rt("w-full pl-3 text-left font-normal",!me.value&&"text-muted-foreground"),children:[me.value?ft(me.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(Pr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(vo,{className:"w-auto p-0",align:"start",children:s.jsx(yo,{mode:"single",selected:me.value,onSelect:me.onChange,disabled:tt=>tt>new Date||tt<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:Ie.control,name:"dayType",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Day Type"}),s.jsxs(Dt,{onValueChange:me.onChange,defaultValue:me.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select day type"})})}),s.jsx(Ct,{children:q.map(tt=>s.jsx(_e,{value:tt.value,children:tt.label},tt.value))})]}),s.jsx(yt,{})]})}),Ge&&vt&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-blue-700",children:ot()})}),s.jsx(Qe,{control:Ie.control,name:"reason",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Reason for overtime work"}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"Enter your reason for overtime work",className:"min-h-[100px] resize-none",...me})}),s.jsx(yt,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>l(!1),className:"text-teal-600 border-teal-200 hover:bg-teal-50",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ne,{type:"submit",disabled:H.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:H.isPending?"Banking...":"Bank Comp-off"})]})]})})]})}),s.jsx(Rn,{open:c,onOpenChange:u,children:s.jsxs(Mn,{className:"sm:max-w-md",children:[s.jsx(Fn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ln,{className:"text-lg font-semibold",children:"Avail Comp Off"}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>u(!1),className:"h-6 w-6",children:s.jsx(cs,{className:"h-4 w-4"})})]})}),((ro=(Xo=w==null?void 0:w.permissions)==null?void 0:Xo.allowOnBehalf)==null?void 0:ro.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"compoff-avail-apply-on-behalf",checked:g,onCheckedChange:me=>p(!!me)}),s.jsx("label",{htmlFor:"compoff-avail-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),g&&s.jsxs(Dt,{value:y,onValueChange:b,children:[s.jsx(At,{className:"w-full",children:s.jsx(kt,{placeholder:"Select Employee"})}),s.jsx(Ct,{children:v.map(me=>s.jsx(_e,{value:me.user_id.toString(),children:me.user_name},me.user_id))})]})]}),s.jsx(li,{...W,children:s.jsxs("form",{onSubmit:W.handleSubmit(Re),className:"space-y-4",children:[s.jsx(Qe,{control:W.control,name:"startDate",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Comp-off start date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsx(at,{children:s.jsxs(ne,{variant:"outline",className:rt("w-full pl-3 text-left font-normal",!me.value&&"text-muted-foreground"),children:[me.value?ft(me.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(Pr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(vo,{className:"w-auto p-0",align:"start",children:s.jsx(yo,{mode:"single",selected:me.value,onSelect:me.onChange,disabled:tt=>tt<new Date||tt<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:W.control,name:"endDate",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Comp-off end date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsx(at,{children:s.jsxs(ne,{variant:"outline",className:rt("w-full pl-3 text-left font-normal",!me.value&&"text-muted-foreground"),children:[me.value?ft(me.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(Pr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(vo,{className:"w-auto p-0",align:"start",children:s.jsx(yo,{mode:"single",selected:me.value,onSelect:me.onChange,disabled:tt=>tt<new Date||tt<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:W.control,name:"dayType",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Day Type"}),s.jsxs(Dt,{onValueChange:me.onChange,defaultValue:me.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select day type"})})}),s.jsx(Ct,{children:q.map(tt=>s.jsx(_e,{value:tt.value,children:tt.label},tt.value))})]}),s.jsx(yt,{})]})}),Vt&&lt&&s.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-teal-700",children:et()})}),s.jsx(Qe,{control:W.control,name:"reason",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Reason for taking comp-off"}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"Enter your reason for taking comp-off",className:"min-h-[100px] resize-none",...me})}),s.jsx(yt,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>u(!1),className:"text-teal-600 border-teal-200 hover:bg-teal-50",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ne,{type:"submit",disabled:H.isPending,className:"bg-teal-600 hover:bg-teal-700 text-white",children:H.isPending?"Submitting...":"Avail Comp-off"})]})]})})]})}),s.jsx(Rn,{open:d,onOpenChange:f,children:s.jsxs(Mn,{className:"sm:max-w-md",children:[s.jsx(Fn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ln,{className:"text-lg font-semibold",children:"Transfer to Leave"}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>f(!1),className:"h-6 w-6",children:s.jsx(cs,{className:"h-4 w-4"})})]})}),((ws=(Qo=w==null?void 0:w.permissions)==null?void 0:Qo.allowOnBehalf)==null?void 0:ws.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"compoff-transfer-apply-on-behalf",checked:g,onCheckedChange:me=>p(!!me)}),s.jsx("label",{htmlFor:"compoff-transfer-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),g&&s.jsxs(Dt,{value:y,onValueChange:b,children:[s.jsx(At,{className:"w-full",children:s.jsx(kt,{placeholder:"Select Employee"})}),s.jsx(Ct,{children:v.map(me=>s.jsx(_e,{value:me.user_id.toString(),children:me.user_name},me.user_id))})]})]}),s.jsx(li,{...be,children:s.jsxs("form",{onSubmit:be.handleSubmit(ae),className:"space-y-4",children:[s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3",children:s.jsxs("p",{className:"text-sm text-orange-700",children:["Available Comp-off Balance: ",s.jsxs("strong",{children:[le.balance," days"]})]})}),s.jsx(Qe,{control:be.control,name:"leaveTypeId",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Transfer to Leave Type"}),s.jsxs(Dt,{onValueChange:me.onChange,defaultValue:me.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select leave type"})})}),s.jsx(Ct,{children:se&&se.length>0?se.map(tt=>s.jsx(_e,{value:tt.id.toString(),children:tt.name},tt.id)):s.jsx(_e,{value:"no-types",disabled:!0,children:"No leave types assigned to you"})})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:be.control,name:"transferDays",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Days to transfer to leave"}),s.jsx(at,{children:s.jsx(pt,{type:"number",step:"0.5",min:"0.5",max:le.balance,placeholder:"Enter days to transfer",...me,onChange:tt=>me.onChange(parseFloat(tt.target.value))})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:be.control,name:"reason",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Reason for transfer"}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"Enter your reason for transferring comp-off to leave",className:"min-h-[100px] resize-none",...me})}),s.jsx(yt,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>f(!1),className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ne,{type:"submit",disabled:H.isPending,className:"bg-orange-600 hover:bg-orange-700 text-white",children:H.isPending?"Transferring...":"Transfer to Leave"})]})]})})]})}),s.jsx(Rn,{open:h,onOpenChange:m,children:s.jsxs(Mn,{className:"sm:max-w-md",children:[s.jsx(Fn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ln,{className:"text-lg font-semibold",children:"En-Cash Comp Off"}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"h-6 w-6",children:s.jsx(cs,{className:"h-4 w-4"})})]})}),((Mu=(_i=w==null?void 0:w.permissions)==null?void 0:_i.allowOnBehalf)==null?void 0:Mu.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"compoff-encash-apply-on-behalf",checked:g,onCheckedChange:me=>p(!!me)}),s.jsx("label",{htmlFor:"compoff-encash-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),g&&s.jsxs(Dt,{value:y,onValueChange:b,children:[s.jsx(At,{className:"w-full",children:s.jsx(kt,{placeholder:"Select Employee"})}),s.jsx(Ct,{children:v.map(me=>s.jsx(_e,{value:me.user_id.toString(),children:me.user_name},me.user_id))})]})]}),s.jsx(li,{...we,children:s.jsxs("form",{onSubmit:we.handleSubmit(Ue),className:"space-y-4",children:[s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-3",children:s.jsxs("p",{className:"text-sm text-purple-700",children:["Available Comp-off Balance: ",s.jsxs("strong",{children:[le.balance," days"]})]})}),s.jsx(Qe,{control:we.control,name:"enCashDays",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Days to en-cash"}),s.jsx(at,{children:s.jsx(pt,{type:"number",step:"0.5",min:"0.5",max:le.balance,placeholder:"Enter days to en-cash",...me,onChange:tt=>me.onChange(parseFloat(tt.target.value))})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:we.control,name:"dailyRate",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Daily rate (₹)"}),s.jsx(at,{children:s.jsx(pt,{type:"number",step:"0.01",min:"1",placeholder:"Enter daily rate for compensation",...me,onChange:tt=>me.onChange(parseFloat(tt.target.value))})}),s.jsx(yt,{})]})}),we.watch("enCashDays")&&we.watch("dailyRate")&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:s.jsxs("p",{className:"text-sm text-green-700",children:["Total Amount: ",s.jsxs("strong",{children:["₹",(we.watch("enCashDays")*we.watch("dailyRate")).toFixed(2)]})]})}),s.jsx(Qe,{control:we.control,name:"reason",render:({field:me})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Reason for en-cash"}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"Enter your reason for en-cashing comp-off",className:"min-h-[100px] resize-none",...me})}),s.jsx(yt,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>m(!1),className:"text-purple-600 border-purple-200 hover:bg-purple-50",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ne,{type:"submit",disabled:H.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:H.isPending?"Processing...":"En-Cash Comp-off"})]})]})})]})})]})]}),s.jsxs("div",{className:`grid gap-4 ${M.length===2?"grid-cols-2":M.length===3?"grid-cols-3":"grid-cols-4"}`,children:[M.includes("avail")&&s.jsx(Ee,{className:"border border-teal-200 bg-teal-50 cursor-pointer hover:bg-teal-100 transition-colors",onClick:J,children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-teal-700",children:"Avail Comp-off"})}),s.jsx(U0,{className:"w-5 h-5 text-teal-600"})]})})}),M.includes("bank")&&s.jsx(Ee,{className:"border border-blue-200 bg-blue-50 cursor-pointer hover:bg-blue-100 transition-colors",onClick:z,children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-blue-700",children:"Bank Comp-off"})}),s.jsx(U0,{className:"w-5 h-5 text-blue-600"})]})})}),M.includes("transfer")&&s.jsx(Ee,{className:"border border-purple-200 bg-purple-50 cursor-pointer hover:bg-purple-100 transition-colors",onClick:pe,children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-purple-700",children:"Transfer to Leaves"})}),s.jsx(U0,{className:"w-5 h-5 text-purple-600"})]})})}),M.includes("encash")&&s.jsx(Ee,{className:"border border-gray-200 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:ye,children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"En-Cash Comp"})}),s.jsx(U0,{className:"w-5 h-5 text-gray-600"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-8 gap-4",children:[s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:le.totalCompOffs}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total comp offs"})]})}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:le.banked}),s.jsx("div",{className:"text-sm text-gray-600",children:"Banked"})]})}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:le.availed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Availed"})]})}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:le.pendingApprovals}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending approvals"})]})}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:le.expired}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expired"})]})}),s.jsx(Ee,{className:"bg-orange-50 border-orange-200",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:le.balance}),s.jsx("div",{className:"text-sm text-orange-700",children:"Balance"})]})}),s.jsx(Ee,{className:"bg-orange-50 border-orange-200",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:le.carryForward}),s.jsx("div",{className:"text-sm text-orange-700",children:"Carry forward"})]})}),s.jsx(Ee,{className:"bg-orange-50 border-orange-200",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:le.enCashable}),s.jsx("div",{className:"text-sm text-orange-700",children:"En-cashable"})]})})]}),s.jsx("div",{className:"flex items-center space-x-6 border-b border-gray-200",children:X.map(me=>s.jsxs("button",{onClick:()=>t(me.id),className:`flex items-center space-x-2 px-1 py-3 text-sm font-medium border-b-2 transition-colors ${e===me.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx("span",{children:me.label}),me.badge&&s.jsx(Kt,{variant:"secondary",className:"bg-gray-100 text-gray-600 text-xs",children:me.id==="Pending"?"1":"0"})]},me.id))}),s.jsx(Ee,{children:s.jsx(De,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Worked Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Loading comp off requests..."})}):I.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No comp off requests found"})}):I.map(me=>{var on,sr;const tt=zn=>{switch(zn){case"bank":return"Bank";case"avail":return"Avail";case"transfer":return"Transfer";case"en-cash":return"En-Cash";default:return zn||"Bank"}},vr=zn=>{const tn="px-2 py-1 text-xs font-medium rounded-full";switch(zn){case"approved":return`${tn} bg-green-100 text-green-800`;case"pending":return`${tn} bg-yellow-100 text-yellow-800`;case"rejected":return`${tn} bg-red-100 text-red-800`;default:return`${tn} bg-gray-100 text-gray-800`}};return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:tt(me.type)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.reason}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(me.workedDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.type==="transfer"&&me.transferAmount?`${me.transferAmount} days`:me.dayType==="full"?"Full Day":"Half Day"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:vr(me.status),children:((on=me.status)==null?void 0:on.charAt(0).toUpperCase())+((sr=me.status)==null?void 0:sr.slice(1))})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:xe(me)})]},me.id)})})]})})})})]})})}const $Oe=(e,t)=>{const r=ft(e,"yyyy-MM-dd");return t.some(n=>{const a=new Date(n.selectedDate||n.date);return ft(a,"yyyy-MM-dd")===r})},BOe=(e,t,r)=>{let n=0;const a=new Date(e);for(;a<=t;){const i=a.getDay(),o=i===0||i===6,l=$Oe(a,r);!o&&!l&&n++,a.setDate(a.getDate()+1)}return n},UOe=sa({ptoVariantId:er().min(1,"Please select a PTO variant"),requestDate:Zl({required_error:"Request date is required"}),timeType:rr().min(1,"Please select time type"),startTime:rr().optional(),endTime:rr().optional(),totalHours:er().optional(),reason:rr().min(1,"Reason is required"),documentUrl:rr().optional()});function VOe({open:e,onOpenChange:t,onSuccess:r,applyOnBehalf:n=!1,selectedEmployeeId:a="",employees:i=[]}){const{toast:o}=qr(),l=oc(),[c,u]=N.useState(null),[d,f]=N.useState([]),h=n&&a?a:localStorage.getItem("user_id")||"225",{workPattern:m}=rh(),{data:g=[]}=Fe({queryKey:["/api/holidays"],queryFn:async()=>{const A=await fetch("/api/holidays",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return A.ok?A.json():[]},enabled:e}),p=m&&m.selectedHolidays?g.filter(A=>m.selectedHolidays.includes(A.id)):g;console.log("🎯 PTO Form Holiday Filtering:",{workPattern:m==null?void 0:m.patternName,selectedHolidayIds:m==null?void 0:m.selectedHolidays,allHolidays:g.length,filteredHolidays:p.length});const{data:y=[],isLoading:b}=Fe({queryKey:["/api/pto-variants/user",h],queryFn:async()=>{console.log("PTO Form - Fetching variants for user:",h);const A=await fetch("/api/pto-variants",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}}).then(U=>U.json());console.log("PTO Form - All variants:",A);const M=[];for(const U of A)try{const B=await fetch(`/api/employee-assignments/pto/${U.id}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});if(B.ok){const I=await B.json();console.log(`PTO Form - Assignments for variant ${U.id}:`,I);const P=I.some(C=>C.userId===h||C.userId===h.toString());console.log(`PTO Form - User ${h} assigned to variant ${U.id}:`,P),P&&M.push(U)}}catch(B){console.error(`Error checking assignments for variant ${U.id}:`,B)}return console.log("PTO Form - Final user variants:",M),M},enabled:e}),{data:x=[]}=Fe({queryKey:["/api/pto-requests",h],queryFn:async()=>{const A=await fetch(`/api/pto-requests?userId=${h}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return A.ok?A.json():[]},enabled:e}),w=us({resolver:Is(UOe),defaultValues:{reason:"",timeType:""}}),v=w.watch("ptoVariantId"),j=w.watch("timeType"),S=w.watch("requestDate");N.useEffect(()=>{if(v){const A=y.find(M=>M.id===v);console.log("PTO Form - Selected variant:",A),u(A),w.setValue("timeType",""),w.setValue("startTime",""),w.setValue("endTime",""),w.setValue("totalHours",void 0)}else u(null)},[v,y]),N.useEffect(()=>{var P;if(!c||!S){f([]);return}const A=[],M=new Date(S),U=new Date;U.setHours(0,0,0,0);const B=ft(M,"yyyy-MM-dd");if(p.some(C=>{const F=new Date(C.selectedDate||C.date);return ft(F,"yyyy-MM-dd")===B})){const C=((P=p.find(F=>{const R=new Date(F.selectedDate||F.date);return ft(R,"yyyy-MM-dd")===B}))==null?void 0:P.holidayName)||"holiday";A.push(`Cannot apply for PTO on ${C}. Please select a different date.`)}if(c.approvalDays>0){const C=da(U,c.approvalDays);Sx(M,C)&&A.push(`Request must be made at least ${c.approvalDays} days in advance`)}if(c.maxInstances>0&&x.length>0){const C=M.getMonth(),F=M.getFullYear(),R=Math.floor(C/3);x.filter(L=>{const q=new Date(L.requestDate);return c.maxInstancesPeriod==="Month"?q.getMonth()===C&&q.getFullYear()===F:c.maxInstancesPeriod==="Quarter"?Math.floor(q.getMonth()/3)===R&&q.getFullYear()===F:q.getFullYear()===F}).length>=c.maxInstances&&A.push(`Maximum ${c.maxInstances} instances per ${c.maxInstancesPeriod.toLowerCase()} exceeded`)}f(A)},[c,S,x,p]);const _=(A,M)=>{if(!A||!M)return 0;const U=new Date(`2000-01-01T${A}`),B=new Date(`2000-01-01T${M}`);if(B<=U)return 0;const I=B.getTime()-U.getTime();return Math.round(I/(1e3*60*60)*100)/100};N.useEffect(()=>{if(j==="hours"){const A=w.watch("startTime"),M=w.watch("endTime");if(A&&M){const U=_(A,M);w.setValue("totalHours",U)}}},[w.watch("startTime"),w.watch("endTime"),j]);const E=Bt({mutationFn:async A=>await Tt("POST","/api/pto-requests",A),onSuccess:A=>{l.invalidateQueries({queryKey:["/api/pto-requests"]});const M=A.workflowId?"PTO request submitted and sent for approval":"PTO request submitted and approved automatically";o({title:"Success",description:M}),w.reset(),t(!1),r==null||r()},onError:A=>{o({title:"Error",description:A.message||"Failed to submit PTO request",variant:"destructive"})}}),T=A=>{if(d.length>0){o({title:"Validation Error",description:"Please fix the validation errors before submitting",variant:"destructive"});return}let M=1;if(A.requestDate){M=BOe(A.requestDate,A.requestDate,p);const B=ft(A.requestDate,"yyyy-MM-dd");console.log("✅ Using dynamic working days calculation for PTO:",M),console.log("PTO Working Days Calculation:",{requestDate:B,calculatedWorkingDays:M})}if(A.timeType==="hours"){if(!A.startTime||!A.endTime||!A.totalHours){o({title:"Validation Error",description:"Start time, end time, and total hours are required for hour-based PTO",variant:"destructive"});return}if(c!=null&&c.minimumHours&&A.totalHours<c.minimumHours){o({title:"Validation Error",description:`Minimum ${c.minimumHours} hours required`,variant:"destructive"});return}if(c!=null&&c.maxHours&&A.totalHours>c.maxHours){o({title:"Validation Error",description:`Maximum ${c.maxHours} hours allowed`,variant:"destructive"});return}}const U={...A,userId:h,ptoVariantId:parseInt(A.ptoVariantId.toString()),workingDays:M};console.log("PTO Form - Submitting request:",U),E.mutate(U)},D=()=>{if(!c)return[];console.log("PTO Form - Selected variant time options:",{halfDay:c.halfDay,quarterDay:c.quarterDay,hours:c.hours});const A=[];return c.halfDay&&A.push({value:"half_day",label:"Half Day"}),c.quarterDay&&A.push({value:"quarter_day",label:"Quarter Day"}),c.hours&&A.push({value:"hours",label:"Hours"}),console.log("PTO Form - Available PTO time types:",A),A},O=()=>{const A=[];for(let M=0;M<24;M++)for(let U=0;U<60;U+=30){const B=`${M.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}`,I=new Date(`2000-01-01T${B}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});A.push({value:B,label:I})}return A};return s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsxs(Mn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Fn,{children:s.jsxs(Ln,{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"w-5 h-5 text-teal-600"}),"Apply for PTO"]})}),s.jsx(li,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-6",children:[d.length>0&&s.jsx(Ee,{className:"border-red-200 bg-red-50",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(fF,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-800",children:"Validation Errors"}),s.jsx("ul",{className:"mt-1 text-sm text-red-700 list-disc list-inside",children:d.map((A,M)=>s.jsx("li",{children:A},M))})]})]})})}),s.jsx(Qe,{control:w.control,name:"ptoVariantId",render:({field:A})=>{var M;return s.jsxs(Ke,{children:[s.jsx(mt,{children:"PTO Type"}),s.jsxs(Dt,{onValueChange:U=>A.onChange(parseInt(U)),value:(M=A.value)==null?void 0:M.toString(),children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select PTO type"})})}),s.jsx(Ct,{children:b?s.jsx(_e,{value:"loading",disabled:!0,children:"Loading PTO types..."}):y.length===0?s.jsx(_e,{value:"none",disabled:!0,children:"No PTO types available"}):y.map(U=>s.jsx(_e,{value:U.id.toString(),children:U.name},U.id))})]}),s.jsx(yt,{}),c&&s.jsx("p",{className:"text-sm text-gray-600",children:c.description})]})}}),s.jsx(Qe,{control:w.control,name:"requestDate",render:({field:A})=>s.jsxs(Ke,{className:"flex flex-col",children:[s.jsx(mt,{children:"Date"}),s.jsxs(_l,{children:[s.jsx(El,{asChild:!0,children:s.jsx(at,{children:s.jsxs(ne,{variant:"outline",className:rt("w-full pl-3 text-left font-normal",!A.value&&"text-muted-foreground"),children:[A.value?ft(A.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Pr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(vo,{className:"w-auto p-0",align:"start",children:s.jsx(yo,{mode:"single",selected:A.value,onSelect:A.onChange,disabled:M=>{const U=new Date;return U.setHours(0,0,0,0),Sx(M,U)},initialFocus:!0})})]}),s.jsx(yt,{})]})}),c&&s.jsx(Qe,{control:w.control,name:"timeType",render:({field:A})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Time Unit"}),s.jsxs(Dt,{onValueChange:A.onChange,value:A.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Select time unit"})})}),s.jsx(Ct,{children:D().length===0?s.jsx(_e,{value:"none",disabled:!0,children:"No time units available for this PTO type"}):D().map(M=>s.jsx(_e,{value:M.value,children:M.label},M.value))})]}),s.jsx(yt,{})]})}),j==="hours"&&s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Qe,{control:w.control,name:"startTime",render:({field:A})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Start Time"}),s.jsxs(Dt,{onValueChange:A.onChange,value:A.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"Start"})})}),s.jsx(Ct,{className:"max-h-48",children:O().map(M=>s.jsx(_e,{value:M.value,children:M.label},`start-${M.value}`))})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:w.control,name:"endTime",render:({field:A})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"End Time"}),s.jsxs(Dt,{onValueChange:A.onChange,value:A.value,children:[s.jsx(at,{children:s.jsx(At,{children:s.jsx(kt,{placeholder:"End"})})}),s.jsx(Ct,{className:"max-h-48",children:O().map(M=>s.jsx(_e,{value:M.value,children:M.label},`end-${M.value}`))})]}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:w.control,name:"totalHours",render:({field:A})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Total Hours"}),s.jsx(at,{children:s.jsx(pt,{type:"number",step:"0.5",min:"0",max:(c==null?void 0:c.maxHours)||24,value:A.value||"",onChange:M=>A.onChange(parseFloat(M.target.value)),placeholder:"0.0",readOnly:!0,className:"bg-gray-50"})}),s.jsx(yt,{})]})})]}),j==="hours"&&c&&s.jsx(Ee,{className:"bg-blue-50 border-blue-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Hours Requirements:"}),c.minimumHours>0&&s.jsxs("span",{className:"block",children:["• Minimum: ",c.minimumHours," hours"]}),c.maxHours>0&&s.jsxs("span",{className:"block",children:["• Maximum: ",c.maxHours," hours"]})]})})}),s.jsx(Qe,{control:w.control,name:"reason",render:({field:A})=>s.jsxs(Ke,{children:[s.jsx(mt,{children:"Reason"}),s.jsx(at,{children:s.jsx(Tn,{placeholder:"Please provide a reason for your PTO request...",className:"min-h-[80px]",...A})}),s.jsx(yt,{})]})}),(c==null?void 0:c.documentsRequired)&&s.jsx(Qe,{control:w.control,name:"documentUrl",render:({field:A})=>s.jsxs(Ke,{children:[s.jsxs(mt,{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"w-4 h-4"}),"Supporting Document (Required)"]}),s.jsx(at,{children:s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(B_,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Upload a supporting document"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 10MB"})]}),s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"mt-2",onChange:M=>{var U;(U=M.target.files)!=null&&U[0]&&A.onChange(`/uploads/${M.target.files[0].name}`)}})]})})}),s.jsx(yt,{})]})}),s.jsxs(Tx,{children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:E.isPending,children:"Cancel"}),s.jsx(ne,{type:"submit",disabled:E.isPending||d.length>0,className:"bg-teal-600 hover:bg-teal-700",children:E.isPending?"Submitting...":"Submit Request"})]})]})})]})})}function WOe(){var S,_;const[e,t]=N.useState("All"),[r,n]=N.useState("01 Jun 2024 - 31st Dec 2024"),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(""),d=Yp(),{employees:f}=Ru();N.useEffect(()=>{var E,T,D,O;console.log("=== PTO PERMISSION DEBUG ==="),console.log("PTO allowOnBehalf permission:",(T=(E=d==null?void 0:d.permissions)==null?void 0:E.allowOnBehalf)==null?void 0:T.pto),console.log("Should show checkbox?",((O=(D=d==null?void 0:d.permissions)==null?void 0:D.allowOnBehalf)==null?void 0:O.pto)===!0),console.log("External employees array:",f),console.log("External employees length:",f==null?void 0:f.length),console.log("Apply on behalf state:",o),console.log("===============================")},[d,f,o]),N.useEffect(()=>{a||(l(!1),u(""))},[a]);const h=localStorage.getItem("user_id")||"225",{data:m=[],isLoading:g,refetch:p}=Fe({queryKey:["/api/pto-requests",h],queryFn:async()=>{const E=await fetch(`/api/pto-requests?userId=${h}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return E.ok?E.json():[]}}),y=m.filter(E=>e==="All"?!0:E.status.toLowerCase()===e.toLowerCase()),b={totalGranted:m.filter(E=>E.status==="approved").length,pendingApprovals:m.filter(E=>E.status==="pending").length,totalAvailed:m.filter(E=>E.status==="approved").reduce((E,T)=>T.timeType==="hours"?E+(parseFloat(T.totalHours)||0):T.timeType==="half_day"?E+4:T.timeType==="quarter_day"?E+2:E+8,0),rejected:m.filter(E=>E.status==="rejected").length,cancelled:m.filter(E=>E.status==="cancelled").length},x=[{id:"All",label:"All"},{id:"Pending",label:"Pending",count:b.pendingApprovals},{id:"Approved",label:"Approved"},{id:"Rejected",label:"Rejected"}],w=E=>{switch(E){case"approved":return s.jsx(Qn,{className:"w-4 h-4 text-green-600"});case"rejected":return s.jsx(mo,{className:"w-4 h-4 text-red-600"});case"pending":return s.jsx(ea,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(rf,{className:"w-4 h-4 text-gray-600"})}},v=E=>{const T="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium";switch(E){case"approved":return`${T} bg-green-100 text-green-800`;case"rejected":return`${T} bg-red-100 text-red-800`;case"pending":return`${T} bg-yellow-100 text-yellow-800`;case"cancelled":return`${T} bg-gray-100 text-gray-800`;default:return`${T} bg-gray-100 text-gray-800`}},j=E=>{if(E.timeType==="hours"){const T=new Date(`2000-01-01T${E.startTime}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),D=new Date(`2000-01-01T${E.endTime}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});return`${T} - ${D} (${E.totalHours}h)`}else return{full_day:"Full Day",half_day:"Half Day",quarter_day:"Quarter Day"}[E.timeType]||E.timeType};return s.jsxs(Er,{children:[s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Paid time off (PTO)"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Dt,{value:r,onValueChange:n,children:[s.jsx(At,{className:"w-48",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"01 Jun 2024 - 31st Dec 2024",children:"01 Jun 2024 - 31st Dec 2024"}),s.jsx(_e,{value:"01 Jan 2024 - 31st May 2024",children:"01 Jan 2024 - 31st May 2024"}),s.jsx(_e,{value:"01 Jan 2024 - 31st Dec 2024",children:"01 Jan 2024 - 31st Dec 2024"})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs(ne,{className:"bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>i(!0),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Apply for PTO"]}),((_=(S=d==null?void 0:d.permissions)==null?void 0:S.allowOnBehalf)==null?void 0:_.pto)===!0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"pto-apply-on-behalf",checked:o,onCheckedChange:E=>l(!!E)}),s.jsx("label",{htmlFor:"pto-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),o&&s.jsxs(Dt,{value:c,onValueChange:u,children:[s.jsx(At,{className:"w-64",children:s.jsx(kt,{placeholder:"Select Employee"})}),s.jsx(Ct,{children:f&&f.length>0?f.filter(E=>E==null?void 0:E.user_id).map(E=>s.jsx(_e,{value:E.user_id.toString(),children:E.user_name||`Employee ${E.user_id}`},E.user_id)):s.jsx(_e,{value:"no-employees",disabled:!0,children:"No employees available"})})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.totalGranted}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Approved"})]})}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:b.pendingApprovals}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending Approvals"})]})}),s.jsx(Ee,{children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b.totalAvailed.toFixed(1),"h"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]})}),s.jsx(Ee,{className:"bg-red-50 border-red-200",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.rejected}),s.jsx("div",{className:"text-sm text-red-700",children:"Rejected"})]})}),s.jsx(Ee,{className:"bg-gray-50 border-gray-200",children:s.jsxs(De,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:b.cancelled}),s.jsx("div",{className:"text-sm text-gray-700",children:"Cancelled"})]})})]}),s.jsx("div",{className:"flex items-center space-x-6 border-b border-gray-200",children:x.map(E=>s.jsxs("button",{onClick:()=>t(E.id),className:`flex items-center space-x-2 px-1 py-3 text-sm font-medium border-b-2 transition-colors ${e===E.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx("span",{children:E.label}),E.count&&s.jsx(Kt,{variant:"secondary",className:"bg-gray-100 text-gray-600 text-xs",children:E.count})]},E.id))}),s.jsx(Ee,{children:s.jsx(De,{className:"p-0",children:g?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ea,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Loading PTO requests..."})]})}):y.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ea,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:e==="All"?"No PTO requests found":`No ${e.toLowerCase()} requests found`}),s.jsxs(ne,{className:"mt-4 bg-teal-600 hover:bg-teal-700",onClick:()=>i(!0),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Apply for PTO"]})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time / Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applied On"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ft(new Date(E.requestDate),"dd MMM yyyy")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(E)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:E.reason}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:v(E.status),children:[w(E.status),E.status.charAt(0).toUpperCase()+E.status.slice(1)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ft(new Date(E.createdAt),"dd MMM yyyy")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(cx,{className:"w-4 h-4 mr-1"}),"View"]})})]},E.id))})]})})})})]}),s.jsx(VOe,{open:a,onOpenChange:i,onSuccess:()=>{p()},applyOnBehalf:o,selectedEmployeeId:c,employees:f})]})}function HOe(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(!1),[h,m]=N.useState({search:"",status:"all",dateFrom:"",dateTo:""}),[g,p]=N.useState({search:"",status:"all",dateFrom:"",dateTo:""});AM();const y=oc();N.useEffect(()=>{const A=localStorage.getItem("user_id")||"";t(A)},[]),console.log("TaskManager - Current user ID from localStorage:",e);const{data:b=[]}=Fe({queryKey:[`/api/tasks/assigned-to-me/${e}`],enabled:!!e}),{data:x=[]}=Fe({queryKey:[`/api/tasks/assigned-by-me/${e}`],enabled:!!e});console.log("TaskManager - Tasks assigned to me:",b),console.log("TaskManager - Tasks assigned by me:",x);const w=(A,M)=>A.filter(U=>{if(M.search){const B=M.search.toLowerCase();if(!(U.taskDescription.toLowerCase().includes(B)||U.assigneeName.toLowerCase().includes(B)||U.assigneeEmail.toLowerCase().includes(B)))return!1}if(M.status!=="all"&&U.status!==M.status)return!1;if(M.dateFrom){const B=new Date(U.createdAt),I=new Date(M.dateFrom);if(B<I)return!1}if(M.dateTo){const B=new Date(U.createdAt),I=new Date(M.dateTo);if(I.setHours(23,59,59,999),B>I)return!1}return!0}),v=N.useMemo(()=>w(b,h),[b,h]),j=N.useMemo(()=>w(x,g),[x,g]),S=Bt({mutationFn:async({taskId:A,comment:M})=>await Tt("PATCH",`/api/tasks/${A}/accept`,{acceptanceResponse:M||"Task accepted"}),onSuccess:()=>{y.invalidateQueries({queryKey:[`/api/tasks/assigned-to-me/${e}`]}),y.invalidateQueries({queryKey:[`/api/tasks/assigned-by-me/${e}`]}),Qs({title:"Task Accepted",description:"You have successfully accepted this task."}),i(null)},onError:()=>{Qs({title:"Error",description:"Failed to accept task. Please try again.",variant:"destructive"})}}),_=Bt({mutationFn:async({taskId:A,comment:M})=>await Tt("PATCH",`/api/tasks/${A}/reject`,{statusComments:M}),onSuccess:()=>{y.invalidateQueries({queryKey:[`/api/tasks/assigned-to-me/${e}`]}),y.invalidateQueries({queryKey:[`/api/tasks/assigned-by-me/${e}`]}),Qs({title:"Task Rejected",description:"You have rejected this task with your feedback."}),i(null),n("")},onError:()=>{Qs({title:"Error",description:"Failed to reject task. Please try again.",variant:"destructive"})}}),E=Bt({mutationFn:async({taskId:A,status:M,comment:U})=>await Tt("PATCH",`/api/tasks/${A}/complete`,{status:M==="complete"?"done":"not_done",statusComments:U}),onSuccess:()=>{y.invalidateQueries({queryKey:[`/api/tasks/assigned-to-me/${e}`]}),y.invalidateQueries({queryKey:[`/api/tasks/assigned-by-me/${e}`]}),Qs({title:"Task Updated",description:"You have updated the task status with your feedback."}),f(!1),i(null),l(""),u("")},onError:()=>{Qs({title:"Error",description:"Failed to update task status. Please try again.",variant:"destructive"})}}),T=A=>{switch(A){case"accepted":return s.jsxs(Kt,{className:"bg-green-100 text-green-800",children:[s.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Accepted"]});case"rejected":return s.jsxs(Kt,{className:"bg-red-100 text-red-800",children:[s.jsx(mo,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"done":return s.jsxs(Kt,{className:"bg-blue-100 text-blue-800",children:[s.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Complete"]});case"not_done":return s.jsxs(Kt,{className:"bg-orange-100 text-orange-800",children:[s.jsx(mo,{className:"w-3 h-3 mr-1"}),"Incomplete"]});default:return s.jsxs(Kt,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(ea,{className:"w-3 h-3 mr-1"}),"Pending"]})}},D=({filters:A,onFiltersChange:M,title:U})=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:s.jsx(iv,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Filter Tasks"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Refine your search"})]})]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>M({search:"",status:"all",dateFrom:"",dateTo:""}),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx(mo,{className:"w-3 h-3 mr-1"}),"Clear"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(zf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(pt,{placeholder:"Search tasks, names, emails...",value:A.search,onChange:B=>M({...A,search:B.target.value}),className:"pl-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),s.jsxs(Dt,{value:A.status,onValueChange:B=>M({...A,status:B}),children:[s.jsx(At,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:s.jsx(kt,{placeholder:"All statuses"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Statuses"}),s.jsx(_e,{value:"pending",children:"🟡 Pending"}),s.jsx(_e,{value:"accepted",children:"🟢 Accepted"}),s.jsx(_e,{value:"done",children:"✅ Complete"}),s.jsx(_e,{value:"not_done",children:"🔴 Incomplete"}),s.jsx(_e,{value:"rejected",children:"❌ Rejected"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"From Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(pt,{type:"date",value:A.dateFrom,onChange:B=>M({...A,dateFrom:B.target.value}),className:"pl-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(it,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"To Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(pt,{type:"date",value:A.dateTo,onChange:B=>M({...A,dateTo:B.target.value}),className:"pl-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),O=({task:A,showActions:M=!1})=>s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:border-blue-300 dark:hover:border-blue-600 mb-3",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center text-white font-medium text-sm",children:A.assigneeName.split(" ").map(U=>U[0]).join("").slice(0,2)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-base text-gray-900 dark:text-gray-100 mb-1",children:A.assigneeName}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(uF,{className:"w-3 h-3 text-blue-500"}),A.assigneeEmail]}),A.assigneePhone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(cz,{className:"w-3 h-3 text-green-500"}),A.assigneePhone]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[T(A.status),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md",children:["#",A.id]})]})]}),s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-md p-3 border-l-3 border-blue-500",children:[s.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(hw,{className:"w-3 h-3 text-blue-500"}),"Task Description"]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:A.taskDescription})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950 dark:to-amber-950 rounded-md p-3 border border-orange-200 dark:border-orange-800",children:[s.jsxs("h4",{className:"font-medium text-orange-900 dark:text-orange-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(Pr,{className:"w-3 h-3 text-orange-600"}),"Support Date"]}),s.jsx("p",{className:"text-orange-800 dark:text-orange-200 font-medium text-sm",children:A.expectedSupportDateFrom&&A.expectedSupportDateTo?`${ft(new Date(A.expectedSupportDateFrom),"MMM dd, yyyy")} - ${ft(new Date(A.expectedSupportDateTo),"MMM dd, yyyy")}`:ft(new Date(A.expectedSupportDate),"MMM dd, yyyy")})]}),A.additionalNotes&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 rounded-md p-3 border border-purple-200 dark:border-purple-800",children:[s.jsxs("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(hw,{className:"w-3 h-3 text-purple-600"}),"Additional Notes"]}),s.jsx("p",{className:"text-purple-800 dark:text-purple-200 text-sm",children:A.additionalNotes})]})]}),A.acceptanceResponse&&s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border border-green-200 dark:border-green-800 rounded-md p-3 mb-3",children:[s.jsxs("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(Qn,{className:"w-3 h-3 text-green-600"}),"Acceptance Response"]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-2 border border-green-200 dark:border-green-700",children:[s.jsxs("p",{className:"text-green-800 dark:text-green-200 font-medium italic text-sm",children:['"',A.acceptanceResponse,'"']}),A.acceptedAt&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 flex items-center gap-1",children:[s.jsx(ea,{className:"w-3 h-3"}),"Accepted:"," ",ft(new Date(A.acceptedAt),"MMM dd, yyyy 'at' h:mm a")]})]})]}),(A.status==="done"||A.status==="not_done"||A.status==="accepted")&&A.statusComments&&s.jsxs("div",{className:`rounded-md p-3 mb-3 border ${A.status==="done"?"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-300 dark:border-green-700":A.status==="not_done"?"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-950 dark:to-rose-950 border-red-300 dark:border-red-700":"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-300 dark:border-blue-700"}`,children:[s.jsxs("h4",{className:`font-medium mb-2 flex items-center gap-1 text-sm ${A.status==="done"?"text-green-900 dark:text-green-100":A.status==="not_done"?"text-red-900 dark:text-red-100":"text-blue-900 dark:text-blue-100"}`,children:[A.status==="done"&&s.jsx(Qn,{className:"w-3 h-3 text-green-600"}),A.status==="not_done"&&s.jsx(mo,{className:"w-3 h-3 text-red-600"}),A.status==="accepted"&&s.jsx(hw,{className:"w-3 h-3 text-blue-600"}),"Task Completion Feedback"]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-2 border",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status:"}),s.jsx("span",{className:`font-medium text-xs ${A.status==="done"?"text-green-600 dark:text-green-400":A.status==="not_done"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,children:A.status==="done"?"✅ Completed Successfully":A.status==="not_done"?"❌ Incomplete":"🔄 In Progress"})]}),s.jsxs("p",{className:"text-gray-700 dark:text-gray-300 italic font-medium text-sm",children:['"',A.statusComments,'"']}),A.lastStatusUpdate&&s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1",children:[s.jsx(ea,{className:"w-3 h-3"}),"Last updated:"," ",ft(new Date(A.lastStatusUpdate),"MMM dd, yyyy 'at' h:mm a")]})]})]}),M&&A.status==="pending"&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(ne,{onClick:()=>S.mutate({taskId:A.id}),disabled:S.isPending,size:"sm",className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[s.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Accept Task"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>i(A),disabled:_.isPending,className:"flex-1 border-red-300 text-red-600 hover:bg-red-50 dark:hover:bg-red-950 hover:border-red-400",children:[s.jsx(mo,{className:"w-3 h-3 mr-1"}),"Reject Task"]})]}),M&&A.status==="accepted"&&s.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:s.jsxs(ne,{onClick:()=>{i(A),f(!0)},disabled:E.isPending,size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Update Task Status"]})})]})});return s.jsx(Er,{children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(mw,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Task Manager"}),s.jsx("p",{className:"text-gray-600",children:"Manage collaborative leave tasks with ease"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(ea,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(A=>A.status==="pending").length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Pending Tasks"})]})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Qn,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(A=>A.status==="accepted").length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Accepted"})]})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(mw,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(A=>A.status==="done").length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Completed"})]})]})}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Vn,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Tasks Assigned"})]})]})})]})]}),s.jsxs(T2,{defaultValue:"assigned-to-me",className:"w-full",children:[s.jsxs(Iv,{className:"grid w-full grid-cols-2 h-14 bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[s.jsx(Ul,{value:"assigned-to-me",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg font-medium h-full",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mw,{className:"w-4 h-4"}),s.jsx("span",{children:"Tasks Assigned to Me"}),s.jsxs(Kt,{variant:"secondary",className:"ml-2",children:[v.length,"/",b.length]})]})}),s.jsx(Ul,{value:"assigned-by-me",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg font-medium h-full",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vn,{className:"w-4 h-4"}),s.jsx("span",{children:"Tasks I Assigned"}),s.jsxs(Kt,{variant:"secondary",className:"ml-2",children:[j.length,"/",x.length]})]})})]}),s.jsxs(Vl,{value:"assigned-to-me",className:"mt-6",children:[s.jsx(D,{filters:h,onFiltersChange:m,title:"Tasks Assigned to Me"}),s.jsx("div",{className:"space-y-4",children:b.length===0?s.jsx(Ee,{children:s.jsx(De,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No tasks have been assigned to you yet."})})}):v.length===0?s.jsx(Ee,{children:s.jsxs(De,{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"No tasks match your current filters."}),s.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Showing 0 of ",b.length," total tasks"]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",v.length," of"," ",b.length," tasks"]})}),v.map(A=>s.jsx(O,{task:A,showActions:!0},A.id))]})})]}),s.jsxs(Vl,{value:"assigned-by-me",className:"mt-6",children:[s.jsx(D,{filters:g,onFiltersChange:p,title:"Tasks I Assigned"}),s.jsx("div",{className:"space-y-4",children:x.length===0?s.jsx(Ee,{children:s.jsx(De,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"You haven't assigned any tasks yet."})})}):j.length===0?s.jsx(Ee,{children:s.jsxs(De,{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"No tasks match your current filters."}),s.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Showing 0 of ",x.length," total tasks"]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",j.length," of"," ",x.length," tasks"]})}),j.map(A=>s.jsx(O,{task:A,showActions:!1},A.id))]})})]})]}),d&&a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(Ee,{className:"w-full max-w-md",children:[s.jsxs(_t,{children:[s.jsx(Et,{children:"Update Task Status"}),s.jsx(of,{children:"Please provide your feedback on task completion"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"completion-status",children:"Task Status *"}),s.jsxs("select",{id:"completion-status",value:c,onChange:A=>u(A.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select status..."}),s.jsx("option",{value:"complete",children:"Complete - Task finished successfully"}),s.jsx("option",{value:"incomplete",children:"Incomplete - Task not finished or had issues"})]})]}),s.jsxs("div",{children:[s.jsx(it,{htmlFor:"completion-comment",children:"Closing Remarks *"}),s.jsx(Tn,{id:"completion-comment",value:o,onChange:A=>l(A.target.value),placeholder:"Please provide details about how the task went, any issues encountered, or additional notes...",rows:4})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{onClick:()=>{o.trim()&&c?E.mutate({taskId:a.id,status:c,comment:o.trim()}):Qs({title:"Required Fields",description:"Please select a status and provide closing remarks.",variant:"destructive"})},disabled:E.isPending||!o.trim()||!c,className:"flex-1",children:E.isPending?"Updating...":"Update Task"}),s.jsx(ne,{variant:"outline",onClick:()=>{f(!1),i(null),l(""),u("")},className:"flex-1",children:"Cancel"})]})]})]})}),a&&!d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(Ee,{className:"w-full max-w-md",children:[s.jsxs(_t,{children:[s.jsx(Et,{children:"Reject Task"}),s.jsx(of,{children:"Please provide a reason for rejecting this task"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"rejection-comment",children:"Rejection Reason *"}),s.jsx(Tn,{id:"rejection-comment",value:r,onChange:A=>n(A.target.value),placeholder:"Please explain why you cannot accept this task...",rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{onClick:()=>{r.trim()?_.mutate({taskId:a.id,comment:r.trim()}):Qs({title:"Comment Required",description:"Please provide a reason for rejection.",variant:"destructive"})},disabled:_.isPending||!r.trim(),variant:"destructive",className:"flex-1",children:_.isPending?"Rejecting...":"Reject Task"}),s.jsx(ne,{variant:"outline",onClick:()=>{i(null),n("")},className:"flex-1",children:"Cancel"})]})]})]})})]})})}function zOe(){return sM.useSyncExternalStore(qOe,()=>!0,()=>!1)}function qOe(){return()=>{}}var lT="Avatar",[GOe,KPe]=Ka(lT),[KOe,Q9]=GOe(lT),J9=N.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=N.useState("idle");return s.jsx(KOe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(It.span,{...n,ref:t})})});J9.displayName=lT;var Z9="AvatarImage",e7=N.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Q9(Z9,r),l=YOe(n,i),c=ms(u=>{a(u),o.onImageLoadingStatusChange(u)});return xn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(It.img,{...i,ref:t,src:n}):null});e7.displayName=Z9;var t7="AvatarFallback",r7=N.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Q9(t7,r),[o,l]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(It.span,{...a,ref:t}):null});r7.displayName=t7;function O4(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function YOe(e,{referrerPolicy:t,crossOrigin:r}){const n=zOe(),a=N.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=N.useState(()=>O4(i,e));return xn(()=>{l(O4(i,e))},[i,e]),xn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var n7=J9,a7=e7,s7=r7;const EN=N.forwardRef(({className:e,...t},r)=>s.jsx(n7,{ref:r,className:rt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));EN.displayName=n7.displayName;const XOe=N.forwardRef(({className:e,...t},r)=>s.jsx(a7,{ref:r,className:rt("aspect-square h-full w-full",e),...t}));XOe.displayName=a7.displayName;const TN=N.forwardRef(({className:e,...t},r)=>s.jsx(s7,{ref:r,className:rt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));TN.displayName=s7.displayName;const AN="jwt_token";function QOe(e){try{const t=e.split(".");if(t.length!==3)throw new Error("Invalid JWT token format");const r=t[1],n=r+"=".repeat((4-r.length%4)%4),a=atob(n),i=JSON.parse(a),o=Math.floor(Date.now()/1e3);return i.exp&&o>i.exp?(console.warn("JWT token has expired"),null):i}catch(t){return console.error("Failed to decode JWT token:",t),null}}async function JOe(e,t){const{OrgContext:r}=await A2(async()=>{const{OrgContext:i}=await Promise.resolve().then(()=>nH);return{OrgContext:i}},void 0),a=localStorage.getItem("user_id")||e.user_id;console.log("=== JWT STORAGE DEBUG ==="),console.log("JWT payload user_id:",e.user_id),console.log("Storing user_id as:",a),r.setJWTData({org_id:e.org_id,user_id:a,role_id:e.role_id,role_name:e.role_name,user_type_id:e.user_type_id}),localStorage.setItem(AN,t),localStorage.setItem("jwt_token",t),console.log("Stored JWT token with key:",AN),console.log("Token stored successfully:",!!localStorage.getItem("jwt_token")),console.log("Final stored user_id:",localStorage.getItem("user_id")),console.log("Stored user data from JWT:",{org_id:e.org_id,user_id:a,role_id:e.role_id,role_name:e.role_name}),console.log("========================")}function ZOe(){return typeof window>"u"?null:localStorage.getItem("jwt_token")||localStorage.getItem(AN)}function ePe(){const[e,t]=N.useState("Leaves"),[r,n]=N.useState(new Date),[a,i]=N.useState("Pending"),[o,l]=N.useState([]),[c,u]=N.useState("Leaves"),[d,f]=N.useState("2025"),[h,m]=N.useState("Yearly"),[g,p]=N.useState(null),[y,b]=N.useState(!1);localStorage.getItem("user_id");const{workPattern:x,isHoliday:w,getHolidayDetails:v}=rh(),{data:j}=Fe({queryKey:["/external/holidays"],queryFn:async()=>{const W=localStorage.getItem("jwt_token");if(console.log("🔑 [AdminOverview External Holidays] JWT token found:",!!W),!W)throw new Error("JWT token not found in localStorage");console.log("🌐 [AdminOverview External Holidays] Calling API: https://qa-api.resolveindia.com/organization/holidays");const be=await fetch("https://qa-api.resolveindia.com/organization/holidays",{method:"GET",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(console.log("🌐 [AdminOverview External Holidays] Response status:",be.status),!be.ok){const z=await be.text();throw console.log("🌐 [AdminOverview External Holidays] Error response:",z),new Error(`Failed to fetch holidays: ${be.status} ${be.statusText}`)}const we=await be.json();return console.log("🌐 [AdminOverview External Holidays] Response data:",we),we.data||we||[]},staleTime:5*60*1e3,refetchOnMount:!0}),{data:S=[]}=Fe({queryKey:["/api/holidays"]}),_=j&&j.length>0?j:S||[],E=x&&x.selectedHolidays?_.filter(W=>x.selectedHolidays.includes(W.id)):_,{data:T=[]}=Fe({queryKey:["/api/leave-requests"]}),{data:D=[]}=Fe({queryKey:["/api/leave-types"]}),{data:O=[]}=Fe({queryKey:["/api/comp-off-requests"]}),{data:A=[]}=Fe({queryKey:["/api/pto-requests"]}),{data:M=[]}=Fe({queryKey:["/api/leave-variants"]}),{data:U=[]}=Fe({queryKey:["/api/employee-leave-balances"]}),{data:B=[]}=Fe({queryKey:["/api/leave-balance-transactions"]});N.useEffect(()=>{(async()=>{try{if(ZOe()){const we=await ji();we&&Array.isArray(we)&&l(we)}}catch(be){console.error("[AdminOverview] Failed to load employee data:",be)}})()},[]);const I=W=>{const be=o.find(we=>{var z,J,pe;return((z=we.user_id)==null?void 0:z.toString())===W||((J=we.id)==null?void 0:J.toString())===W||((pe=we.employee_number)==null?void 0:pe.toString())===W});return be?be.user_name||(be.first_name&&be.last_name?`${be.first_name} ${be.last_name}`:null)||be.employee_number||`Employee ${W}`:`Employee ${W}`},P=W=>{const be=I(W),we=be.split(" ");return we.length>=2?`${we[0][0]}${we[1][0]}`.toUpperCase():be.substring(0,2).toUpperCase()},C=()=>{const W=T,be=B;console.log("[AdminOverview] Calculating analytics from:",{transactionCount:be.length,requestCount:W.length,sampleTransaction:be[0],sampleRequest:W[0],requestStatuses:Array.from(new Set(W.map(et=>et.status))),transactionData:be.slice(0,2)});const we=W.filter(et=>et.status==="pending").length,z=W.filter(et=>et.status==="approved").length,J=W.filter(et=>et.status==="rejected").length;console.log("[AdminOverview] Request status counts:",{pending:we,approved:z,rejected:J,total:W.length});const pe=W.filter(et=>{if(et.status!=="approved")return!1;const Pt=new Date,Cr=new Date(et.startDate),Hn=new Date(et.endDate);return Pt>=Cr&&Pt<=Hn}).length;console.log("[AdminOverview] Transaction analysis:",{totalTransactions:be.length,sampleTransactions:be.slice(0,3),transactionTypes:Array.from(new Set(be.map(et=>et.transactionType))),descriptions:Array.from(new Set(be.map(et=>et.description))).slice(0,10)});const ae=be.filter(et=>{var Pt,Cr;return et.transactionType==="deduction"&&!((Pt=et.description)!=null&&Pt.includes("Opening balance"))&&!((Cr=et.description)!=null&&Cr.includes("imported from Excel"))}),ye=Math.abs(ae.reduce((et,Pt)=>et+parseFloat(Pt.amount||0),0)),ve=be.filter(et=>et.transactionType==="addition"),Re=ve.reduce((et,Pt)=>et+parseFloat(Pt.amount||0),0),Ue=be.filter(et=>{var Pt;return(Pt=et.description)==null?void 0:Pt.includes("encashed")}),Ge=Math.abs(Ue.reduce((et,Pt)=>et+parseFloat(Pt.amount||0),0)),vt=be.filter(et=>{var Pt;return(Pt=et.description)==null?void 0:Pt.includes("lapsed")}),$e=Math.abs(vt.reduce((et,Pt)=>et+parseFloat(Pt.amount||0),0)),Vt=be.filter(et=>{var Pt;return(Pt=et.description)==null?void 0:Pt.includes("carry forward")}).reduce((et,Pt)=>et+parseFloat(Pt.amount||0),0);console.log("[AdminOverview] Analytics breakdown:",{deductionCount:ae.length,additionCount:ve.length,totalGrantedHalfDays:Re,totalAvailedHalfDays:ye,encashed:Ge,lapsed:$e,carryForward:Vt,sampleDeduction:ae[0],sampleAddition:ve[0]});const lt=W.filter(et=>et.status==="approved");console.log("[AdminOverview] Working days calculation debug:",{totalRequests:W.length,approvedCount:lt.length,sampleApproved:lt.slice(0,10).map(et=>({id:et.id,workingDays:et.workingDays,workingDaysType:typeof et.workingDays,workingDaysParsed:parseFloat(et.workingDays||0),status:et.status,leaveTypeName:et.leaveTypeName}))});const qt=lt.reduce((et,Pt)=>{const Cr=parseFloat(Pt.workingDays||0);return et+Cr},0);return console.log("[AdminOverview] Working days total calculation:",{totalWorkingDays:qt,approvedRequestCount:lt.length,averageDaysPerRequest:qt/(lt.length||1)}),console.log("[AdminOverview] Final analytics result:",{pending:we,approved:z,rejected:J,onLeave:pe,workingDaysAvailed:qt,totalGranted:Math.round(Re/2),totalAvailed:Math.round(ye/2)}),{totalGranted:Math.round(Re/2),pendingApprovals:we,totalOnLeave:pe,totalAvailed:qt||Math.round(ye/2),totalRejected:J,absent:0,totalLossOfPay:0,totalLapsed:Math.round($e/2),totalEncashed:Math.round(Ge/2),carryForward:Math.round(Vt/2),withdrawals:W.filter(et=>et.status==="withdrawal_pending").length}},F=()=>{const W=B,be=T;console.log("[AdminOverview] Raw data analysis:",{transactionCount:W.length,requestCount:be.length,selectedYear:d,sampleTransaction:W[0],sampleRequest:be[0],requestYears:be.map(z=>new Date(z.startDate).getFullYear()).filter((z,J,pe)=>pe.indexOf(z)===J),transactionYears:W.map(z=>new Date(z.createdAt||z.transactionDate).getFullYear()).filter((z,J,pe)=>pe.indexOf(z)===J)});const we=Array.from({length:12},(z,J)=>{const pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][J],ae=be.filter(Re=>Re.status!=="approved"?!1:new Date(Re.startDate).getMonth()===J),ye={};ae.forEach(Re=>{const Ue=Re.leaveTypeName||"Other Leave",Ge=parseFloat(Re.workingDays)||1;ye[Ue]=(ye[Ue]||0)+Ge,J===0&&console.log(`[AdminOverview] Processing ${pe} request:`,{id:Re.id,leaveTypeName:Re.leaveTypeName,workingDays:Re.workingDays,startDate:Re.startDate,status:Re.status})});const ve=Object.values(ye).reduce((Re,Ue)=>Re+Ue,0);return{month:pe,breakdown:ye,total:ve,requestCount:ae.length}});return console.log("[AdminOverview] Monthly data calculated:",we),we},R=C(),se=F(),L=(D==null?void 0:D.map(W=>W.name))||[],q=Array.from(new Set((T==null?void 0:T.map(W=>W.leaveTypeName).filter(Boolean))||[])),H=Array.from(new Set([...L,...q]));console.log("[AdminOverview] Debug leave types analysis:",{totalRequests:(T==null?void 0:T.length)||0,configuredLeaveTypes:L,usedLeaveTypes:q,allLeaveTypes:H,leaveTypeCount:H.length,sampleRequests:T==null?void 0:T.slice(0,5).map(W=>({id:W.id,leaveTypeName:W.leaveTypeName,leaveTypeId:W.leaveTypeId,status:W.status}))});const K={},ce=["bg-blue-500","bg-orange-500","bg-red-500","bg-green-500","bg-purple-500","bg-yellow-500","bg-pink-500","bg-indigo-500"];H.forEach((W,be)=>{K[W]=ce[be%ce.length]}),(()=>{const W=T.filter(we=>we.status==="approved"),be={};return W.forEach(we=>{const z=we.reason||"Other";be[z]=(be[z]||0)+1}),Object.entries(be).map(([we,z])=>({name:we.charAt(0).toUpperCase()+we.slice(1),value:z}))})().reduce((W,be)=>W+be.value,0);const le=[{id:"Leaves",label:"Leaves",count:T.length},{id:"Leave Plans",label:"Leave Plans",count:7},{id:"PTO",label:"PTO",count:A.length},{id:"Comp-off",label:"Comp-off",count:O.length}],X=[{id:"All",label:"All"},{id:"Pending",label:"Pending",count:R.pendingApprovals,highlight:!0},{id:"Approved",label:"Approved"},{id:"Rejected",label:"Rejected"}],he=(()=>{let W=T;return e==="PTO"?W=A:e==="Comp-off"&&(W=O),a==="Pending"?W.filter(be=>be.status==="pending").slice(0,4):a==="Approved"?W.filter(be=>be.status==="approved").slice(0,4):a==="Rejected"?W.filter(be=>be.status==="rejected").slice(0,4):W.slice(0,4)})(),Me=(W,be)=>{const we=new Date(W),z=new Date(be);return we.toDateString()===z.toDateString()?we.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):`${we.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${z.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`},Pe=(W,be,we)=>{if(we)return`${we} working days`;const z=new Date(W),J=new Date(be),pe=Math.abs(J.getTime()-z.getTime());return`${Math.ceil(pe/(1e3*60*60*24))+1} days`},Ie=(()=>{const W=r.getFullYear(),be=r.getMonth(),we=new Date(W,be,1),z=new Date(W,be+1,0),J=new Date(we);J.setDate(J.getDate()-we.getDay());const pe=[],ae=new Date(J);for(;ae<=z||ae.getDay()!==0;){const ye=new Date(ae),ve=ye.getDate(),Re=ye.getMonth()===be,Ue=ye.toDateString()===new Date().toDateString(),Ge=ye.getDay()===0||ye.getDay()===6,$e=(w?w(ye):!1)&&v?v(ye):null,ot=T.filter(Vt=>{if(Vt.status!=="approved")return!1;const lt=new Date(Vt.startDate),qt=new Date(Vt.endDate);return ye>=lt&&ye<=qt});pe.push({date:ye,dayNumber:ve,isCurrentMonth:Re,isToday:Ue,isWeekend:Ge,holiday:$e,leaves:ot}),ae.setDate(ae.getDate()+1)}return pe})();return s.jsx(Er,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Overview"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Dt,{value:d,onValueChange:f,children:[s.jsx(At,{className:"w-24",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2025",children:"2025"}),s.jsx(_e,{value:"2024",children:"2024"}),s.jsx(_e,{value:"2023",children:"2023"})]})]}),s.jsxs(Dt,{value:h,onValueChange:m,children:[s.jsx(At,{className:"w-28",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Yearly",children:"Yearly"}),s.jsx(_e,{value:"Monthly",children:"Monthly"}),s.jsx(_e,{value:"Quarterly",children:"Quarterly"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ee,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Granted"}),s.jsx("p",{className:"text-2xl font-bold",children:R.totalGranted})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(Vn,{className:"h-4 w-4 text-blue-600"})})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approvals"}),s.jsx("p",{className:"text-2xl font-bold",children:R.pendingApprovals})]}),s.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:s.jsx(uz,{className:"h-4 w-4 text-yellow-600"})})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"On Leave Today"}),s.jsx("p",{className:"text-2xl font-bold",children:R.totalOnLeave})]}),s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(kj,{className:"h-4 w-4 text-green-600"})})]})})}),s.jsx(Ee,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Availed"}),s.jsx("p",{className:"text-2xl font-bold",children:R.totalAvailed})]}),s.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:s.jsx(Qn,{className:"h-4 w-4 text-purple-600"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Ee,{className:"lg:col-span-2",children:[s.jsxs(_t,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Et,{className:"flex items-center space-x-2",children:[s.jsx(ea,{className:"h-5 w-5"}),s.jsx("span",{children:"Approval Requests"})]}),s.jsx(ne,{variant:"ghost",size:"sm",children:s.jsx(oF,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg",children:le.map(W=>s.jsxs("button",{onClick:()=>t(W.id),className:`flex-1 px-3 py-2 text-sm rounded-md transition-colors ${e===W.id?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[W.label," (",W.count,")"]},W.id))}),s.jsx("div",{className:"flex space-x-4 mt-4",children:X.map(W=>s.jsxs("button",{onClick:()=>i(W.id),className:`text-sm font-medium pb-2 border-b-2 transition-colors ${a===W.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[W.label,W.count!==void 0&&s.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs ${W.highlight?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:W.count})]},W.id))})]}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:he.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["No ",a.toLowerCase()," requests found"]}):he.map((W,be)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(EN,{className:"h-8 w-8",children:s.jsx(TN,{className:"text-xs",children:P(W.userId||W.user_id)})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:I(W.userId||W.user_id)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="PTO"?`${W.timeType} • ${Me(W.requestDate,W.requestDate)}`:e==="Comp-off"?`${W.actionType} • ${Me(W.workedDate||W.requestDate,W.workedDate||W.requestDate)}`:`${Me(W.startDate,W.endDate)} • ${Pe(W.startDate,W.endDate,W.workingDays)}`})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kt,{variant:W.status==="approved"?"default":W.status==="pending"?"secondary":"destructive",children:W.status}),W.status==="pending"&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(ne,{size:"sm",className:"h-6 px-2 text-xs",children:s.jsx(Qn,{className:"h-3 w-3"})}),s.jsx(ne,{size:"sm",variant:"outline",className:"h-6 px-2 text-xs",children:s.jsx(mo,{className:"h-3 w-3"})})]})]})]},be))})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Et,{className:"flex items-center space-x-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),s.jsx("span",{children:"Calendar"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>n(new Date(r.getFullYear(),r.getMonth()-1)),children:s.jsx(Hf,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium min-w-32 text-center",children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>n(new Date(r.getFullYear(),r.getMonth()+1)),children:s.jsx(No,{className:"h-4 w-4"})})]})]})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-muted-foreground",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>s.jsx("div",{className:"p-1",children:W},W))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ie.map((W,be)=>{const we=W.leaves.length>0,z=W.leaves.length>1;return s.jsx("div",{children:we?s.jsxs(Rn,{children:[s.jsx(pf,{asChild:!0,children:s.jsxs("div",{className:`
                                  aspect-square p-1 text-xs border rounded relative cursor-pointer hover:bg-gray-100
                                  ${W.isCurrentMonth?"bg-background":"bg-muted/50"}
                                  ${W.isToday?"bg-primary text-primary-foreground":""}
                                  ${W.isWeekend?"text-muted-foreground":""}
                                  ${W.holiday?"bg-red-50 text-red-600":""}
                                  ${we?"bg-green-50 border-green-200":""}
                                `,children:[s.jsx("div",{className:"text-center font-semibold",children:W.dayNumber}),we&&s.jsxs("div",{className:"absolute inset-x-1 bottom-1 space-y-0.5",children:[W.leaves.slice(0,2).map((J,pe)=>s.jsx("div",{className:"text-xs truncate px-1 py-0.5 bg-green-200 text-green-800 rounded",title:I(J.userId),children:I(J.userId).split(" ")[0]},pe)),z&&W.leaves.length>2&&s.jsxs("div",{className:"text-xs text-center text-green-700 font-semibold",children:["+",W.leaves.length-2," more"]})]}),W.holiday&&s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]})}),s.jsxs(Mn,{className:"max-w-md",children:[s.jsx(Fn,{children:s.jsxs(Ln,{children:["Employees on Leave -"," ",W.date.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})}),s.jsx("div",{className:"space-y-3",children:W.leaves.map((J,pe)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(EN,{className:"h-10 w-10",children:s.jsx(TN,{className:"text-sm",children:P(J.userId)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:I(J.userId)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:J.leaveTypeName||"Leave"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Me(J.startDate,J.endDate)}),J.workingDays&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[J.workingDays," working days"]})]}),s.jsx(Kt,{variant:J.status==="approved"?"default":"secondary",className:"text-xs",children:J.status})]},pe))})]})]}):s.jsxs("div",{className:`
                              aspect-square p-1 text-xs border rounded relative
                              ${W.isCurrentMonth?"bg-background":"bg-muted/50"}
                              ${W.isToday?"bg-primary text-primary-foreground":""}
                              ${W.isWeekend?"text-muted-foreground":""}
                              ${W.holiday?"bg-red-50 text-red-600":""}
                            `,children:[s.jsx("div",{className:"text-center",children:W.dayNumber}),W.holiday&&s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]})},be)})})]})})]})]}),s.jsxs(Ee,{children:[s.jsxs(_t,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Et,{className:"flex items-center space-x-2",children:[s.jsx(Vn,{className:"h-5 w-5"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Dt,{value:d,onValueChange:f,children:[s.jsx(At,{className:"w-24",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2025",children:"2025"}),s.jsx(_e,{value:"2024",children:"2024"})]})]}),s.jsxs(Dt,{value:h,onValueChange:m,children:[s.jsx(At,{className:"w-24",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Yearly",children:"Yearly"}),s.jsx(_e,{value:"Monthly",children:"Monthly"})]})]})]})]}),s.jsx("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg",children:["Leaves","PTO","Comp-off"].map(W=>s.jsx("button",{onClick:()=>u(W),className:`flex-1 px-3 py-2 text-sm rounded-md transition-colors ${c===W?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:W},W))}),s.jsx("div",{className:"flex space-x-6 mt-4",children:[{id:"Availed",label:"Availed",color:"text-green-600",active:!0}].map(W=>s.jsxs("button",{className:`text-sm font-medium pb-2 border-b-2 transition-colors ${W.active?"border-green-500 text-green-600":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[W.label," ",W.active&&s.jsx("span",{className:"text-green-600",children:"✓"})]},W.id))})]}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Leaves availed: ",R.totalAvailed]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Dt,{value:h,onValueChange:m,children:[s.jsx(At,{className:"w-20",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"Yearly",children:"Yearly"}),s.jsx(_e,{value:"Monthly",children:"Monthly"})]})]}),s.jsxs(Dt,{value:d,onValueChange:f,children:[s.jsx(At,{className:"w-16",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2024",children:"2024"}),s.jsx(_e,{value:"2025",children:"2025"})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-end justify-between h-64 bg-gray-50 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex flex-col justify-between h-full text-xs text-gray-500 mr-2",children:[s.jsx("span",{children:"100"}),s.jsx("span",{children:"80"}),s.jsx("span",{children:"60"}),s.jsx("span",{children:"40"}),s.jsx("span",{children:"20"}),s.jsx("span",{children:"0"})]}),s.jsx("div",{className:"flex items-end justify-between flex-1 h-full space-x-4",children:se.map((W,be)=>{const we=Math.max(...se.map(J=>J.total),50),z=W.total>0?Math.max(W.total/we*100,5):0;return s.jsxs("div",{className:"flex flex-col items-center space-y-1 flex-1 group relative",children:[s.jsx("div",{className:"w-full bg-white border border-gray-200 rounded-sm overflow-hidden flex flex-col-reverse cursor-pointer",style:{height:`${z}%`,minHeight:W.total>0?"20px":"2px",minWidth:"40px",backgroundColor:W.total>0?"#f3f4f6":"transparent"},children:W.total>0&&H.map(J=>{var ae;const pe=((ae=W.breakdown)==null?void 0:ae[J])||0;return pe<=0?null:s.jsx("div",{className:K[J],style:{height:`${pe/W.total*100}%`,minHeight:"4px"}},J)})}),W.total>0&&s.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 
                                          bg-gray-800 text-white text-xs p-2 rounded shadow-lg z-10 
                                          opacity-0 group-hover:opacity-100 transition-opacity duration-200 
                                          whitespace-nowrap pointer-events-none`,children:[s.jsxs("div",{className:"font-semibold",children:[W.month," Details"]}),H.map(J=>{var ae;const pe=((ae=W.breakdown)==null?void 0:ae[J])||0;return pe<=0?null:s.jsxs("div",{children:[J,": ",pe," days"]},J)}),s.jsxs("div",{className:"border-t border-gray-600 mt-1 pt-1",children:["Total: ",W.total," days"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:W.month})]},be)})})]}),s.jsx("div",{className:"flex items-center justify-center flex-wrap gap-4 mt-4",children:H.map(W=>{const be=K[W];return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded ${be}`}),s.jsx("span",{className:"text-sm",children:W})]},W)})})]})]})})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center space-x-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),s.jsx("span",{children:"Upcoming Holidays"})]})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-3",children:(()=>{console.log("[AdminOverview] External holidays data:",j),console.log("[AdminOverview] DB holidays data:",S),console.log("[AdminOverview] All holidays:",_),console.log("[AdminOverview] Filtered holidays:",E),console.log("[AdminOverview] Work pattern selected holidays:",x==null?void 0:x.selectedHolidays);const W=E;if(!W||W.length===0)return s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No upcoming holidays configured"});const be=new Date,we=W.filter(z=>{try{return new Date(z.date||z.selectedDate)>=be}catch{return!1}}).sort((z,J)=>{const pe=new Date(z.date||z.selectedDate),ae=new Date(J.date||J.selectedDate);return pe.getTime()-ae.getTime()}).slice(0,5);return we.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No upcoming holidays"}):we.map((z,J)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:z.name||z.holidayName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(()=>{try{const pe=z.date||z.selectedDate,ae=new Date(pe);return isNaN(ae.getTime())?"Date not available":ae.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}catch{return"Date not available"}})()})]}),s.jsx(Kt,{variant:"outline",children:"Holiday"})]},J))})()})})]})})]})})}function tPe(){const[e,t]=N.useState("Leaves"),[r,n]=N.useState("All"),[a,i]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(""),[d,f]=N.useState(!1),[h,m]=N.useState([]),[g,p]=N.useState(""),[y,b]=N.useState(1),[x]=N.useState(10),{toast:w}=qr(),v=eE(),j=localStorage.getItem("currentView")||"admin",{data:S=[]}=Fe({queryKey:["/api/leave-requests"],enabled:j==="admin"||v.isReportingManager}),{data:_=[]}=Fe({queryKey:["/api/pto-requests"],enabled:j==="admin"||v.isReportingManager}),{data:E=[]}=Fe({queryKey:["/api/comp-off-requests"],enabled:j==="admin"||v.isReportingManager}),{data:T=[]}=Fe({queryKey:["/api/leave-types"]}),{data:D=[]}=Fe({queryKey:["/api/users"]}),{data:O=[],isLoading:A}=Fe({queryKey:["external-employees"],queryFn:ji,staleTime:5*60*1e3}),{data:M=[]}=Fe({queryKey:["/api/blackout-periods"],enabled:j==="admin"||v.isReportingManager}),U=ae=>{if(!ae)return"Unknown Employee";const ye=O.find(Re=>{var Ue;return Re.user_id===ae||Re.user_id===parseInt(ae)||((Ue=Re.user_id)==null?void 0:Ue.toString())===ae});if(ye&&ye.user_name)return ye.user_name;if(ye&&(ye.first_name||ye.last_name)){const Re=`${ye.first_name||""} ${ye.last_name||""}`.trim();if(Re)return Re}const ve=D.find(Re=>Re.id===ae);return ve&&ve.firstName?`${ve.firstName} ${ve.lastName||""}`.trim():`Employee ID: ${ae}`},B=(ae,ye,ve)=>{if(!M||M.length===0)return{hasConflict:!1};const Re=new Date(ye),Ue=new Date(ve);for(const Ge of M){if(!(Ge.assignedEmployees&&(Ge.assignedEmployees.includes(ae.toString())||Ge.assignedEmployees.includes(parseInt(ae)))))continue;const $e=new Date(Ge.startDate),ot=new Date(Ge.endDate);if(Re<=ot&&$e<=Ue)return{hasConflict:!0,periodName:Ge.title}}return{hasConflict:!1}};let I=S,P=_,C=E;if(v.isReportingManager&&v.reportees.length>0){const ae=v.reportees.map(ye=>ye.user_id.toString());I=I.filter(ye=>{var ve;return ae.includes((ve=ye.userId)==null?void 0:ve.toString())}),P=P.filter(ye=>{var ve;return ae.includes((ve=ye.userId)==null?void 0:ve.toString())}),C=C.filter(ye=>{var ve;return ae.includes((ve=ye.userId)==null?void 0:ve.toString())})}const R=(()=>{switch(e){case"PTO":return P;case"CompOff":return C;default:return I}})(),se=R.filter(ae=>ae.status==="pending"||ae.status==="withdrawal_pending"),L=R.filter(ae=>ae.status==="approved"),q=R.filter(ae=>ae.status==="rejected"),H=[{id:"Leaves",label:"Leaves",count:I.length,active:e==="Leaves"},{id:"PTO",label:"PTO",count:P.length,active:e==="PTO"},{id:"CompOff",label:"CompOff",count:C.length,active:e==="CompOff"}],K=[{id:"All",label:"All",count:R.length},{id:"Pending",label:"Pending",count:se.length},{id:"Approved",label:"Approved",count:L.length},{id:"Rejected",label:"Rejected",count:q.length}],ce=()=>{let ae;switch(r){case"Pending":ae=se;break;case"Approved":ae=L;break;case"Rejected":ae=q;break;default:ae=R}return g.trim()&&(ae=ae.filter(ve=>{const Re=U(ve.userId).toLowerCase(),Ue=g.toLowerCase();if(Re.includes(Ue))return!0;let Ge="";if(e==="PTO")Ge="PTO";else if(e==="CompOff")Ge=`Comp-off (${ve.type})`;else{const $e=T.find(ot=>ot.id===ve.leaveTypeId);Ge=($e==null?void 0:$e.name)||"Unknown Leave Type"}return!!(Ge.toLowerCase().includes(Ue)||(ve.status==="withdrawal_pending"?"withdrawal pending":ve.status).toLowerCase().includes(Ue))})),ae.sort((ve,Re)=>{if(ve.status==="withdrawal_pending"&&Re.status!=="withdrawal_pending")return-1;if(Re.status==="withdrawal_pending"&&ve.status!=="withdrawal_pending")return 1;const Ue=new Date(ve.createdAt||ve.startDate||ve.requestDate).getTime();return new Date(Re.createdAt||Re.startDate||Re.requestDate).getTime()-Ue})},ue=()=>ce(),ge=()=>{const ae=ue(),ye=(y-1)*x,ve=ye+x;return ae.slice(ye,ve)},le=ue().length,X=Math.ceil(le/x),xe=le===0?0:(y-1)*x+1,he=Math.min(y*x,le),Me=ae=>{n(ae),b(1)},Pe=ae=>{t(ae),b(1)},Be=ae=>{p(ae),b(1)},Ie=Bt({mutationFn:async ae=>{const ye=be();return Tt("POST",`${ye}/${ae}/approve`)},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-requests"]}),qe.invalidateQueries({queryKey:["/api/pto-requests"]}),qe.invalidateQueries({queryKey:["/api/comp-off-requests"]}),qe.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),w({title:"Success",description:`${e.slice(0,-1)} request approved successfully`})},onError:ae=>{w({title:"Error",description:ae.message||`Failed to approve ${e.toLowerCase()} request`,variant:"destructive"})}}),W=Bt({mutationFn:async({requestId:ae,reason:ye})=>{const ve=be();return Tt("POST",`${ve}/${ae}/reject`,{reason:ye})},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-requests"]}),qe.invalidateQueries({queryKey:["/api/pto-requests"]}),qe.invalidateQueries({queryKey:["/api/comp-off-requests"]}),w({title:"Success",description:`${e.slice(0,-1)} request rejected successfully`})},onError:ae=>{w({title:"Error",description:ae.message||`Failed to reject ${e.toLowerCase()} request`,variant:"destructive"})}}),be=()=>{switch(e){case"PTO":return"/api/pto-requests";case"CompOff":return"/api/comp-off-requests";default:return"/api/leave-requests"}},we=ae=>{Ie.mutate(ae)},z=ae=>{l(ae),u(""),i(!0)},J=()=>{o&&c.trim()&&(W.mutate({requestId:o,reason:c.trim()}),i(!1),l(null),u(""))},pe=ae=>{m(ae),f(!0)};return s.jsxs(Er,{children:[s.jsx("div",{className:"p-6",children:s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Et,{className:"text-lg font-semibold text-gray-900",children:"Approval Requests"}),s.jsx("div",{className:"flex items-center space-x-1",children:H.map(ae=>s.jsxs(ne,{variant:ae.active?"default":"outline",size:"sm",onClick:()=>Pe(ae.id),className:`${ae.active?"bg-black text-white hover:bg-gray-800":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[ae.label," (",ae.count,")"]},ae.id))})]})}),s.jsxs(De,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"flex items-center space-x-6 border-b border-gray-200",children:K.map(ae=>s.jsx("button",{onClick:()=>Me(ae.id),className:`flex items-center space-x-2 px-1 py-3 text-sm font-medium border-b-2 transition-colors ${r===ae.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s.jsxs("span",{children:[ae.label," (",ae.count,")"]})},ae.id))}),s.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(oF,{className:"w-4 h-4 mr-1"}),"View All"]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(pt,{placeholder:"Search by employee name, leave type, or status...",value:g,onChange:ae=>Be(ae.target.value),className:"pl-10"})]})}),A?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading employee data..."})}):ue().length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 text-sm",children:g?`No results found for "${g}"`:"No leave requests found"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Leave Type"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Date Applied"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Leave Period"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Days"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Blackout Period"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider w-32",children:"Actions"})]})}),s.jsx("tbody",{children:ge().map(ae=>{let ye;if(e==="PTO")ye={type:"PTO",startDate:new Date(ae.requestDate).toLocaleDateString(),endDate:new Date(ae.requestDate).toLocaleDateString(),days:ae.timeType==="half_day"?"0.5":ae.timeType==="quarter_day"?"0.25":ae.totalHours?`${ae.totalHours}h`:"1",hasDocuments:ae.documentUrl};else if(e==="CompOff")ye={type:`Comp-off (${ae.type})`,startDate:new Date(ae.date||ae.createdAt).toLocaleDateString(),endDate:new Date(ae.date||ae.createdAt).toLocaleDateString(),days:ae.amount||ae.transferAmount||"1",hasDocuments:ae.documentUrl};else{const ve=T.find(Re=>Re.id===ae.leaveTypeId);ye={type:(ve==null?void 0:ve.name)||"Unknown Leave Type",startDate:new Date(ae.startDate).toLocaleDateString(),endDate:new Date(ae.endDate).toLocaleDateString(),days:ae.workingDays||ae.totalDays||"1",hasDocuments:ae.documents&&ae.documents.length>0}}return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:U(ae.userId)}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:ye.type}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:new Date(ae.createdAt||ae.startDate||ae.requestDate).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:ye.startDate===ye.endDate?ye.startDate:`${ye.startDate} - ${ye.endDate}`}),s.jsxs("td",{className:"py-3 px-4 text-gray-700",children:[ye.days," ",e==="PTO"&&ae.timeType==="hours"?"":"days"]}),s.jsx("td",{className:"py-3 px-4",children:ye.hasDocuments?s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>pe(e==="Leaves"?ae.documents:[ae.documentUrl]),className:"text-blue-600 hover:text-blue-700 p-1",children:s.jsx(Ma,{className:"w-4 h-4"})}):s.jsx("span",{className:"text-gray-400 text-sm",children:"No documents"})}),s.jsx("td",{className:"py-3 px-4",children:(()=>{if(e==="Leaves"){const ve=B(ae.userId,ae.startDate,ae.endDate);return ve.hasConflict?s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-red-600 font-medium",children:"Yes"}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:ve.periodName})]}):s.jsx("span",{className:"text-gray-500 text-sm",children:"No"})}else return s.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})})()}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Kt,{variant:ae.status==="pending"||ae.status==="withdrawal_pending"?"secondary":ae.status==="approved"?"default":"destructive",className:ae.status==="pending"?"bg-yellow-100 text-yellow-800":ae.status==="withdrawal_pending"?"bg-purple-100 text-purple-800":ae.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:ae.status==="withdrawal_pending"?"Withdrawal Pending":ae.status.charAt(0).toUpperCase()+ae.status.slice(1)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[(ae.status==="pending"||ae.status==="withdrawal_pending")&&s.jsxs(s.Fragment,{children:[s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>we(ae.id),disabled:Ie.isPending,className:"text-green-600 border-green-200 hover:bg-green-50 px-2 py-1 h-7 text-xs whitespace-nowrap",children:[s.jsx($_,{className:"w-3 h-3 mr-1"}),"Approve"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>z(ae.id),disabled:W.isPending,className:"text-red-600 border-red-200 hover:bg-red-50 px-2 py-1 h-7 text-xs whitespace-nowrap",children:[s.jsx(cs,{className:"w-3 h-3 mr-1"}),"Reject"]})]}),ae.status!=="pending"&&s.jsx("span",{className:"text-gray-400 text-sm",children:ae.status==="approved"?"Approved":"Rejected"})]})})]},ae.id)})})]}),s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-500",children:s.jsxs("span",{children:["Showing ",xe," to ",he," of ",le," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>b(Math.max(1,y-1)),disabled:y===1,className:"flex items-center",children:[s.jsx(Hf,{className:"w-4 h-4 mr-1"}),"Previous"]}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,X)},(ae,ye)=>{let ve;return X<=5||y<=3?ve=ye+1:y>=X-2?ve=X-4+ye:ve=y-2+ye,s.jsx(ne,{variant:ve===y?"default":"outline",size:"sm",onClick:()=>b(ve),className:"w-8 h-8 p-0",children:ve},ve)})}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>b(Math.min(X,y+1)),disabled:y===X,className:"flex items-center",children:["Next",s.jsx(No,{className:"w-4 h-4 ml-1"})]})]})]})]})})]})]})}),s.jsx(Rn,{open:a,onOpenChange:i,children:s.jsxs(Mn,{className:"sm:max-w-md",children:[s.jsx(Fn,{children:s.jsx(Ln,{children:"Reject Leave Request"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(it,{htmlFor:"rejectionReason",children:"Reason for rejection *"}),s.jsx(Tn,{id:"rejectionReason",value:c,onChange:ae=>u(ae.target.value),placeholder:"Please provide a detailed reason for rejecting this leave request...",className:"mt-1",rows:4})]})}),s.jsxs(Tx,{children:[s.jsx(ne,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(ne,{variant:"destructive",onClick:J,disabled:!c.trim()||W.isPending,children:W.isPending?"Rejecting...":"Reject Request"})]})]})}),s.jsx(Rn,{open:d,onOpenChange:f,children:s.jsxs(Mn,{className:"sm:max-w-2xl",children:[s.jsx(Fn,{children:s.jsx(Ln,{children:"Supporting Documents"})}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No documents attached"}):s.jsx("div",{className:"space-y-3",children:h.map((ae,ye)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ma,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:ae.split("/").pop()||`Document ${ye+1}`}),s.jsx("p",{className:"text-sm text-gray-500",children:"Supporting document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>window.open(ae,"_blank"),children:[s.jsx(cx,{className:"w-4 h-4 mr-1"}),"View"]}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:()=>{const ve=window.document.createElement("a");ve.href=ae,ve.download=ae.split("/").pop()||"document",ve.click()},children:[s.jsx(Wi,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},ye))})}),s.jsx(Tx,{children:s.jsx(ne,{onClick:()=>f(!1),children:"Close"})})]})})]})}const rPe=zp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i7=N.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:rt(rPe({variant:t}),e),...r}));i7.displayName="Alert";const nPe=N.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:rt("mb-1 font-medium leading-none tracking-tight",e),...t}));nPe.displayName="AlertTitle";const o7=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:rt("text-sm [&_p]:leading-relaxed",e),...t}));o7.displayName="AlertDescription";function aPe(){const[e,t]=N.useState(""),[r,n]=N.useState(null),[a,i]=N.useState(!1),[o,l]=N.useState([]),[c,u]=N.useState([]),[d,f]=N.useState(null),[h,m]=N.useState("all");Uf();const{data:g=[],isLoading:p,error:y}=Fe({queryKey:["/api/users"],staleTime:5*60*1e3,gcTime:10*60*1e3});return N.useEffect(()=>{if(g.length>0)try{console.log("[Employees] Processing employee data...",g.length);const b=g.map(x=>({id:x.id,name:`${x.firstName} ${x.lastName}`,designation:x.designation||"Employee",function:x.function||"General",division:x.division||"Employee",location:x.location||"Office",leaveTypesApplied:0,avatar:null,joinedDate:x.joinedDate||"N/A",firstName:x.firstName,lastName:x.lastName,email:x.email,employeeNumber:x.id,gender:x.gender||"N/A",phoneNumber:x.phoneNumber||"N/A",reportingManager:x.reportingManager||"N/A",reportingManagerId:x.reportingManager||null,assignmentStatus:x.assignmentStatus||"Unassigned"}));console.log("[Employees] Successfully formatted employees:",b.length),l(b),u(b),f(null)}catch(b){console.error("[Employees] Error processing employees:",b),f("Failed to process employee data. Please try again.")}else y&&(console.error("[Employees] Error loading employees:",y),f("Failed to load employee data. Please try again."),l([]),u([]))},[g,y]),N.useEffect(()=>{let b=o;e&&(b=b.filter(x=>{var w,v,j;return((w=x.name)==null?void 0:w.toLowerCase().includes(e.toLowerCase()))||((v=x.email)==null?void 0:v.toLowerCase().includes(e.toLowerCase()))||((j=x.employeeNumber)==null?void 0:j.toString().includes(e))})),h!=="all"&&(b=b.filter(x=>x.assignmentStatus===h)),u(b)},[e,h,o]),p?s.jsx(Er,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employees"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Array.from({length:8}).map((b,x)=>s.jsxs("div",{className:"bg-white rounded-lg border p-4 animate-pulse",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},x))})]})}):d?s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsx("div",{className:"text-red-800 text-sm",children:d})})})}):s.jsx(Er,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employees"})}),s.jsxs("div",{className:"mb-6 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(pt,{placeholder:"Search employees...",value:e,onChange:b=>t(b.target.value),className:"pl-10"})]}),s.jsx("div",{className:"w-48",children:s.jsxs(Dt,{value:h,onValueChange:m,children:[s.jsx(At,{children:s.jsx(kt,{placeholder:"Filter by status"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Employees"}),s.jsx(_e,{value:"Assigned",children:"Assigned"}),s.jsx(_e,{value:"Unassigned",children:"Unassigned"})]})]})})]}),(()=>{const b=o.filter(x=>x.assignmentStatus==="Unassigned").length;return b>0?s.jsxs(i7,{className:"mb-6 border-orange-200 bg-orange-50",children:[s.jsx(fF,{className:"h-4 w-4 text-orange-600"}),s.jsxs(o7,{className:"text-orange-800",children:[s.jsx("strong",{children:b})," ",b===1?"employee has":"employees have"," no leave type assignments. Consider assigning leave types to ensure proper leave management."]})]}):null})(),s.jsx("div",{className:"bg-white rounded-lg border",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 font-medium text-gray-900",children:"Employee ID"}),s.jsx("th",{className:"text-left p-4 font-medium text-gray-900",children:"Name"}),s.jsx("th",{className:"text-left p-4 font-medium text-gray-900",children:"Email"}),s.jsx("th",{className:"text-left p-4 font-medium text-gray-900",children:"Designation"}),s.jsx("th",{className:"text-left p-4 font-medium text-gray-900",children:"Reporting Manager"}),s.jsx("th",{className:"text-left p-4 font-medium text-gray-900",children:"Leave Type Assignment"})]})}),s.jsx("tbody",{children:c.map(b=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 text-sm text-gray-900",children:b.id}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(nf,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:b.name}),s.jsx("div",{className:"text-sm text-gray-500",children:b.gender})]})]})}),s.jsx("td",{className:"p-4 text-sm text-gray-900",children:b.email}),s.jsx("td",{className:"p-4 text-sm text-gray-900",children:b.designation}),s.jsx("td",{className:"p-4 text-sm text-gray-900",children:b.reportingManager&&b.reportingManager!=="N/A"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nf,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:b.reportingManager})]}):s.jsx("span",{className:"text-gray-400 italic",children:"No manager assigned"})}),s.jsx("td",{className:"p-4",children:s.jsx(Kt,{variant:b.assignmentStatus==="Assigned"?"default":"secondary",className:b.assignmentStatus==="Assigned"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:b.assignmentStatus})})]},b.id))})]})})}),c.length===0&&!p&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No employees found."})})]})})}const sPe=sa({name:rr().min(1,"Workflow name is required"),effectiveDate:rr().min(1,"Effective date is required"),process:rr().min(1,"Process is required"),subProcesses:is(rr()).min(1,"At least one sub-process is required"),reviewSteps:is(sa({title:rr(),roleIds:is(er()),autoApproval:cr()})).optional()});function iPe(){var T;const{toast:e}=qr(),[t,r]=N.useState(!1),[n,a]=N.useState([]),[i,o]=N.useState(!1),[l,c]=N.useState(null),[u,d]=N.useState(null),f=us({resolver:Is(sPe),defaultValues:{name:"",effectiveDate:"",process:"",subProcesses:[],reviewSteps:[]}}),{data:h=[]}=Fe({queryKey:["/api/workflows"]}),{data:m=[]}=Fe({queryKey:["/api/roles"]}),{data:g}=Fe({queryKey:["/api/company"]});N.useEffect(()=>{if(u&&t){console.log("Editing workflow data:",u);const D={name:u.name||"",effectiveDate:u.effectiveDate?new Date(u.effectiveDate).toISOString().split("T")[0]:"",process:u.process||"application",subProcesses:u.subProcesses?Array.isArray(u.subProcesses)?u.subProcesses:[u.subProcess||"apply-leave"]:["apply-leave"]};if(console.log("Form values being set:",D),f.reset(D),u.steps&&Array.isArray(u.steps)){const O=u.steps.map((A,M)=>({id:A.id||Date.now().toString()+M,title:A.title||"",roleIds:A.roleIds||[],autoApproval:A.autoApproval||!1,days:A.days||0,hours:A.hours||0}));a(O)}else a([])}},[u,t,f]);const p=Bt({mutationFn:async D=>{const O=localStorage.getItem("org_id")||"60";return Tt("POST","/api/workflows",{...D,orgId:parseInt(O)})},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/workflows"]}),e({title:"Success",description:"Workflow created successfully"}),r(!1),f.reset(),a([])},onError:D=>{e({title:"Error",description:D.message||"Failed to create workflow",variant:"destructive"})}}),y=Bt({mutationFn:async({id:D,data:O})=>Tt("PATCH",`/api/workflows/${D}`,O),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/workflows"]}),r(!1),d(null),f.reset(),a([]),e({title:"Success",description:"Workflow updated successfully"})},onError:D=>{e({title:"Error",description:D.message||"Failed to update workflow",variant:"destructive"})}}),b=Bt({mutationFn:async D=>Tt("DELETE",`/api/workflows/${D}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/workflows"]}),e({title:"Success",description:"Workflow deleted successfully"})},onError:D=>{e({title:"Error",description:D.message||"Failed to delete workflow",variant:"destructive"})}}),x=()=>{const D={id:Date.now().toString(),title:"",roleIds:[],autoApproval:!1,days:0,hours:0};a(O=>[...O,D])},w=(D,O)=>{a(A=>A.map(M=>M.id===D?{...M,...O}:M))},v=D=>{if(l!==null){const O=n[l];w(O.id,{roleIds:D})}},j=D=>{var O;console.log("[openAssignRolesDialog] Opening for step:",D),console.log("[openAssignRolesDialog] Current reviewSteps:",n),console.log("[openAssignRolesDialog] Step roleIds:",(O=n[D])==null?void 0:O.roleIds),c(D),o(!0)},S=D=>{if(g!=null&&g.effectiveDate&&D.effectiveDate){const A=new Date(g.effectiveDate);if(new Date(D.effectiveDate)<A){f.setError("effectiveDate",{message:"Effective date cannot be before company setup date"});return}}const O={...D,steps:n.map(A=>({title:A.title,roleIds:A.roleIds,autoApproval:A.autoApproval,days:A.days||0,hours:A.hours||0}))};u?y.mutate({id:u.id,data:O}):p.mutate(O)},_=D=>{d(D),r(!0)},E=D=>{window.confirm("Are you sure you want to delete this workflow?")&&b.mutate(D)};return s.jsx(Er,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Workflows"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage approval workflows for your organization"})]}),s.jsxs(Rn,{open:t,onOpenChange:D=>{r(D),D||(d(null),f.reset(),a([]))},children:[s.jsx(pf,{asChild:!0,children:s.jsxs(ne,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})}),s.jsxs(Mn,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Fn,{children:s.jsx(Ln,{className:"text-xl font-semibold text-gray-900",children:u?"Edit Workflow":"New Workflow"})}),s.jsx(li,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(S),className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Qe,{control:f.control,name:"name",render:({field:D})=>s.jsxs(Ke,{children:[s.jsx(mt,{className:"text-sm font-medium text-gray-700",children:"Workflow Name"}),s.jsx(at,{children:s.jsx(pt,{placeholder:"eg. Leave Approval for Factory Employees",...D,className:"mt-1"})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:f.control,name:"effectiveDate",render:({field:D})=>s.jsxs(Ke,{children:[s.jsx(mt,{className:"text-sm font-medium text-gray-700",children:"Effective Date"}),s.jsx(at,{children:s.jsxs("div",{className:"relative mt-1",children:[s.jsx(pt,{type:"date",placeholder:"Pick a date",...D,min:g!=null&&g.effectiveDate?new Date(g.effectiveDate).toISOString().split("T")[0]:void 0,className:"pl-10"}),s.jsx(Pr,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),s.jsx(yt,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Qe,{control:f.control,name:"process",render:({field:D})=>s.jsxs(Ke,{children:[s.jsx(mt,{className:"text-sm font-medium text-gray-700",children:"Select Process"}),s.jsx(at,{children:s.jsxs(Dt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(At,{className:"mt-1",children:s.jsx(kt,{placeholder:"Select Process"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"application",children:"Application"}),s.jsx(_e,{value:"pto",children:"PTO"}),s.jsx(_e,{value:"comp-off",children:"Comp-off"})]})]})}),s.jsx(yt,{})]})}),s.jsx(Qe,{control:f.control,name:"subProcesses",render:({field:D})=>{var O,A,M,U,B,I,P;return s.jsxs(Ke,{children:[s.jsx(mt,{className:"text-sm font-medium text-gray-700",children:"Select sub-process"}),s.jsx(at,{children:s.jsxs("div",{className:"space-y-2",children:[f.watch("process")==="application"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"apply-leave",checked:((O=D.value)==null?void 0:O.includes("apply-leave"))||!1,onCheckedChange:C=>{const F=D.value||[];C?D.onChange([...F,"apply-leave"]):D.onChange(F.filter(R=>R!=="apply-leave"))}}),s.jsx(it,{htmlFor:"apply-leave",className:"text-sm",children:"Apply Leave"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"withdraw-leave",checked:((A=D.value)==null?void 0:A.includes("withdraw-leave"))||!1,onCheckedChange:C=>{const F=D.value||[];C?D.onChange([...F,"withdraw-leave"]):D.onChange(F.filter(R=>R!=="withdraw-leave"))}}),s.jsx(it,{htmlFor:"withdraw-leave",className:"text-sm",children:"Withdraw Leave"})]})]}),f.watch("process")==="pto"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"apply-pto",checked:((M=D.value)==null?void 0:M.includes("apply-pto"))||!1,onCheckedChange:C=>{const F=D.value||[];C?D.onChange([...F,"apply-pto"]):D.onChange(F.filter(R=>R!=="apply-pto"))}}),s.jsx(it,{htmlFor:"apply-pto",className:"text-sm",children:"Apply PTO"})]}),f.watch("process")==="comp-off"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"bank-comp-off",checked:((U=D.value)==null?void 0:U.includes("bank-comp-off"))||!1,onCheckedChange:C=>{const F=D.value||[];C?D.onChange([...F,"bank-comp-off"]):D.onChange(F.filter(R=>R!=="bank-comp-off"))}}),s.jsx(it,{htmlFor:"bank-comp-off",className:"text-sm",children:"Bank Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"avail-comp-off",checked:((B=D.value)==null?void 0:B.includes("avail-comp-off"))||!1,onCheckedChange:C=>{const F=D.value||[];C?D.onChange([...F,"avail-comp-off"]):D.onChange(F.filter(R=>R!=="avail-comp-off"))}}),s.jsx(it,{htmlFor:"avail-comp-off",className:"text-sm",children:"Avail Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"transfer-comp-off",checked:((I=D.value)==null?void 0:I.includes("transfer-comp-off"))||!1,onCheckedChange:C=>{const F=D.value||[];C?D.onChange([...F,"transfer-comp-off"]):D.onChange(F.filter(R=>R!=="transfer-comp-off"))}}),s.jsx(it,{htmlFor:"transfer-comp-off",className:"text-sm",children:"Transfer to Leaves"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:"encash-comp-off",checked:((P=D.value)==null?void 0:P.includes("encash-comp-off"))||!1,onCheckedChange:C=>{const F=D.value||[];C?D.onChange([...F,"encash-comp-off"]):D.onChange(F.filter(R=>R!=="encash-comp-off"))}}),s.jsx(it,{htmlFor:"encash-comp-off",className:"text-sm",children:"En-Cash Comp"})]})]})]})}),s.jsx(yt,{})]})}})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Review Steps"}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[s.jsx("div",{className:"bg-white px-4 py-2 rounded border border-gray-200 text-center",children:s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Workflow Name"})}),n.map((D,O)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-3",children:["Review ",O+1]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),s.jsx(pt,{placeholder:"eg. Leave Approval for Factory Employees",value:D.title,onChange:A=>w(D.id,{title:A.target.value}),className:"text-sm"})]}),s.jsx("div",{className:"text-xs text-gray-400 mb-3",children:D.roleIds.length===0?"No roles assigned":`${D.roleIds.length} role(s) assigned`}),s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>j(O),className:"w-full text-teal-600 border-teal-600 hover:bg-teal-50 mb-3",children:"Assign Roles"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:`auto-approval-${D.id}`,checked:D.autoApproval,onCheckedChange:A=>w(D.id,{autoApproval:!!A})}),s.jsx(it,{htmlFor:`auto-approval-${D.id}`,className:"text-xs",children:O===n.length-1?"Enable auto-approval if all conditions are met":"Forward to the next review"})]}),D.autoApproval&&s.jsxs("div",{className:"ml-6 space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Auto-approve after:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pt,{type:"number",min:"0",placeholder:"0",value:D.days||"",onChange:A=>w(D.id,{days:parseInt(A.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"days"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(pt,{type:"number",min:"0",max:"23",placeholder:"0",value:D.hours||"",onChange:A=>w(D.id,{hours:parseInt(A.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"hours"})]})]})]})]})]},D.id))]},"workflow-flow-updated"),s.jsx("div",{className:"flex justify-center",children:s.jsxs(ne,{type:"button",variant:"outline",onClick:x,className:"text-teal-600 border-teal-600 hover:bg-teal-50 border-dashed",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Review Step"]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Discard"}),s.jsx(ne,{type:"submit",disabled:p.isPending||y.isPending,className:"bg-teal-600 hover:bg-teal-700",children:u?y.isPending?"Updating...":"Update Workflow":p.isPending?"Creating...":"Create Workflow"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx(Ee,{children:s.jsxs(De,{className:"p-8 text-center",children:[s.jsx(Ri,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows created yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first workflow to manage approval processes"}),s.jsxs(ne,{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})]})}):h.map(D=>s.jsx(Ee,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:D.name}),s.jsx("p",{className:"text-sm text-gray-600",children:D.description}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Process: ",D.process," | Sub-process: ",D.subProcess]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kt,{variant:D.isActive?"default":"secondary",children:D.isActive?"Active":"Inactive"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>_(D),className:"text-blue-600 hover:text-blue-700",children:s.jsx(Ri,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E(D.id),className:"text-red-600 hover:text-red-700",disabled:b.isPending,children:s.jsx(Ta,{className:"h-4 w-4"})})]})]})]})})},D.id))}),s.jsx(oPe,{open:i,onOpenChange:o,onAssign:v,selectedRoleIds:l!==null?((T=n[l])==null?void 0:T.roleIds)||[]:[]})]})})}function oPe({open:e,onOpenChange:t,onAssign:r,selectedRoleIds:n}){const[a,i]=N.useState(n),[o,l]=N.useState("");N.useEffect(()=>{console.log("[AssignRolesDialog] selectedRoleIds prop changed:",n),console.log("[AssignRolesDialog] typeof selectedRoleIds:",typeof n),console.log("[AssignRolesDialog] Array.isArray(selectedRoleIds):",Array.isArray(n)),i(n||[])},[n]),N.useEffect(()=>{e&&(console.log("[AssignRolesDialog] Dialog opened, setting tempSelectedRoles to:",n),i(n||[]))},[e,n]);const{data:c=[]}=Fe({queryKey:["/api/roles"]});console.log("[AssignRolesDialog] Available roles from API:",c),console.log("[AssignRolesDialog] Current tempSelectedRoles:",a);const u=c.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())),d=()=>{r(a),t(!1)},f=h=>{i(m=>m.includes(h)?m.filter(g=>g!==h):[...m,h])};return s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsxs(Mn,{className:"max-w-md",children:[s.jsx(Fn,{children:s.jsx(Ln,{children:"Assign Roles"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(pt,{placeholder:"Search roles...",value:o,onChange:h=>l(h.target.value),className:"pl-10"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:u.map(h=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[s.jsx(Ft,{checked:a.includes(h.id),onCheckedChange:()=>f(h.id)}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"font-medium text-sm",children:h.name})})]},h.id))}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ne,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(ne,{onClick:d,children:["Assign (",a.length,")"]})]})]})]})})}function lPe(){return s.jsx(Er,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Role Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage roles and permissions for your organization."})]}),s.jsx(b6,{onNext:()=>{},onPrevious:()=>{}})]})})}function cPe(){return s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsx(W6,{onNext:()=>{},onPrevious:()=>{},isLast:!1,isLoading:!1})})})}function uPe(){return s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsx(H6,{onNext:()=>{},onPrevious:()=>{},isLast:!1,isLoading:!1})})})}function dPe(){return s.jsx(Er,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Leave Types Configuration"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage leave types, variants, and employee assignments for your organization."})]}),s.jsx(w6,{onNext:()=>{},onPrevious:()=>{}})]})})}const fPe=e=>({heart:ov,smile:qp,umbrella:cv,baby:sv,users:Vn,user:nf,calendar:Pr,stethoscope:lv})[e]||Pr,vb=({children:e})=>{const t=[{id:1,name:"Effective Date",status:"completed"},{id:2,name:"Leave Types",status:"current"},{id:3,name:"Comp off",status:"upcoming"},{id:4,name:"PTO",status:"upcoming"},{id:5,name:"Import Leave Data",status:"upcoming"},{id:6,name:"Roles",status:"upcoming"},{id:7,name:"Workflow",status:"upcoming"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsxs("div",{className:"w-80 bg-white shadow-sm border-r border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"E"})}),s.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"EziiLeave"})]})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Setup"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure your leave management system"})]}),s.jsx("div",{className:"space-y-4",children:t.map((r,n)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${r.status==="completed"?"bg-green-100 text-green-600":r.status==="current"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:r.status==="completed"?"✓":r.id}),s.jsx("span",{className:`text-sm font-medium ${r.status==="current"?"text-gray-900":"text-gray-500"}`,children:r.name})]},r.id))})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:e})]})};function hPe(){const[,e]=hM("/leave-types/:leaveTypeName"),[t]=Uf(),[r,n]=N.useState(!1),[a,i]=N.useState(null),{toast:o}=qr(),l=(e==null?void 0:e.leaveTypeName)||"",c=decodeURIComponent(l),u=t.includes("?setup=true"),{data:d=[],isLoading:f}=Fe({queryKey:["/api/leave-variants"]}),{data:h=[]}=Fe({queryKey:["/api/leave-types"]}),m=h.find(S=>S.name===c),g=d.filter(S=>S.leaveTypeName===c),p=Bt({mutationFn:async S=>await Tt("DELETE",`/api/leave-variants/${S}`),onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/leave-variants"]}),o({title:"Success",description:"Variant deleted successfully."})},onError:S=>{console.error("Delete variant error:",S),o({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),y=()=>{i(null),n(!0)},b=S=>{i(S),n(!0)},x=S=>{confirm("Are you sure you want to delete this variant?")&&p.mutate(S)},w=()=>s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading..."})}),v=()=>s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg text-red-600",children:"Leave type not found"})});if(f)return u?s.jsx(vb,{children:s.jsx(w,{})}):s.jsx(Er,{children:s.jsx(w,{})});if(!m)return u?s.jsx(vb,{children:s.jsx(v,{})}):s.jsx(Er,{children:s.jsx(v,{})});const j=()=>s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ne,{variant:"outline",onClick:()=>window.history.back(),className:"p-2",children:s.jsx(av,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${m.color}20`},children:(()=>{const S=fPe(m.icon);return s.jsx(S,{className:"w-6 h-6",style:{color:m.color}})})()}),s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:c})]})]}),u&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ne,{variant:"outline",children:"Previous"}),s.jsx(ne,{children:"Next"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Variants"}),g.length===0?s.jsxs(Ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-gray-500 mb-4",children:"No variants created for this leave type"}),s.jsxs(ne,{onClick:y,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]}):s.jsxs("div",{className:"space-y-4",children:[g.map(S=>{var _;return s.jsx(Ee,{className:"border border-gray-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:S.leaveVariantName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[S.paidDaysInYear," days · Applied to ",((_=S.applicableGenders)==null?void 0:_.join(", "))||"All"," Employees"]}),S.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>x(S.id),disabled:p.isPending,className:"text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Ta,{className:"w-4 h-4"}),"Delete"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>b(S),className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[s.jsx(Nu,{className:"w-4 h-4"}),"Edit"]})]})]})})},S.id)}),s.jsxs(ne,{variant:"outline",onClick:y,className:"w-full border-dashed border-2 h-16 text-green-600 border-green-300 hover:bg-green-50",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]})]}),r&&s.jsx(C2,{variant:a,leaveType:m,onClose:()=>{n(!1),i(null)}})]});return u?s.jsx(vb,{children:s.jsx(j,{})}):s.jsx(Er,{children:s.jsx(j,{})})}const Hl=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:rt("w-full caption-bottom text-sm",e),...t})}));Hl.displayName="Table";const zl=N.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:rt("[&_tr]:border-b",e),...t}));zl.displayName="TableHeader";const ql=N.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:rt("[&_tr:last-child]:border-0",e),...t}));ql.displayName="TableBody";const mPe=N.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:rt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));mPe.displayName="TableFooter";const fn=N.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:rt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));fn.displayName="TableRow";const dt=N.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:rt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));dt.displayName="TableHead";const st=N.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:rt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));st.displayName="TableCell";const pPe=N.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:rt("mt-4 text-sm text-muted-foreground",e),...t}));pPe.displayName="TableCaption";function P4(){const t=A_().reportType||"dashboard",r=eE(),{employees:n}=Ru(),a=M=>{if(!M)return"Unknown Employee";const U=n.find(B=>{var I;return((I=B.user_id)==null?void 0:I.toString())===M||B.user_id===parseInt(M,10)});if(U&&U.user_name)return U.user_name;if(U&&(U.first_name||U.last_name)){const B=`${U.first_name||""} ${U.last_name||""}`.trim();if(B)return B}return`Employee ${M}`},i=M=>{switch(M){case"balances":return"balance-report";case"leave-availed":return"leave-availed-report";case"withdrawal-rejection":return"withdrawal-rejection-report";case"collaborative-leave":return"collaborative-leave-report";default:return"balance-report"}},[o,l]=N.useState(i(t)),[c,u]=N.useState({from:new Date(new Date().getFullYear(),0,1),to:new Date}),[d,f]=N.useState("all"),[h,m]=N.useState("all"),[g,p]=N.useState("all"),[y,b]=N.useState("");N.useEffect(()=>{l(i(t))},[t]);const x=localStorage.getItem("currentView")||"admin",{data:w=[]}=Fe({queryKey:["/api/leave-requests"],enabled:x==="admin"}),{data:v=[]}=Fe({queryKey:["/api/users"]}),{data:j=[]}=Fe({queryKey:["/api/leave-types"]}),{data:S=[]}=Fe({queryKey:["/api/employee-leave-balances"]}),{data:_=[]}=Fe({queryKey:["/api/leave-variants"]}),{data:E=[]}=Fe({queryKey:["/api/employee-assignments"]}),{data:T=[]}=Fe({queryKey:["/api/collaborative-tasks"],enabled:x==="admin"&&o==="collaborative-leave-report"}),D=()=>{let M=w||[],U=v||[];if(r.isReportingManager&&r.reportees.length>0){const B=r.reportees.map(I=>I.user_id.toString());M=M.filter(I=>{var P;return B.includes((P=I.userId)==null?void 0:P.toString())}),U=U.filter(I=>{var P;return B.includes((P=I.id)==null?void 0:P.toString())}),console.log(`[AdminReports] Filtered to ${M.length} requests and ${U.length} employees for reporting manager`)}else console.log(`[AdminReports] Showing all ${M.length} requests and ${U.length} employees`);return{filteredRequests:M,filteredEmployees:U}},O=()=>{const{filteredRequests:M}=D(),U=M,B=U.length,I=U.filter(R=>R.status==="approved").length,P=U.filter(R=>R.status==="pending").length,C=U.filter(R=>R.status==="rejected").length,F=U.filter(R=>R.status==="approved").reduce((R,se)=>R+(parseFloat(se.workingDays)||0),0);return{totalRequests:B,approvedRequests:I,pendingRequests:P,rejectedRequests:C,totalDaysTaken:F}},A=()=>{O();const{filteredRequests:M}=D();switch(o){case"leave-availed-report":return s.jsxs(Ee,{children:[s.jsxs(_t,{children:[s.jsx(Et,{children:"Leave Availed Report"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed report of all approved leave applications with comprehensive employee and leave details"})]}),s.jsxs(De,{className:"p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Hl,{children:[s.jsx(zl,{children:s.jsxs(fn,{className:"bg-gray-50",children:[s.jsx(dt,{className:"font-semibold",children:"Employee Number"}),s.jsx(dt,{className:"font-semibold",children:"Employee Name"}),s.jsx(dt,{className:"font-semibold",children:"Department"}),s.jsx(dt,{className:"font-semibold",children:"Designation"}),s.jsx(dt,{className:"font-semibold",children:"Application ID"}),s.jsx(dt,{className:"font-semibold",children:"From Date"}),s.jsx(dt,{className:"font-semibold",children:"From Date: Is Half Day"}),s.jsx(dt,{className:"font-semibold",children:"To Date"}),s.jsx(dt,{className:"font-semibold",children:"To Date: Is Half Day"}),s.jsx(dt,{className:"font-semibold",children:"Total Leave Days"}),s.jsx(dt,{className:"font-semibold",children:"Approved By"}),s.jsx(dt,{className:"font-semibold",children:"Leave Type"})]})}),s.jsx(ql,{children:(()=>{const I=M.filter(P=>P.status==="approved");return I.length===0?s.jsx(fn,{children:s.jsx(st,{colSpan:12,className:"py-8 px-4 text-center text-muted-foreground",children:"No approved leave requests found for the selected period"})}):I.map((P,C)=>{const F=n.find(X=>{var xe;return((xe=X.user_id)==null?void 0:xe.toString())===P.userId||X.user_id===parseInt(P.userId,10)}),R=(F==null?void 0:F.employee_number)||P.userId,se=a(P.userId),L=(F==null?void 0:F.department)||"N/A",q=(F==null?void 0:F.designation)||"N/A",H=P.startDate?ft(new Date(P.startDate),"dd-MMM-yyyy"):"N/A",K=P.endDate?ft(new Date(P.endDate),"dd-MMM-yyyy"):"N/A",ce=parseFloat(P.workingDays)||0,ue=P.fromHalfDay||(ce%1!==0?"Yes":"No"),ge=P.toHalfDay||(ce%1!==0&&P.startDate===P.endDate?"Yes":"No"),le=P.approvedByName||P.approvedBy||"System Auto-Approval";return s.jsxs(fn,{className:C%2===0?"bg-white":"bg-gray-50",children:[s.jsx(st,{className:"font-medium",children:R}),s.jsx(st,{children:se}),s.jsx(st,{children:L}),s.jsx(st,{children:q}),s.jsx(st,{children:s.jsx(Kt,{variant:"outline",className:"font-mono text-xs",children:P.id})}),s.jsx(st,{children:H}),s.jsx(st,{className:"text-center",children:s.jsx(Kt,{variant:ue==="Yes"?"secondary":"outline",className:"text-xs",children:ue})}),s.jsx(st,{children:K}),s.jsx(st,{className:"text-center",children:s.jsx(Kt,{variant:ge==="Yes"?"secondary":"outline",className:"text-xs",children:ge})}),s.jsx(st,{className:"text-center",children:s.jsxs(Kt,{variant:"outline",className:"font-semibold",children:[ce," days"]})}),s.jsx(st,{children:le}),s.jsx(st,{children:s.jsx(Kt,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:P.leaveTypeName||"Unknown Leave Type"})})]},`leave-${P.id}-${C}`)})})()})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Applications"}),s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:M.filter(I=>I.status==="approved").length})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Total Days Availed"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:M.filter(I=>I.status==="approved").reduce((I,P)=>I+(parseFloat(P.workingDays)||0),0).toFixed(1)})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Unique Employees"}),s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:new Set(M.filter(I=>I.status==="approved").map(I=>I.userId)).size})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Avg Days per Application"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:(()=>{const I=M.filter(C=>C.status==="approved"),P=I.reduce((C,F)=>C+(parseFloat(F.workingDays)||0),0);return I.length>0?(P/I.length).toFixed(1):"0.0"})()})]})]})]})]});case"withdrawal-rejection-report":return s.jsxs(Ee,{children:[s.jsxs(_t,{children:[s.jsx(Et,{children:"Withdrawal Rejection Report"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive report of all withdrawn and rejected leave applications with balance impact analysis"})]}),s.jsxs(De,{className:"p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Hl,{children:[s.jsx(zl,{children:s.jsxs(fn,{className:"bg-gray-50",children:[s.jsx(dt,{className:"font-semibold",children:"Employee Number"}),s.jsx(dt,{className:"font-semibold",children:"Employee Name"}),s.jsx(dt,{className:"font-semibold",children:"Department"}),s.jsx(dt,{className:"font-semibold",children:"Designation"}),s.jsx(dt,{className:"font-semibold",children:"Application ID"}),s.jsx(dt,{className:"font-semibold",children:"Application Date"}),s.jsx(dt,{className:"font-semibold",children:"Leave Period"}),s.jsx(dt,{className:"font-semibold",children:"Total Leave Days"}),s.jsx(dt,{className:"font-semibold",children:"Leave Type"}),s.jsx(dt,{className:"font-semibold",children:"Status Before Action"}),s.jsx(dt,{className:"font-semibold",children:"Balance Before Action"}),s.jsx(dt,{className:"font-semibold",children:"Action"}),s.jsx(dt,{className:"font-semibold",children:"Balance After Action"}),s.jsx(dt,{className:"font-semibold",children:"Action Initiated By"}),s.jsx(dt,{className:"font-semibold",children:"Reason"})]})}),s.jsx(ql,{children:(()=>{const I=M.filter(P=>P.status==="withdrawn"||P.status==="rejected"||P.status==="withdrawal_pending"||P.status==="withdrawal_approved");return I.length===0?s.jsx(fn,{children:s.jsx(st,{colSpan:15,className:"py-8 px-4 text-center text-muted-foreground",children:"No withdrawn or rejected leave requests found for the selected period"})}):I.map((P,C)=>{const F=n.find(Ie=>{var W;return((W=Ie.user_id)==null?void 0:W.toString())===P.userId||Ie.user_id===parseInt(P.userId,10)}),R=(F==null?void 0:F.employee_number)||P.userId,se=a(P.userId),L=(F==null?void 0:F.department)||"N/A",q=(F==null?void 0:F.designation)||"N/A",H=P.createdAt?ft(new Date(P.createdAt),"dd-MMM-yyyy"):"N/A",K=P.startDate?ft(new Date(P.startDate),"dd-MMM-yyyy"):"N/A",ce=P.endDate?ft(new Date(P.endDate),"dd-MMM-yyyy"):"N/A",ue=K===ce?K:`${K} to ${ce}`,ge=parseFloat(P.workingDays)||0;let le="pending",X="Unknown",xe="System",he=P.rejectionReason||P.withdrawalReason||"No reason provided";switch(P.status){case"rejected":le="pending",X="Rejected",xe=P.rejectedBy||P.actionBy||"Admin",he=P.rejectionReason||"No reason provided";break;case"withdrawn":le=P.previousStatus||"pending",X="Withdrawn",xe=P.withdrawnBy||se||"Employee",he=P.withdrawalReason||"Employee initiated withdrawal";break;case"withdrawal_pending":le="approved",X="Withdrawal Requested",xe=P.withdrawnBy||se||"Employee",he=P.withdrawalReason||"Employee requested withdrawal";break;case"withdrawal_approved":le="approved",X="Withdrawal Approved",xe=P.withdrawalApprovedBy||"Admin",he=P.withdrawalReason||"Withdrawal approved by admin";break}let Me="N/A",Pe="N/A";P.status==="rejected"||P.status==="withdrawn"&&le==="pending"?(Me="No impact",Pe="No impact"):P.status==="withdrawn"||P.status==="withdrawal_approved"?(Me=`Reduced by ${ge} days`,Pe=`Restored ${ge} days`):P.status==="withdrawal_pending"&&(Me=`Reduced by ${ge} days`,Pe="Pending restoration");const Be=Ie=>{switch(Ie){case"rejected":return"destructive";case"withdrawn":return"secondary";case"withdrawal_pending":return"outline";case"withdrawal_approved":return"default";default:return"outline"}};return s.jsxs(fn,{className:C%2===0?"bg-white":"bg-gray-50",children:[s.jsx(st,{className:"font-medium",children:R}),s.jsx(st,{children:se}),s.jsx(st,{children:L}),s.jsx(st,{children:q}),s.jsx(st,{children:s.jsx(Kt,{variant:"outline",className:"font-mono text-xs",children:P.id})}),s.jsx(st,{children:H}),s.jsx(st,{children:ue}),s.jsx(st,{className:"text-center",children:s.jsxs(Kt,{variant:"outline",className:"font-semibold",children:[ge," days"]})}),s.jsx(st,{children:s.jsx(Kt,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:P.leaveTypeName||"Unknown Leave Type"})}),s.jsx(st,{children:s.jsx(Kt,{variant:"outline",className:"capitalize",children:le})}),s.jsx(st,{className:"text-sm",children:Me}),s.jsx(st,{children:s.jsx(Kt,{variant:Be(P.status),className:"capitalize",children:X})}),s.jsx(st,{className:"text-sm",children:Pe}),s.jsx(st,{children:xe}),s.jsx(st,{className:"max-w-xs",children:s.jsx("div",{className:"text-sm text-gray-600 truncate",title:he,children:he})})]},`withdraw-reject-${P.id}-${C}`)})})()})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Total Rejected"}),s.jsx("div",{className:"text-2xl font-bold text-red-900",children:M.filter(I=>I.status==="rejected").length})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Withdrawn"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:M.filter(I=>I.status==="withdrawn"||I.status==="withdrawal_approved").length})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-yellow-600 font-medium",children:"Withdrawal Pending"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:M.filter(I=>I.status==="withdrawal_pending").length})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Days Affected"}),s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:M.filter(I=>I.status==="rejected"||I.status==="withdrawn"||I.status==="withdrawal_pending"||I.status==="withdrawal_approved").reduce((I,P)=>I+(parseFloat(P.workingDays)||0),0).toFixed(1)})]})]})]})]});case"collaborative-leave-report":const B=(()=>{let I=T;return c!=null&&c.from&&(c!=null&&c.to)&&(I=I.filter(P=>{const C=P.createdAt?new Date(P.createdAt):null;return C&&C>=c.from&&C<=c.to})),g!=="all"&&(I=I.filter(P=>P.status===g)),y.trim()&&(I=I.filter(P=>{var C,F;return((C=P.assigneeName)==null?void 0:C.toLowerCase().includes(y.toLowerCase()))||((F=P.assigneeEmail)==null?void 0:F.toLowerCase().includes(y.toLowerCase()))})),I})();return s.jsxs(Ee,{children:[s.jsxs(_t,{children:[s.jsxs(Et,{className:"flex items-center gap-2",children:[s.jsx(Vn,{className:"w-5 h-5"}),"Collaborative Leave Report"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track all collaborative leave task assignments across the organization with current statuses and performance metrics"})]}),s.jsxs(De,{className:"p-0",children:[s.jsx("div",{className:"p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Tasks"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:B.filter(I=>I.status==="done").length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pending"})]}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:B.filter(I=>["pending","accepted"].includes(I.status)).length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mo,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Rejected"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:B.filter(I=>["rejected","not_done"].includes(I.status)).length})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Hl,{children:[s.jsx(zl,{children:s.jsxs(fn,{className:"bg-gray-50",children:[s.jsx(dt,{className:"font-semibold",children:"Task ID"}),s.jsx(dt,{className:"font-semibold",children:"Leave Request ID"}),s.jsx(dt,{className:"font-semibold",children:"Leave Requester"}),s.jsx(dt,{className:"font-semibold",children:"Assignee Name"}),s.jsx(dt,{className:"font-semibold",children:"Assignee Email"}),s.jsx(dt,{className:"font-semibold",children:"Task Description"}),s.jsx(dt,{className:"font-semibold",children:"Support Date"}),s.jsx(dt,{className:"font-semibold",children:"Status"}),s.jsx(dt,{className:"font-semibold",children:"Accepted At"}),s.jsx(dt,{className:"font-semibold",children:"Last Updated"}),s.jsx(dt,{className:"font-semibold",children:"Status Comments"})]})}),s.jsx(ql,{children:B.length===0?s.jsx(fn,{children:s.jsx(st,{colSpan:11,className:"text-center py-8 text-gray-500",children:"No collaborative leave tasks found for the selected criteria."})}):B.map((I,P)=>{const C=R=>{switch(R){case"done":return s.jsx(Kt,{className:"bg-green-100 text-green-800 border-green-200",children:"Completed"});case"accepted":return s.jsx(Kt,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"In Progress"});case"pending":return s.jsx(Kt,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Pending"});case"rejected":return s.jsx(Kt,{className:"bg-red-100 text-red-800 border-red-200",children:"Rejected"});case"not_done":return s.jsx(Kt,{className:"bg-gray-100 text-gray-800 border-gray-200",children:"Not Done"});default:return s.jsx(Kt,{variant:"outline",children:R})}},F=I.expectedSupportDateFrom&&I.expectedSupportDateTo?`${ft(new Date(I.expectedSupportDateFrom),"dd-MMM-yyyy")} to ${ft(new Date(I.expectedSupportDateTo),"dd-MMM-yyyy")}`:I.expectedSupportDate?ft(new Date(I.expectedSupportDate),"dd-MMM-yyyy"):"Not specified";return s.jsxs(fn,{className:P%2===0?"bg-white":"bg-gray-50",children:[s.jsx(st,{className:"font-medium",children:s.jsx(Kt,{variant:"outline",className:"font-mono text-xs",children:I.id})}),s.jsx(st,{children:s.jsx(Kt,{variant:"outline",className:"font-mono text-xs",children:I.leaveRequestId})}),s.jsx(st,{className:"font-medium",children:I.leaveRequesterName||`User ${I.leaveRequesterId}`||"Unknown"}),s.jsx(st,{className:"font-medium",children:I.assigneeName}),s.jsx(st,{className:"text-sm text-gray-600",children:I.assigneeEmail}),s.jsx(st,{className:"max-w-xs",children:s.jsx("div",{className:"truncate",title:I.taskDescription,children:I.taskDescription})}),s.jsx(st,{className:"text-sm",children:F}),s.jsx(st,{children:C(I.status)}),s.jsx(st,{className:"text-sm",children:I.acceptedAt?ft(new Date(I.acceptedAt),"dd-MMM-yyyy HH:mm"):"Not accepted"}),s.jsx(st,{className:"text-sm",children:I.lastStatusUpdate?ft(new Date(I.lastStatusUpdate),"dd-MMM-yyyy HH:mm"):"No updates"}),s.jsx(st,{className:"max-w-xs",children:s.jsx("div",{className:"truncate",title:I.statusComments||"No comments",children:I.statusComments||"No comments"})})]},`task-${I.id}-${P}`)})})]})})]})]});default:return s.jsx("div",{children:"Select a report type to view data."})}};return s.jsx(Er,{children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(Et,{className:"text-2xl",children:"Admin Reports"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive leave management analytics and insights"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(iv,{className:"h-4 w-4 mr-2"}),"Filter"]}),s.jsxs(ne,{variant:"outline",size:"sm",children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),s.jsx(De,{children:o==="collaborative-leave-report"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Task Status"}),s.jsxs(Dt,{value:g,onValueChange:p,children:[s.jsx(At,{children:s.jsx(kt,{placeholder:"Select status"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Statuses"}),s.jsx(_e,{value:"pending",children:"Pending"}),s.jsx(_e,{value:"accepted",children:"Accepted"}),s.jsx(_e,{value:"done",children:"Completed"}),s.jsx(_e,{value:"rejected",children:"Rejected"}),s.jsx(_e,{value:"not_done",children:"Not Done"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Assignee Name"}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",value:y,onChange:M=>b(M.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ft(c.from,"MMM dd, yyyy")," - ",ft(c.to,"MMM dd, yyyy")]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Actions"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{p("all"),b("")},children:"Clear Filters"})})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Department"}),s.jsxs(Dt,{value:d,onValueChange:f,children:[s.jsx(At,{children:s.jsx(kt,{placeholder:"Select department"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Departments"}),s.jsx(_e,{value:"engineering",children:"Engineering"}),s.jsx(_e,{value:"hr",children:"Human Resources"}),s.jsx(_e,{value:"sales",children:"Sales"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Leave Type"}),s.jsxs(Dt,{value:h,onValueChange:m,children:[s.jsx(At,{children:s.jsx(kt,{placeholder:"Select leave type"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Leave Types"}),j.map(M=>s.jsx(_e,{value:M.id.toString(),children:M.name},M.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ft(c.from,"MMM dd, yyyy")," - ",ft(c.to,"MMM dd, yyyy")]})]})]})})]}),s.jsx("div",{className:"space-y-6",children:A()})]})})})}function gPe(){const t=A_().reportType||"dashboard",{employees:r}=Ru(),n=()=>{const I=localStorage.getItem("user_id")||"2161",P=r.find(C=>{var F;return((F=C.user_id)==null?void 0:F.toString())===I||C.user_id===parseInt(I,10)});if(P&&P.user_name)return P.user_name;if(P&&(P.first_name||P.last_name)){const C=`${P.first_name||""} ${P.last_name||""}`.trim();if(C)return C}return`Employee ${I}`},a=I=>{switch(I){case"history":return"my-leave-history";case"balances":return"my-leave-balances";case"withdrawal-history":return"my-withdrawal-history";default:return"my-leave-history"}},[i,o]=N.useState(a(t)),[l,c]=N.useState({from:new Date(new Date().getFullYear(),0,1),to:new Date}),[u,d]=N.useState("2025"),[f,h]=N.useState("all"),[m,g]=N.useState("");N.useEffect(()=>{o(a(t))},[t]);const p=localStorage.getItem("user_id")||"2161",{data:y=[]}=Fe({queryKey:[`/api/leave-requests?userId=${p}`]}),{data:b=[]}=Fe({queryKey:[`/api/employee-leave-balances/${p}`]}),{data:x=[]}=Fe({queryKey:[`/api/leave-balance-transactions/${p}`]}),{data:w=[]}=Fe({queryKey:["/api/leave-types"]}),{data:v=[]}=Fe({queryKey:["/api/leave-variants"]}),{data:j=[]}=Fe({queryKey:["/api/employee-assignments"]}),S=()=>{const I=Array.isArray(j)?j:[],P=Array.isArray(v)?v:[],C=b||[],F=x||[],R=y||[],se=I.filter(H=>H.userId===p&&H.assignmentType==="leave_variant"),L=se.map(H=>H.leaveVariantId),q=P.filter(H=>L.includes(H.id));return console.log("🔍 [Employee Reports Assignment Filter]:",{userId:p,totalAssignments:I.length,userAssignments:se.length,assignedVariantIds:L,availableVariants:q.length,variantNames:q.map(H=>H.leaveVariantName||H.leaveTypeName)}),q.map(H=>{const K=C.find(J=>J.leaveVariantId===H.id),ce=F.filter(J=>J.leaveVariantId===H.id),ge=F.filter(J=>{var ve;const pe=J.transactionType==="grant"&&((ve=J.description)==null?void 0:ve.toLowerCase().includes("opening balance imported from excel")),ae=J.userId===p;if(!pe||!ae)return!1;if(J.leaveVariantId===H.id)return!0;const ye=q.find(Re=>Re.id===J.leaveVariantId);return(ye==null?void 0:ye.leaveTypeName)===H.leaveTypeName||(ye==null?void 0:ye.leaveTypeId)===H.leaveTypeId}).sort((J,pe)=>new Date(pe.createdAt).getTime()-new Date(J.createdAt).getTime()).reduce((J,pe)=>J+parseFloat(pe.amount||"0"),0),le=H.grantLeaves==="after_earning",X=K?parseFloat(K.totalEntitlement||"0"):0;let xe=0;if(le){const pe=new Date().getMonth()+1-1;xe=(X||H.annualLeaveAllocation||0)/12*pe}else{const J=X||H.annualLeaveAllocation||0;if(H.grantFrequency==="per_year")xe=J;else{const pe=new Date().getMonth()+1;xe=J/12*pe}}const he=xe+ge,Me=H.leaveBalanceDeductionBefore===!0,Pe=R.filter(J=>J.leaveVariantId===H.id||(J.leaveVariantId===null||J.leaveVariantId===void 0)&&J.leaveTypeId===H.leaveTypeId),Ie=Pe.filter(J=>J.status==="approved").reduce((J,pe)=>J+parseFloat(pe.workingDays||"0"),0);let W=0;Me&&(W=Pe.filter(pe=>pe.status==="pending").reduce((pe,ae)=>pe+parseFloat(ae.workingDays||"0"),0));const be=ce.filter(J=>{var pe,ae;return((pe=J.description)==null?void 0:pe.toLowerCase().includes("imported leave transaction"))&&((ae=J.description)==null?void 0:ae.toLowerCase().includes("availed"))&&(J.transactionType==="deduction"||J.transactionType==="debit")}).reduce((J,pe)=>J+Math.abs(parseFloat(pe.amount||"0")),0),we=Ie+W+be,z=he-we;return{leaveType:H.leaveTypeName||H.leaveVariantName||"Unknown",entitlement:xe,used:we,carryForward:ge,available:z,year:new Date().getFullYear()}})},_=()=>{let I=y||[];return f!=="all"&&(I=I.filter(P=>{const C=w.find(F=>F.id===P.leaveTypeId);return(C==null?void 0:C.name)===f})),m&&(I=I.filter(P=>{var C,F;return((C=P.reason)==null?void 0:C.toLowerCase().includes(m.toLowerCase()))||((F=P.status)==null?void 0:F.toLowerCase().includes(m.toLowerCase()))})),I},E=()=>y.filter(I=>I.status==="withdrawal_pending"||I.status==="withdrawn"),T=S(),D=_(),O=E();console.log("=== EMPLOYEE REPORTS DEBUG ==="),console.log("URL reportType:",t),console.log("selectedReport:",i),console.log("localStorage user_id:",localStorage.getItem("user_id")),console.log("currentUserId variable:",p),console.log("myLeaveRequests length:",y.length),console.log("myLeaveBalances length:",b.length),console.log("================================");const A=()=>{const I={employeeName:n(),employeeId:p,reportType:i,dateRange:l,data:i==="my-leave-balances"?T:i==="my-withdrawal-history"?O:D},P=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),C=URL.createObjectURL(P),F=document.createElement("a");F.href=C,F.download=`${i}-${n()}-${ft(new Date,"yyyy-MM-dd")}.json`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(C)},M=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"My Leave History"})}),s.jsxs(De,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(pt,{placeholder:"Search by reason or status...",value:m,onChange:I=>g(I.target.value)})}),s.jsxs(Dt,{value:f,onValueChange:h,children:[s.jsx(At,{className:"w-48",children:s.jsx(kt,{placeholder:"Filter by leave type"})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Leave Types"}),w.map(I=>s.jsx(_e,{value:I.name,children:I.name},I.id))]})]}),s.jsxs(Dt,{value:u,onValueChange:d,children:[s.jsx(At,{className:"w-32",children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2025",children:"2025"}),s.jsx(_e,{value:"2024",children:"2024"})]})]}),s.jsxs(ne,{onClick:A,variant:"outline",children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs(Hl,{children:[s.jsx(zl,{children:s.jsxs(fn,{children:[s.jsx(dt,{children:"Date Applied"}),s.jsx(dt,{children:"Leave Type"}),s.jsx(dt,{children:"Duration"}),s.jsx(dt,{children:"From - To"}),s.jsx(dt,{children:"Working Days"}),s.jsx(dt,{children:"Status"}),s.jsx(dt,{children:"Reason"})]})}),s.jsx(ql,{children:D.map(I=>{const P=w.find(C=>C.id===I.leaveTypeId);return s.jsxs(fn,{children:[s.jsx(st,{children:ft(new Date(I.appliedDate||I.createdAt),"MMM dd, yyyy")}),s.jsx(st,{children:(P==null?void 0:P.name)||"Unknown"}),s.jsxs(st,{children:[I.totalDays," days"]}),s.jsxs(st,{children:[ft(new Date(I.startDate),"MMM dd")," -"," ",ft(new Date(I.endDate),"MMM dd, yyyy")]}),s.jsxs(st,{children:[I.workingDays," days"]}),s.jsx(st,{children:s.jsx(Kt,{variant:I.status==="approved"?"default":I.status==="rejected"?"destructive":"secondary",children:I.status})}),s.jsx(st,{className:"max-w-xs truncate",children:I.reason||"No reason provided"})]},I.id)})})]})]})]})}),U=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"flex items-center space-x-2",children:[s.jsx(L_,{className:"h-5 w-5"}),s.jsx("span",{children:"My Leave Balances"})]})}),s.jsxs(De,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("p",{className:"text-muted-foreground",children:["Employee:"," ",s.jsx("span",{className:"font-medium",children:n()})," | Year: ",s.jsx("span",{className:"font-medium",children:u})]}),s.jsxs(ne,{onClick:A,variant:"outline",children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs(Hl,{children:[s.jsx(zl,{children:s.jsxs(fn,{children:[s.jsx(dt,{children:"Leave Type"}),s.jsx(dt,{children:"Entitlement"}),s.jsx(dt,{children:"Used"}),s.jsx(dt,{children:"Available"}),s.jsx(dt,{children:"Utilization %"})]})}),s.jsx(ql,{children:T.map((I,P)=>{const C=I.entitlement>0?I.used/I.entitlement*100:0;return s.jsxs(fn,{children:[s.jsx(st,{className:"font-medium",children:I.leaveType}),s.jsx(st,{children:I.entitlement.toFixed(1)}),s.jsx(st,{children:I.used.toFixed(1)}),s.jsx(st,{className:"font-medium",children:I.available.toFixed(1)}),s.jsx(st,{children:s.jsxs("span",{className:`font-medium ${C>80?"text-red-600":C>60?"text-yellow-600":"text-green-600"}`,children:[C.toFixed(1),"%"]})})]},P)})})]})]})]})}),B=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"My Withdrawal History"})}),s.jsxs(De,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("p",{className:"text-muted-foreground",children:["Employee:"," ",s.jsx("span",{className:"font-medium",children:n()})]}),s.jsxs(ne,{onClick:A,variant:"outline",children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs(Hl,{children:[s.jsx(zl,{children:s.jsxs(fn,{children:[s.jsx(dt,{children:"Original Request"}),s.jsx(dt,{children:"Leave Type"}),s.jsx(dt,{children:"Duration"}),s.jsx(dt,{children:"Withdrawal Date"}),s.jsx(dt,{children:"Withdrawal Status"}),s.jsx(dt,{children:"Withdrawal Reason"})]})}),s.jsxs(ql,{children:[O.map(I=>{var C;const P=w.find(F=>F.id===I.leaveTypeId);return s.jsxs(fn,{children:[s.jsxs(st,{children:[ft(new Date(I.startDate),"MMM dd")," -"," ",ft(new Date(I.endDate),"MMM dd, yyyy")]}),s.jsx(st,{children:(P==null?void 0:P.name)||"Unknown"}),s.jsxs(st,{children:[I.workingDays," days"]}),s.jsx(st,{children:I.withdrawalDate?ft(new Date(I.withdrawalDate),"MMM dd, yyyy"):"Pending"}),s.jsx(st,{children:s.jsx(Kt,{variant:I.status==="withdrawn"?"default":I.status==="withdrawal_pending"?"secondary":"destructive",children:(C=I.status)==null?void 0:C.replace("_"," ")})}),s.jsx(st,{className:"max-w-xs truncate",children:I.withdrawalReason||"No reason provided"})]},I.id)}),O.length===0&&s.jsx(fn,{children:s.jsx(st,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No withdrawal requests found"})})]})]})]})]})});return s.jsx(Er,{children:s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Employee Reports"}),s.jsx("p",{className:"text-muted-foreground",children:"View your personal leave data and history"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ne,{variant:i==="my-leave-history"?"default":"outline",onClick:()=>o("my-leave-history"),children:[s.jsx(Ma,{className:"h-4 w-4 mr-2"}),"My Leave History"]}),s.jsxs(ne,{variant:i==="my-leave-balances"?"default":"outline",onClick:()=>o("my-leave-balances"),children:[s.jsx(nz,{className:"h-4 w-4 mr-2"}),"My Leave Balances"]}),s.jsxs(ne,{variant:i==="my-withdrawal-history"?"default":"outline",onClick:()=>o("my-withdrawal-history"),children:[s.jsx(mo,{className:"h-4 w-4 mr-2"}),"My Withdrawal History"]})]})}),i==="my-leave-history"&&M(),i==="my-leave-balances"&&U(),i==="my-withdrawal-history"&&B()]})})}function xPe(){const[e,t]=N.useState("2025"),[r,n]=N.useState(""),[a,i]=N.useState("all"),[o,l]=N.useState("all"),[c,u]=N.useState("all"),d=localStorage.getItem("org_id")||"13";console.log("[HR Report] Current org_id:",d);const{toast:f}=qr(),h=oc(),{employees:m}=Ru(),g=Bt({mutationFn:async()=>(console.log("[ProRata] Triggering automatic pro-rata system"),console.log("[ProRata] External employee data available:",!!m,(m==null?void 0:m.length)||0),await Tt("/api/recalculate-prorata-balances",{method:"POST",body:JSON.stringify({externalEmployeeData:m||[]})})),onSuccess:R=>{console.log("[ProRata] Success:",R),f({title:"Pro-rata calculation complete",description:`Updated leave balances for ${R.processedEmployees} employees using actual joining dates`}),h.invalidateQueries({queryKey:["/api/employee-leave-balances/all"]}),h.invalidateQueries({queryKey:["/api/leave-balance-transactions/all"]})},onError:R=>{console.error("[ProRata] Error:",R),f({title:"Pro-rata calculation failed",description:R.message,variant:"destructive"})}});de.useEffect(()=>{if(console.log("[ProRata] Automatic pro-rata system check:",{hasExternalData:!!m,externalCount:(m==null?void 0:m.length)||0,isPending:g.isPending,orgId:d}),!g.isPending){const R=`prorata_triggered_${d}`;sessionStorage.getItem(R)?console.log("[ProRata] Already triggered for this session, skipping"):(console.log("[ProRata] Triggering automatic pro-rata system (creates assignments + pro-rata calculations)"),m&&m.length>0?console.log("[ProRata] Using external employee data for accurate joining dates"):console.log("[ProRata] External API not available, using fallback system for user 14674"),sessionStorage.setItem(R,"true"),g.mutate())}},[m,d,g.isPending]);const p=Bt({mutationFn:async()=>{console.log("[AfterEarning] Triggering balance recalculation for After Earning leave types");const R=await fetch("/api/recalculate-leave-balances",{method:"POST",headers:{"Content-Type":"application/json","X-Org-Id":d}});if(!R.ok)throw new Error("Recalculation failed");return R.json()},onSuccess:()=>{console.log("[AfterEarning] Balance recalculation completed successfully"),h.invalidateQueries({queryKey:["/api/employee-leave-balances/all"]}),h.invalidateQueries({queryKey:["/api/leave-balance-transactions/all"]})},onError:R=>{console.error("[AfterEarning] Balance recalculation failed:",R)}}),{data:y=[]}=Fe({queryKey:["/api/leave-types"]}),{data:b=[]}=Fe({queryKey:["/api/leave-variants"]}),{data:x=[]}=Fe({queryKey:["/api/employee-assignments"]}),{data:w=[]}=Fe({queryKey:["/api/employee-leave-balances/all"],queryFn:()=>fetch(`/api/employee-leave-balances/all?year=${e}`,{headers:{"X-Org-Id":d}}).then(R=>R.json()),staleTime:0,refetchOnMount:!0}),{data:v=[]}=Fe({queryKey:["/api/leave-balance-transactions/all"],queryFn:()=>fetch("/api/leave-balance-transactions/all",{headers:{"X-Org-Id":d}}).then(R=>R.json()),staleTime:0,refetchOnMount:!0}),{data:j=[]}=Fe({queryKey:["/api/leave-requests"],enabled:!0});de.useEffect(()=>{if(b&&b.length>0&&!p.isPending){const R=b.filter(se=>se.grantLeaves==="after_earning");if(R.length>0){const se=`after_earning_recalc_${d}_${new Date().toDateString()}`;sessionStorage.getItem(se)?console.log("[AfterEarning] Already recalculated today, skipping"):(console.log("[AfterEarning] Found After Earning leave types, triggering balance recalculation:",R.map(q=>({id:q.id,name:q.leaveVariantName}))),sessionStorage.setItem(se,"true"),p.mutate())}}},[b,d,p.isPending]),console.log("[HR Report] Debug data:"),console.log("All balances:",(w==null?void 0:w.length)||0),console.log("All transactions:",(v==null?void 0:v.length)||0),console.log("All assignments:",(x==null?void 0:x.length)||0),console.log("Leave variants:",(b==null?void 0:b.length)||0),console.log("External employees:",(m==null?void 0:m.length)||0),console.log("[HR Report] External employees sample:",m==null?void 0:m.slice(0,3)),console.log("[HR Report] JWT token available:",!!localStorage.getItem("jwt_token"));const S=m==null?void 0:m.find(R=>R.type_id_0||R.type_id_1);console.log("[HR Report] Employee with type_id data:",S);const _=m==null?void 0:m.find(R=>R.employee_number==="015"||R.user_id==="015");console.log("[HR Report] Employee 015 in external data:",_),(!m||m.length===0)&&(console.warn("[HR Report] ⚠️ No external employee data loaded. Location and Department will show N/A."),console.warn("[HR Report] 💡 To fix this, you need to provide a JWT token for external API access."),console.warn("[HR Report] 📋 Use /fix-location-department.html to setup JWT token.")),console.log("[ProRata] Recalculation status:",{hasTriggered:sessionStorage.getItem(`prorata_triggered_${d}`),isPending:g.isPending,isSuccess:g.isSuccess,isError:g.isError,error:g.error});const E=m==null?void 0:m.find(R=>R.employee_number==="DB061");console.log("[HR Report] DB061 Employee found:",E);const T=w==null?void 0:w.filter(R=>R.userId==="2162");console.log("[HR Report] User 2162 balances:",T);const D=x.map(R=>R.userId),O=w.map(R=>R.userId),A=Array.from(new Set([...D,...O]));console.log("[HR Report] Employee IDs from assignments:",D),console.log("[HR Report] Employee IDs from balances:",O),console.log("[HR Report] Combined employee IDs:",A);const M=A.flatMap(R=>{m==null||m.find(ge=>{var le,X,xe;return((le=ge.user_id)==null?void 0:le.toString())===R||((X=ge.id)==null?void 0:X.toString())===R||((xe=ge.employee_number)==null?void 0:xe.toString())===R});const L=x.filter(ge=>ge.userId===R).map(ge=>ge.leaveVariantId),q=w.filter(ge=>ge.userId===R),H=v.filter(ge=>ge.userId===R),K=q.map(ge=>ge.leaveVariantId),ce=[...new Set([...L,...K])],ue=new Map;return ce.forEach(ge=>{const le=b.find(xe=>xe.id===ge),X=q.find(xe=>xe.leaveVariantId===ge);if(le!=null&&le.leaveTypeId){ue.has(le.leaveTypeId)||ue.set(le.leaveTypeId,{variants:[],balance:void 0});const xe=ue.get(le.leaveTypeId);xe.variants.push(ge),X&&(!xe.balance||parseFloat(X.totalEntitlement||"0")>0)?xe.balance=X:xe.balance||(xe.balance={userId:R,leaveVariantId:ge,totalEntitlement:"0",currentBalance:"0",usedBalance:"0"})}}),R==="225"&&console.log(`[HR Report DUPLICATE FIX] User ${R}:`,{assignedVariantIds:L,balanceVariantIds:K,relevantVariantIds:ce,leaveTypeGroups:Array.from(ue.entries()).map(([ge,le])=>({leaveTypeId:ge,variants:le.variants,hasBalance:!!le.balance}))}),Array.from(ue.entries()).map(([ge,le])=>{const X=y.find($e=>$e.id===ge),xe=le.balance;ge===68&&console.log("[HR Report] Casual & Sick Leave mapping debug:",{userId:R,leaveTypeId:ge,leaveType:X,balance:xe,groupVariants:le.variants,allLeaveTypes:y==null?void 0:y.map($e=>({id:$e.id,name:$e.name})),allVariants:b==null?void 0:b.map($e=>({id:$e.id,name:$e.leaveVariantName,leaveTypeId:$e.leaveTypeId}))});const he=H.filter($e=>{const ot=b.find(Vt=>Vt.id===$e.leaveVariantId);return(ot==null?void 0:ot.leaveTypeId)===ge});R==="015"&&console.log(`[HR Report User 015 Debug] Leave Type ${ge}:`,{userTransactions:H.length,leaveTypeTransactions:he.length,userTransactionSample:H.slice(0,3),leaveTypeTransactionSample:he.slice(0,3),searchingForLeaveTypeId:ge,userTransactionVariantIds:[...new Set(H.map($e=>$e.leaveVariantId))]});const Me=he.filter($e=>{var ot;return $e.transactionType==="grant"&&((ot=$e.description)==null?void 0:ot.toLowerCase().includes("opening balance imported from excel"))}).sort(($e,ot)=>new Date(ot.createdAt).getTime()-new Date($e.createdAt).getTime()),Pe=Me.length>0?parseFloat(Me[0].amount||"0"):0,Be=b==null?void 0:b.find($e=>$e.id===(xe==null?void 0:xe.leaveVariantId)),Ie=y==null?void 0:y.find($e=>$e.id===(Be==null?void 0:Be.leaveTypeId)),W=(Be==null?void 0:Be.grantLeaves)==="after_earning"||(Ie==null?void 0:Ie.grantLeaves)==="after_earning"||(xe==null?void 0:xe.grantLeaves)==="after_earning",be=xe?parseFloat(xe.currentBalance||"0"):0,we=xe?parseFloat(xe.totalEntitlement||"0"):0;R==="015"&&console.log(`[HR Report Detection Debug] User ${R} Leave Type ${ge}:`,{variantData:Be,leaveTypeData:Ie,balance:xe,isAfterEarning:W,variantGrantLeaves:Be==null?void 0:Be.grantLeaves,leaveTypeGrantLeaves:Ie==null?void 0:Ie.grantLeaves,balanceGrantLeaves:xe==null?void 0:xe.grantLeaves});let z=0;if(W){const $e=m==null?void 0:m.find(qt=>{var et,Pt,Cr;return((et=qt.user_id)==null?void 0:et.toString())===R||((Pt=qt.id)==null?void 0:Pt.toString())===R||((Cr=qt.employee_number)==null?void 0:Cr.toString())===R}),ot=$e==null?void 0:$e.date_of_joining,Vt=new Date().getFullYear(),lt=new Date;if(ot&&Be){const qt=new Date(ot),et=qt.getFullYear();let Pt=0;if(et<Vt)Pt=lt.getMonth();else if(et===Vt){const Hn=lt.getMonth()-qt.getMonth();Pt=Math.max(0,Hn)}const Cr=(Be==null?void 0:Be.paidDaysInYear)||we||0;z=Math.round(Cr/12*Pt*2)/2,R==="015"&&console.log(`[HR Report After Earning Debug] User ${R} Leave Type ${ge}:`,{joiningDate:ot,joinDate:qt.toISOString(),currentYear:Vt,currentDate:lt.toISOString(),completedMonths:Pt,annualEntitlement:Cr,monthlyRate:Cr/12,calculatedEligibility:z,expectedFor6Months:18/12*6})}else z=be}else{const $e=m==null?void 0:m.find(lt=>{var qt,et,Pt;return((qt=lt.user_id)==null?void 0:qt.toString())===R||((et=lt.id)==null?void 0:et.toString())===R||((Pt=lt.employee_number)==null?void 0:Pt.toString())===R}),ot=$e==null?void 0:$e.date_of_joining,Vt=new Date().getFullYear();if(ot)if(new Date(ot).getFullYear()<Vt){const qt=(Be==null?void 0:Be.paidDaysInYear)||0;if(((Be==null?void 0:Be.grantFrequency)||"per_year")==="per_year")z=qt;else{const Cr=new Date().getMonth()+1;z=Math.round(qt/12*Cr*2)/2}}else{const qt=(Be==null?void 0:Be.paidDaysInYear)||0;if(((Be==null?void 0:Be.grantFrequency)||"per_year")==="per_year")z=qt;else{const Pt=new Date(ot),Cr=new Date(Vt,11,31),Hn=Math.max(0,(Cr.getFullYear()-Pt.getFullYear())*12+(Cr.getMonth()-Pt.getMonth())+1);z=Math.round(qt/12*Hn*2)/2}R==="14674"&&console.log(`[HR Report Pro-rata Debug] Jainish Shah User ${R} Leave Type ${ge} (${(Ie==null?void 0:Ie.name)||"Unknown"}):`,{joiningDate:ot,variantConfiguredAmount:qt,monthlyRate:qt/12,calculatedEligibility:z})}else z=be;if(R==="14674"||R==="58976"||R==="225"){const lt=(Be==null?void 0:Be.paidDaysInYear)||0,qt=(Be==null?void 0:Be.grantFrequency)||"per_year",et=$e!=null&&$e.date_of_joining?new Date($e.date_of_joining).getFullYear():null;console.log(`[HR Report Eligibility Debug] User ${R} (${(Ie==null?void 0:Ie.name)||"Unknown"}) Leave Type ${ge}:`,{balanceData:xe,currentBalanceRaw:xe==null?void 0:xe.currentBalance,currentBalanceInDays:be,openingBalance:Pe,calculatedEligibility:z,totalEntitlementInDays:we,variantConfiguredAmount:lt,grantFrequency:qt,isAfterEarning:W,joiningDate:$e==null?void 0:$e.date_of_joining,joinYear:et,joinedBeforeCurrentYear:et<2025,eligibilityCalculationMethod:qt==="per_year"?"full_annual_amount":"pro_rata_calculation"})}}const J=Pe>0?z+Pe:z;R==="58976"&&console.log(`[HR Report Ananth BS Debug] User 58976 Leave Type ${ge}:`,{leaveTypeName:Ie==null?void 0:Ie.name,eligibilityCalculated:z,openingBalanceFromTransactions:Pe,totalEligibilityFinal:J,balanceData:xe,currentBalanceInDays:be,totalEntitlementInDays:we,leaveTypeTransactions:(he==null?void 0:he.length)||0,isAfterEarning:W,employee:m==null?void 0:m.find($e=>{var ot,Vt,lt;return((ot=$e.user_id)==null?void 0:ot.toString())===R||((Vt=$e.id)==null?void 0:Vt.toString())===R||((lt=$e.employee_number)==null?void 0:lt.toString())===R})});const pe=j.filter($e=>$e.userId===R),ae=pe.filter($e=>{if($e.leaveTypeId===ge)return!0;const ot=b.find(Vt=>Vt.id===$e.leaveVariantId);return(ot==null?void 0:ot.leaveTypeId)===ge}),ye=ae.filter($e=>$e.status==="approved"),ve=ye.reduce(($e,ot)=>$e+parseFloat(ot.totalDays||"0"),0);R==="241"&&console.log(`[HR Report SANJAY FIXED] Leave Type ${ge} (${Ie==null?void 0:Ie.name}):`,{totalUserRequests:pe.length,leaveTypeRequests:ae.length,approvedRequests:ye.length,availedDays:ve,approvedRequestDetails:ye.map($e=>({id:$e.id,startDate:$e.startDate,endDate:$e.endDate,totalDays:$e.totalDays,reason:$e.reason}))}),(R==="239"||R==="241")&&console.log(`[HR Report AVAILED FIXED] User ${R}, Leave Type ${ge} (${Ie==null?void 0:Ie.name}):`,{availedAmount:ve,calculationMethod:"request-based (same as Leave Applications page)",approvedRequestsCount:ye.length}),he.filter($e=>{var ot,Vt;return($e.transactionType==="debit"||$e.transactionType==="deduction")&&(((ot=$e.description)==null?void 0:ot.toLowerCase().includes("lop"))||((Vt=$e.description)==null?void 0:Vt.toLowerCase().includes("loss of pay")))}).reduce(($e,ot)=>$e+Math.abs(parseFloat(ot.amount||"0")),0);const Re=he.filter($e=>{var ot;return($e.transactionType==="debit"||$e.transactionType==="deduction")&&((ot=$e.description)==null?void 0:ot.toLowerCase().includes("encash"))}).reduce(($e,ot)=>$e+Math.abs(parseFloat(ot.amount||"0")),0),Ue=he.filter($e=>{var ot;return($e.transactionType==="debit"||$e.transactionType==="deduction")&&((ot=$e.description)==null?void 0:ot.toLowerCase().includes("lapse"))}).reduce(($e,ot)=>$e+Math.abs(parseFloat(ot.amount||"0")),0),Ge=J-ve,vt=m==null?void 0:m.find($e=>{var ot,Vt,lt;return((ot=$e.user_id)==null?void 0:ot.toString())===R||((Vt=$e.id)==null?void 0:Vt.toString())===R||((lt=$e.employee_number)==null?void 0:lt.toString())===R});return(R==="015"||R==="128"||R==="225")&&console.log(`[HR Report MAPPING DEBUG] User ${R}:`,{employeeFound:!!vt,employeeData:vt,type_id_0:vt==null?void 0:vt.type_id_0,type_id_1:vt==null?void 0:vt.type_id_1,allExternalEmployees:m==null?void 0:m.length,lookupMatches:m==null?void 0:m.filter($e=>{var ot,Vt,lt;return((ot=$e.user_id)==null?void 0:ot.toString())===R||((Vt=$e.id)==null?void 0:Vt.toString())===R||((lt=$e.employee_number)==null?void 0:lt.toString())===R})}),{employeeNo:(vt==null?void 0:vt.employee_number)||R,employeeName:(vt==null?void 0:vt.user_name)||(vt!=null&&vt.first_name&&(vt!=null&&vt.last_name)?`${vt.first_name} ${vt.last_name}`:`Employee ${R}`),location:(vt==null?void 0:vt.type_id_0)||"N/A",department:(vt==null?void 0:vt.type_id_1)||"N/A",leaveType:(Ie==null?void 0:Ie.name)||(X==null?void 0:X.name)||"Unknown",opBalance:Number(Pe||0).toFixed(1),eligibility:Number(z||0).toFixed(1),totalEligibility:Number(J||0).toFixed(1),availed:Number(ve||0).toFixed(1),leaveLapsed:Number(Ue||0).toFixed(1),leaveEncashed:Number(Re||0).toFixed(1),closingBalance:Number(Ge||0).toFixed(1),userId:R,leaveTypeId:(Ie==null?void 0:Ie.id)||(X==null?void 0:X.id)}})}).filter(Boolean),U=M.filter(R=>R.leaveType==="Casual & Sick Leave");console.log("[HR Report] Casual & Sick Leave data found:",U.length,U),U.forEach((R,se)=>{se<5&&console.log(`[HR Report] Row ${se}: Employee No=${R.employeeNo}, Name=${R.employeeName}, UserId=${R.userId}, Eligibility=${R.eligibility}`),R.employeeNo==="015"&&console.log("[HR Report] FOUND ASHWANI KHANNA (015):",{employeeNo:R.employeeNo,employeeName:R.employeeName,userId:R.userId,eligibility:R.eligibility,totalEligibility:R.totalEligibility,openingBalance:R.opBalance,availed:R.availed,closingBalance:R.closingBalance,fullRowData:R})});const B=[...new Set(M.map(R=>R.leaveType))];console.log("[HR Report] All leave types in report data:",B),console.log("[HR Report] Selected leave type filter:",c),console.log("[HR Report] Available leave types for dropdown:",y==null?void 0:y.map(R=>({id:R.id,name:R.name})));const I=M.filter(R=>{var K;const se=!r||R.employeeName.toLowerCase().includes(r.toLowerCase())||R.employeeNo.toString().includes(r),L=a==="all"||R.location===a,q=o==="all"||R.department===o,H=c==="all"||((K=R.leaveTypeId)==null?void 0:K.toString())===c;return R.leaveType==="Casual & Sick Leave"&&console.log("[HR Report] Casual & Sick Leave row filter debug:",{rowLeaveTypeId:R.leaveTypeId,selectedLeaveType:c,matchesLeaveType:H,rowData:R}),se&&L&&q&&H}),P=[...new Set(M.map(R=>R.location))].filter(Boolean),C=[...new Set(M.map(R=>R.department))].filter(Boolean),F=()=>{const se=[["Employee No","Employee Name","Location","Department","Leave Type","Op Balance","Eligibility","Total Eligibility","Availed","Leave Lapsed","Leave Encashed","Closing Balance"].join(","),...I.map(K=>[K.employeeNo,K.employeeName,K.location,K.department,K.leaveType,K.opBalance,K.eligibility,K.totalEligibility,K.availed,K.leaveLapsed,K.leaveEncashed,K.closingBalance].map(ce=>`"${ce}"`).join(","))].join(`
`),L=new Blob([se],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a"),H=URL.createObjectURL(L);q.setAttribute("href",H),q.setAttribute("download",`HR_Leave_Balance_Report_${e}.csv`),q.style.visibility="hidden",document.body.appendChild(q),q.click(),document.body.removeChild(q)};return s.jsx(Er,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-full mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ma,{className:"h-4 w-4 text-blue-600"})}),s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"HR Leave Balance Report"})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs(ne,{onClick:F,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})})]}),s.jsxs(Ee,{className:"mb-6",children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(iv,{className:"h-4 w-4 text-gray-500"}),s.jsx(Et,{className:"text-lg",children:"Filters"})]})}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Employee"}),s.jsx(pt,{placeholder:"Name or Employee No...",value:r,onChange:R=>n(R.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),s.jsxs(Dt,{value:e,onValueChange:t,children:[s.jsx(At,{children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"2025",children:"2025"}),s.jsx(_e,{value:"2024",children:"2024"}),s.jsx(_e,{value:"2023",children:"2023"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),s.jsxs(Dt,{value:a,onValueChange:i,children:[s.jsx(At,{children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Locations"}),P.map(R=>s.jsx(_e,{value:R,children:R},R))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsxs(Dt,{value:o,onValueChange:l,children:[s.jsx(At,{children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Departments"}),C.map(R=>s.jsx(_e,{value:R,children:R},R))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Leave Type"}),s.jsxs(Dt,{value:c,onValueChange:u,children:[s.jsx(At,{children:s.jsx(kt,{})}),s.jsxs(Ct,{children:[s.jsx(_e,{value:"all",children:"All Leave Types"}),y.map(R=>s.jsx(_e,{value:R.id.toString(),children:R.name},R.id))]})]})]})]})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs(Et,{className:"text-lg",children:["Leave Balance Report (",I.length," records)"]})}),s.jsx(De,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Hl,{children:[s.jsx(zl,{children:s.jsxs(fn,{className:"bg-gray-50",children:[s.jsx(dt,{className:"font-semibold",children:"Employee No"}),s.jsx(dt,{className:"font-semibold",children:"Employee Name"}),s.jsx(dt,{className:"font-semibold",children:"Location"}),s.jsx(dt,{className:"font-semibold",children:"Department"}),s.jsx(dt,{className:"font-semibold",children:"Leave Type"}),s.jsx(dt,{className:"font-semibold text-right",children:"Op Balance"}),s.jsx(dt,{className:"font-semibold text-right",children:"Eligibility"}),s.jsx(dt,{className:"font-semibold text-right",children:"Total Eligibility"}),s.jsx(dt,{className:"font-semibold text-right",children:"Availed"}),s.jsx(dt,{className:"font-semibold text-right",children:"Leave Lapsed"}),s.jsx(dt,{className:"font-semibold text-right",children:"Leave Encashed"}),s.jsx(dt,{className:"font-semibold text-right",children:"Closing Balance"})]})}),s.jsx(ql,{children:I.length===0?s.jsx(fn,{children:s.jsx(st,{colSpan:12,className:"text-center py-8 text-gray-500",children:"No data available for the selected filters"})}):I.map((R,se)=>s.jsxs(fn,{className:se%2===0?"bg-white":"bg-gray-50",children:[s.jsx(st,{className:"font-medium",children:R.employeeNo}),s.jsx(st,{children:R.employeeName}),s.jsx(st,{children:R.location}),s.jsx(st,{children:R.department}),s.jsx(st,{children:R.leaveType}),s.jsx(st,{className:"text-right",children:R.opBalance}),s.jsx(st,{className:"text-right",children:R.eligibility}),s.jsx(st,{className:"text-right font-medium",children:R.totalEligibility}),s.jsx(st,{className:"text-right",children:R.availed}),s.jsx(st,{className:"text-right",children:R.leaveLapsed}),s.jsx(st,{className:"text-right",children:R.leaveEncashed}),s.jsx(st,{className:"text-right font-medium text-green-600",children:R.closingBalance})]},`${R.userId}-${R.leaveTypeId}`))})]})})})]})]})})})}function yPe(){const{toast:e}=qr(),t=oc(),{data:r,isLoading:n}=Fe({queryKey:["/api/collaborative-leave-settings"]}),a=Bt({mutationFn:async u=>await Tt("PUT","/api/collaborative-leave-settings",u),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/collaborative-leave-settings"]}),e({title:"Settings Updated",description:"Collaborative leave settings have been saved successfully."})},onError:u=>{e({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}}),[i,o]=N.useState({enabled:!1,requireManagerApproval:!1,enableEmailNotifications:!0,closureReportRequired:!0,managerReviewRequired:!0});N.useEffect(()=>{r&&typeof r=="object"&&o({enabled:r.enabled??!1,requireManagerApproval:r.requireManagerApproval??!1,enableEmailNotifications:r.enableEmailNotifications??!0,closureReportRequired:r.closureReportRequired??!0,managerReviewRequired:r.managerReviewRequired??!0})},[r]);const l=()=>{a.mutate(i)},c=(u,d)=>{o(f=>({...f,[u]:d}))};return n?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(Dj,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ri,{className:"h-7 w-7 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Feature Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure collaborative leave management features"})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vn,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx(Et,{children:"Collaborative Leave Management"}),s.jsx(of,{children:"Enable employees to assign tasks to colleagues during leave periods"})]})]})}),s.jsxs(De,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{children:[s.jsx(it,{className:"text-lg font-medium",children:"Enable Collaborative Leave"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Allow employees to create task assignments when applying for leave"})]}),s.jsx(si,{checked:i.enabled,onCheckedChange:u=>c("enabled",u),className:"scale-125"})]}),i.enabled&&s.jsxs("div",{className:"space-y-6 pl-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[s.jsx(sz,{className:"h-5 w-5 mr-2 text-gray-500"}),"Approval & Review Settings"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(it,{children:"Manager Approval Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Require manager approval for task assignments"})]}),s.jsx(si,{checked:i.requireManagerApproval,onCheckedChange:u=>c("requireManagerApproval",u)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(it,{children:"Closure Report Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Require completion reports after leave"})]}),s.jsx(si,{checked:i.closureReportRequired,onCheckedChange:u=>c("closureReportRequired",u)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(it,{children:"Manager Review Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Require manager review of completion reports"})]}),s.jsx(si,{checked:i.managerReviewRequired,onCheckedChange:u=>c("managerReviewRequired",u)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[s.jsx(lz,{className:"h-5 w-5 mr-2 text-gray-500"}),"Notification Settings"]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs(it,{className:"flex items-center",children:[s.jsx(uF,{className:"h-4 w-4 mr-2"}),"Email Notifications"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Send email notifications to assignees and managers"})]}),s.jsx(si,{checked:i.enableEmailNotifications,onCheckedChange:u=>c("enableEmailNotifications",u)})]})]})]}),s.jsx("div",{className:"flex justify-end pt-6 border-t",children:s.jsxs(ne,{onClick:l,disabled:a.isPending,className:"px-8",children:[a.isPending&&s.jsx(Dj,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Settings"]})})]})]})]})}var cT="Radio",[vPe,l7]=Ka(cT),[wPe,bPe]=vPe(cT),c7=N.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=N.useState(null),m=nr(t,y=>h(y)),g=N.useRef(!1),p=f?u||!!f.closest("form"):!0;return s.jsxs(wPe,{scope:r,checked:a,disabled:o,children:[s.jsx(It.button,{type:"button",role:"radio","aria-checked":a,"data-state":h7(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:jt(e.onClick,y=>{a||c==null||c(),p&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),p&&s.jsx(f7,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});c7.displayName=cT;var u7="RadioIndicator",d7=N.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=bPe(u7,r);return s.jsx(bi,{present:n||i.checked,children:s.jsx(It.span,{"data-state":h7(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});d7.displayName=u7;var jPe="RadioBubbleInput",f7=N.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=N.useRef(null),l=nr(o,i),c=_v(r),u=hv(t);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx(It.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});f7.displayName=jPe;function h7(e){return e?"checked":"unchecked"}var SPe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I1="RadioGroup",[NPe,YPe]=Ka(I1,[Ov,l7]),m7=Ov(),p7=l7(),[_Pe,EPe]=NPe(I1),g7=N.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=m7(r),g=Tv(u),[p,y]=Ki({prop:i,defaultProp:a??null,onChange:f,caller:I1});return s.jsx(_Pe,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:y,children:s.jsx(s6,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:s.jsx(It.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});g7.displayName=I1;var x7="RadioGroupItem",y7=N.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=EPe(x7,r),o=i.disabled||n,l=m7(r),c=p7(r),u=N.useRef(null),d=nr(t,u),f=i.value===a.value,h=N.useRef(!1);return N.useEffect(()=>{const m=p=>{SPe.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),s.jsx(i6,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(c7,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:jt(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:jt(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});y7.displayName=x7;var TPe="RadioGroupIndicator",v7=N.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=p7(r);return s.jsx(d7,{...a,...n,ref:t})});v7.displayName=TPe;var w7=g7,b7=y7,APe=v7;const j7=N.forwardRef(({className:e,...t},r)=>s.jsx(w7,{className:rt("grid gap-2",e),...t,ref:r}));j7.displayName=w7.displayName;const CN=N.forwardRef(({className:e,...t},r)=>s.jsx(b7,{ref:r,className:rt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(APe,{className:"flex items-center justify-center",children:s.jsx(az,{className:"h-2.5 w-2.5 fill-current text-current"})})}));CN.displayName=b7.displayName;function CPe(){const{toast:e}=qr(),[t,r]=N.useState(!1),[n,a]=N.useState(null),[i,o]=N.useState([]),[l,c]=N.useState(!1),[u,d]=N.useState({title:"",startDate:"",endDate:"",reason:"",allowLeaves:"not-allowed",allowedLeaveTypes:[],assignedEmployees:[]}),[f,h]=N.useState(0),{data:m=[]}=Fe({queryKey:["/api/leave-types"],staleTime:5*60*1e3}),{data:g=[],isLoading:p,error:y}=Fe({queryKey:["/api/blackout-periods"],staleTime:5*60*1e3});console.log("BlackoutPeriods Query State:",{isLoading:p,periodsCount:g.length,error:y==null?void 0:y.message});const b=Bt({mutationFn:async O=>{const A=await fetch("/api/blackout-periods",{method:"POST",headers:{"Content-Type":"application/json","X-Org-Id":localStorage.getItem("org_id")||""},body:JSON.stringify(O)});if(!A.ok)throw new Error("Failed to create blackout period");return A.json()},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/blackout-periods"]}),e({title:"Success",description:"Blackout period created successfully"}),r(!1),v()},onError:()=>{e({title:"Error",description:"Failed to create blackout period",variant:"destructive"})}}),x=Bt({mutationFn:async({id:O,data:A})=>{const M=await fetch(`/api/blackout-periods/${O}`,{method:"PUT",headers:{"Content-Type":"application/json","X-Org-Id":localStorage.getItem("org_id")||""},body:JSON.stringify(A)});if(!M.ok)throw new Error("Failed to update blackout period");return M.json()},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/blackout-periods"]}),e({title:"Success",description:"Blackout period updated successfully"}),a(null),v()},onError:()=>{e({title:"Error",description:"Failed to update blackout period",variant:"destructive"})}}),w=Bt({mutationFn:async O=>{if(!(await fetch(`/api/blackout-periods/${O}`,{method:"DELETE",headers:{"X-Org-Id":localStorage.getItem("org_id")||""}})).ok)throw new Error("Failed to delete blackout period")},onSuccess:()=>{qe.invalidateQueries({queryKey:["/api/blackout-periods"]}),e({title:"Success",description:"Blackout period deleted successfully"})},onError:()=>{e({title:"Error",description:"Failed to delete blackout period",variant:"destructive"})}}),v=()=>{d({title:"",startDate:"",endDate:"",reason:"",allowLeaves:"not-allowed",allowedLeaveTypes:[],assignedEmployees:[]})},j=()=>{if(!u.title||!u.startDate||!u.endDate){e({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const O={...u,allowLeaves:u.allowLeaves==="allowed"};n?x.mutate({id:n.id,data:O}):b.mutate(O)},S=O=>{a(O),d({title:O.title,startDate:O.startDate,endDate:O.endDate,reason:O.reason,allowLeaves:O.allowLeaves?"allowed":"not-allowed",allowedLeaveTypes:O.allowedLeaveTypes||[],assignedEmployees:O.assignedEmployees||[]}),r(!0)},_=O=>{window.confirm("Are you sure you want to delete this blackout period?")&&w.mutate(O)},E=(O,A)=>{d(A?M=>({...M,allowedLeaveTypes:[...M.allowedLeaveTypes,O]}):M=>({...M,allowedLeaveTypes:M.allowedLeaveTypes.filter(U=>U!==O)}))},T=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=(O,A)=>{const M=new Date(O),U=new Date(A),B=Math.abs(U.getTime()-M.getTime()),I=Math.ceil(B/(1e3*60*60*24));return`${I} day${I!==1?"s":""}`};return s.jsx(Er,{children:s.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Black Out Periods"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage periods when employees cannot take leave"})]}),s.jsxs(Rn,{open:t,onOpenChange:r,children:[s.jsx(pf,{asChild:!0,children:s.jsxs(ne,{onClick:()=>{a(null),v()},children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Set Block-out period"]})}),s.jsxs(Mn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(Fn,{children:[s.jsx(Ln,{children:n?"Edit Block-out period":"Set Block-out period"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Employees will not be advised against taking a leave during a block-out period"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"title",children:"Block-out title"}),s.jsx(pt,{id:"title",value:u.title,onChange:O=>d(A=>({...A,title:O.target.value})),placeholder:"e.g. Sprint 25"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(it,{htmlFor:"startDate",children:"Start date"}),s.jsx(pt,{id:"startDate",type:"date",value:u.startDate,onChange:O=>d(A=>({...A,startDate:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(it,{htmlFor:"endDate",children:"End date"}),s.jsx(pt,{id:"endDate",type:"date",value:u.endDate,onChange:O=>d(A=>({...A,endDate:O.target.value}))})]})]}),u.startDate&&u.endDate&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm text-blue-800",children:["Block-out for a stretch of"," ",D(u.startDate,u.endDate)," ","(10 working, 2 non-working days)"]}),s.jsxs("div",{children:[s.jsx(it,{htmlFor:"reason",children:"Reason For Blackout"}),s.jsx(Tn,{id:"reason",value:u.reason,onChange:O=>d(A=>({...A,reason:O.target.value})),placeholder:"e.g. Migrate",rows:3})]}),s.jsxs("div",{children:[s.jsx(it,{children:"Do you want to allow leaves during this block-out period"}),s.jsxs(j7,{value:u.allowLeaves,onValueChange:O=>d(A=>({...A,allowLeaves:O})),className:"flex gap-6 mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(CN,{value:"allowed",id:"allowed"}),s.jsx(it,{htmlFor:"allowed",className:"text-sm font-normal",children:"Allowed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(CN,{value:"not-allowed",id:"not-allowed"}),s.jsx(it,{htmlFor:"not-allowed",className:"text-sm font-normal",children:"Not Allowed"})]})]})]}),u.allowLeaves==="allowed"&&s.jsxs("div",{children:[s.jsx(it,{children:"Leave types that are allowed as exceptions"}),s.jsx("div",{className:"mt-2 space-y-2",children:m.map(O=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{id:O.id.toString(),checked:u.allowedLeaveTypes.includes(O.id.toString()),onCheckedChange:A=>E(O.id.toString(),!!A)}),s.jsx(it,{htmlFor:O.id.toString(),className:"text-sm font-normal",children:O.name})]},O.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(it,{children:"Assign to Employees"}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>c(!0),children:"Assign Employees"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.assignedEmployees.length>0?`${u.assignedEmployees.length} employee${u.assignedEmployees.length!==1?"s":""} assigned`:"Click to assign employees"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ne,{variant:"outline",onClick:()=>{r(!1),a(null),v()},children:"Discard"}),s.jsx(ne,{onClick:j,disabled:b.isPending||x.isPending,children:n?"Update Block-out period":"Set Block-out period"})]})]})]}),s.jsx(Rn,{open:l,onOpenChange:c,children:s.jsxs(Mn,{className:"max-w-6xl max-h-[90vh] z-[60] flex flex-col",children:[s.jsx(Fn,{children:s.jsx(Ln,{children:"Assign Employees to Blackout Period"})}),s.jsx(n0,{onClose:()=>c(!1),onAssign:O=>{const A=O.map(M=>parseInt(M.user_id||M.id));d(M=>({...M,assignedEmployees:A})),c(!1)},preSelectedEmployees:u.assignedEmployees.filter(O=>O!=null).map(O=>({user_id:O.toString()})),applicableGenders:[]})]})})]}),s.jsx("div",{className:"space-y-4",children:p?s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsx("p",{className:"text-center text-gray-500",children:"Loading blackout periods..."})})}):g.length===0?s.jsx(Ee,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Pr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blackout periods set"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first blackout period to restrict leave applications during specific periods."}),s.jsxs(ne,{onClick:()=>r(!0),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Set Block-out period"]})]})})}):g.map(O=>s.jsxs(Ee,{children:[s.jsx(_t,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Et,{className:"text-lg",children:O.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>S(O),children:s.jsx(Nu,{className:"w-4 h-4"})}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>_(O.id),disabled:w.isPending,children:s.jsx(Ta,{className:"w-4 h-4"})})]})]})}),s.jsxs(De,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),s.jsxs("p",{className:"text-sm",children:[T(O.startDate)," -"," ",T(O.endDate)]}),s.jsx("p",{className:"text-xs text-gray-500",children:D(O.startDate,O.endDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Leave Policy"}),s.jsx("p",{className:"text-sm",children:O.allowLeaves?s.jsx("span",{className:"text-green-600",children:"Allowed with exceptions"}):s.jsx("span",{className:"text-red-600",children:"Not allowed"})}),O.allowLeaves&&O.allowedLeaveTypes&&O.allowedLeaveTypes.length>0&&s.jsxs("p",{className:"text-xs text-gray-500",children:[O.allowedLeaveTypes.length," exception",O.allowedLeaveTypes.length!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Assigned Employees"}),s.jsx("p",{className:"text-sm",children:O.assignedEmployees&&O.assignedEmployees.length>0?`${O.assignedEmployees.length} employee${O.assignedEmployees.length!==1?"s":""}`:"Not assigned"})]})]}),O.reason&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Reason"}),s.jsx("p",{className:"text-sm text-gray-700",children:O.reason})]})]})]},O.id))})]})})}function DPe(){const[e,t]=N.useState(!1),[r,n]=N.useState(!1),a=()=>{t(!0),setTimeout(()=>t(!1),3e3)},i=()=>{n(!0),setTimeout(()=>n(!1),3e3)};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Dancing Loader Demo"}),s.jsx("p",{className:"text-gray-600",children:"Check out our animated dancing loader in action!"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Small Loader"})}),s.jsx(De,{className:"text-center",children:s.jsx(Oc,{size:"sm",text:"Small dancing loader"})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Medium Loader"})}),s.jsx(De,{className:"text-center",children:s.jsx(Oc,{size:"md",text:"Medium dancing loader"})})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Large Loader"})}),s.jsx(De,{className:"text-center",children:s.jsx(Oc,{size:"lg",text:"Large dancing loader"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Full Page Loader"})}),s.jsxs(De,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"This loader covers the entire screen and is perfect for page transitions or major operations."}),s.jsx(ne,{onClick:a,className:"w-full",children:"Show Full Page Loader (3s)"})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Inline Loader"})}),s.jsxs(De,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"This loader is perfect for loading content within a specific section."}),s.jsx(ne,{onClick:i,className:"w-full mb-4",children:"Show Inline Loader (3s)"}),r&&s.jsx(lee,{text:"Loading content..."})]})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Loader Without Text"})}),s.jsx(De,{className:"text-center",children:s.jsx(Oc,{size:"md",text:""})})]})]}),e&&s.jsx(oee,{text:"Loading amazing content..."})]})}function kPe(){const[e,t]=hM("/id/:token"),[,r]=Uf();return console.log("[TokenHandler] Component rendered - match:",e,"params:",t),console.log("[TokenHandler] Route pattern: /id/:token"),console.log("[TokenHandler] Window location:",window.location.pathname),N.useEffect(()=>{if(console.log("[TokenHandler] useEffect - match:",e,"params:",t),console.log("[TokenHandler] Current location:",window.location.pathname),e&&(t!=null&&t.token)){console.log("[TokenHandler] Processing token:",t.token);const n=QOe(t.token);n?(console.log("Decoded JWT payload:",n),JOe(n,t.token).then(()=>{console.log("=== TOKEN HANDLER STORAGE DEBUG ==="),console.log("localStorage keys after storage:",Object.keys(localStorage)),console.log("org_id:",localStorage.getItem("org_id")),console.log("user_id:",localStorage.getItem("user_id")),console.log("jwt_token present:",!!localStorage.getItem("jwt_token")),console.log("role_name:",localStorage.getItem("role_name")),console.log("==================================="),console.log("Redirecting to home page..."),r("/")})):(console.error("Failed to decode JWT token"),r("/"))}},[e,t,r]),s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Processing authentication..."})]})})}function OPe(){var i,o,l,c;const{data:e,isLoading:t,refetch:r}=Fe({queryKey:["/api/pending-time-based-approvals"],refetchInterval:3e4}),n=Bt({mutationFn:async()=>await Tt("/api/process-time-based-approvals","POST"),onSuccess:u=>{var d;Qs({title:"Time-based Approvals Processed",description:`Processed ${u.processed} requests`,variant:((d=u.errors)==null?void 0:d.length)>0?"destructive":"default"}),r()},onError:u=>{Qs({title:"Error Processing Approvals",description:u.message,variant:"destructive"})}}),a=u=>{const d=new Date(u),f=new Date,h=d.getTime()-f.getTime(),m=Math.floor(h/(1e3*60*60)),g=Math.floor(h%(1e3*60*60)/(1e3*60));return h<0?`${Math.abs(m)}h ${Math.abs(g)}m ago (Ready for processing)`:`In ${m}h ${g}m`};return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Time-Based Auto-Approval Test"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Monitor and process time-based auto-approval requests"})]}),s.jsxs(ne,{onClick:()=>n.mutate(),disabled:n.isPending,className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),n.isPending?"Processing...":"Process Due Approvals"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(Ee,{children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Et,{className:"text-sm font-medium",children:"Pending Time-Based Approvals"}),s.jsx(ea,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((i=e==null?void 0:e.pendingApprovals)==null?void 0:i.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests with scheduled auto-approval"})]})]}),s.jsxs(Ee,{children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Et,{className:"text-sm font-medium",children:"Ready for Processing"}),s.jsx(rf,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:((o=e==null?void 0:e.pendingApprovals)==null?void 0:o.filter(u=>new Date(u.scheduledAt)<=new Date).length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approvals past scheduled time"})]})]}),s.jsxs(Ee,{children:[s.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Et,{className:"text-sm font-medium",children:"Auto-Refresh"}),s.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-sm",children:"Every 30 seconds"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Page refreshes automatically"})]})]})]}),s.jsxs(Ee,{children:[s.jsx(_t,{children:s.jsx(Et,{children:"Pending Time-Based Approvals"})}),s.jsx(De,{children:t?s.jsx("div",{className:"text-center py-8",children:"Loading..."}):((l=e==null?void 0:e.pendingApprovals)==null?void 0:l.length)===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending time-based approvals found"}):s.jsx("div",{className:"space-y-4",children:(c=e==null?void 0:e.pendingApprovals)==null?void 0:c.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"font-medium",children:["Leave Request #",u.id]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["User ID: ",u.userId," | Leave Type: ",u.leaveTypeId]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Current Step: ",u.currentStep," | Workflow: ",u.workflowId]})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx(Kt,{variant:new Date(u.scheduledAt)<=new Date?"destructive":"secondary",children:new Date(u.scheduledAt)<=new Date?"Ready":"Scheduled"}),s.jsx("div",{className:"text-xs text-gray-500",children:a(u.scheduledAt)}),s.jsx("div",{className:"text-xs text-gray-400",children:new Date(u.scheduledAt).toLocaleString()})]})]},u.id))})})]})]})}function wb({children:e,permission:t,fallback:r="/"}){const{canViewScreen:n,loading:a}=Yp();return a?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n(t)?s.jsx(s.Fragment,{children:e}):s.jsx(NW,{to:r})}function PPe(){const{isAuthenticated:e,isLoading:t}=Kp();return N.useEffect(()=>{MG(),localStorage.getItem("leave_year")||(localStorage.setItem("leave_year","January-2025-December 2025"),console.log("[App] Set default leave_year: January-2025-December 2025"));const r=window.location.pathname;if(r.startsWith("/id/")){const n=r.substring(4);console.log("=== PROCESSING JWT TOKEN ==="),console.log("Found token in URL:",n);try{const a=n.split(".");if(a.length===3){const i=a[1],o=i+"=".repeat((4-i.length%4)%4),l=atob(o),c=JSON.parse(l);console.log("Decoded JWT payload:",c);const d=localStorage.getItem("user_id")||c.user_id;localStorage.setItem("org_id",c.org_id),localStorage.setItem("user_id",d),localStorage.setItem("role_id",c.role_id),localStorage.setItem("role_name",c.role_name),localStorage.setItem("user_type_id",c.user_type_id),localStorage.setItem("jwt_token",n),console.log("JWT processing - preserved user_id:",d,"from JWT:",c.user_id),console.log("JWT data stored, redirecting to home..."),window.location.href="/";return}}catch(a){console.error("Failed to process JWT token:",a)}}console.log("=== LOCALSTORAGE DEBUG ==="),console.log("Keys in localStorage:",Object.keys(localStorage)),console.log("org_id:",localStorage.getItem("org_id")),console.log("leave_year:",localStorage.getItem("leave_year")),console.log("user_id:",localStorage.getItem("user_id")),console.log("jwt_token:",localStorage.getItem("jwt_token")?"exists":"missing"),console.log("role_name:",localStorage.getItem("role_name")),console.log("========================"),console.log("======================")},[]),t?s.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):s.jsxs(SW,{children:[s.jsx(gr,{path:"/test",children:()=>s.jsx("div",{children:"Test route works!"})}),s.jsx(gr,{path:"/id/:token",component:kPe}),(window.location.pathname.startsWith("/id/"),null),e?s.jsxs(s.Fragment,{children:[s.jsx(gr,{path:"/",component:AOe}),s.jsx(gr,{path:"/employee-overview",component:()=>s.jsx(wb,{permission:"employeeOverview",children:s.jsx(Er,{children:s.jsx(X9,{})})})}),s.jsx(gr,{path:"/import-leave-data",component:COe}),s.jsx(gr,{path:"/leave-applications",component:k4}),s.jsx(gr,{path:"/applications",component:k4}),s.jsx(gr,{path:"/holidays",component:POe}),s.jsx(gr,{path:"/compensatory-off",component:LOe}),s.jsx(gr,{path:"/pto",component:WOe}),s.jsx(gr,{path:"/task-manager",component:HOe}),s.jsx(gr,{path:"/overview",component:ePe}),s.jsx(gr,{path:"/approvals",component:tPe}),s.jsx(gr,{path:"/employees",component:aPe}),s.jsx(gr,{path:"/workflows",component:iPe}),s.jsx(gr,{path:"/roles",component:lPe}),s.jsx(gr,{path:"/admin/leave-types",component:dPe}),s.jsx(gr,{path:"/admin/comp-off",component:cPe}),s.jsx(gr,{path:"/admin/pto",component:uPe}),s.jsx(gr,{path:"/admin/blackout-periods",component:()=>s.jsx(wb,{permission:"adminSettings",children:s.jsx(CPe,{})})}),s.jsx(gr,{path:"/admin/feature-settings",component:()=>s.jsx(wb,{permission:"adminSettings",children:s.jsx(Er,{children:s.jsx(yPe,{})})})}),s.jsx(gr,{path:"/admin/reports/:reportType?",component:P4}),s.jsx(gr,{path:"/admin-reports/:reportType?",component:P4}),s.jsx(gr,{path:"/hr-leave-balance-report",component:xPe}),s.jsx(gr,{path:"/reports/:reportType?",component:gPe}),s.jsx(gr,{path:"/leave-types/:leaveTypeName",component:hPe}),s.jsx(gr,{path:"/loader-demo",component:DPe}),s.jsx(gr,{path:"/time-based-approval-test",component:OPe})]}):s.jsx(gr,{path:"/",component:$G}),s.jsx(gr,{component:LG})]})}function IPe(){return s.jsx(zW,{client:qe,children:s.jsxs(OG,{children:[s.jsx(Kz,{}),s.jsx(PPe,{})]})})}rM(document.getElementById("root")).render(s.jsx(IPe,{}));
